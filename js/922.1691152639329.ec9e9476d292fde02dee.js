"use strict";(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[922],{35451:(e,t,n)=>{t.GR={name:"CheckCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z",yOffset:0,xOffset:0},t.rE=n(35183).createIcon(t.GR),t.ZP=t.rE},84564:(e,t,n)=>{t.MX={name:"ExclamationCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.$O=n(35183).createIcon(t.MX),t.ZP=t.$O},19694:(e,t,n)=>{t.RI={name:"ExclamationTriangleIcon",height:512,width:576,svgPath:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.LP=n(35183).createIcon(t.RI),t.ZP=t.LP},31369:(e,t,n)=>{t.nQ={name:"InfoCircleIcon",height:512,width:512,svgPath:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z",yOffset:0,xOffset:0},t.uM=n(35183).createIcon(t.nQ),t.ZP=t.uM},12294:(e,t,n)=>{t.YX={name:"PlusIcon",height:512,width:448,svgPath:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",yOffset:0,xOffset:0},t.pO=n(35183).createIcon(t.YX),t.ZP=t.pO},77669:(e,t,n)=>{t.B9={name:"TimesCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z",yOffset:0,xOffset:0},t.xD=n(35183).createIcon(t.B9),t.ZP=t.xD},33606:(e,t,n)=>{t.sk={name:"TimesIcon",height:512,width:352,svgPath:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",yOffset:0,xOffset:0},t.q1=n(35183).createIcon(t.sk),t.ZP=t.q1},81672:(e,t,n)=>{n.d(t,{Z:()=>D});var a,r,l,i,o,c,s=n(87462),u=n(45987),d=n(30168),m=n(92950),p=n.n(m),f=n(45697),g=n.n(f),v=n(1085),h=n(35451),y=n(84564),E=n(19694),b=n(31369),O=n(77669),k=n(29163),P=["isOpen","title","label","variant","children"],_=(0,k.default)(y.ZP)(a||(a=(0,d.Z)(["\n  color: var(--pf-global--danger-color--100);\n"]))),S=(0,k.default)(O.ZP)(r||(r=(0,d.Z)(["\n  color: var(--pf-global--danger-color--100);\n"]))),Z=(0,k.default)(b.ZP)(l||(l=(0,d.Z)(["\n  color: var(--pf-global--info-color--100);\n"]))),w=(0,k.default)(h.ZP)(i||(i=(0,d.Z)(["\n  color: var(--pf-global--success-color--100);\n"]))),x=(0,k.default)(E.ZP)(o||(o=(0,d.Z)(["\n  color: var(--pf-global--warning-color--100);\n"]))),T=k.default.div(c||(c=(0,d.Z)(["\n  display: flex;\n  svg {\n    margin-right: 16px;\n  }\n"]))),C=function(e){var t=e.isOpen,n=e.title,a=e.label,r=void 0===a?"Alert modal":a,l=e.variant,i=void 0===l?"warning":l,o=e.children,c=(0,u.Z)(e,P),d={danger:p().createElement(_,{size:"lg"}),error:p().createElement(S,{size:"lg"}),info:p().createElement(Z,{size:"lg"}),success:p().createElement(w,{size:"lg"}),warning:p().createElement(x,{size:"lg"})},m=p().createElement(T,null,i?d[i]:null,p().createElement(v.Title,{id:"alert-modal-header-label",size:"2xl",headingLevel:"h2"},n));return p().createElement(v.Modal,(0,s.Z)({header:m,"aria-label":r,"aria-labelledby":"alert-modal-header-label",isOpen:!!t,variant:"small",title:n},c),o)};C.propTypes={isOpen:g().bool.isRequired,title:g().string.isRequired,label:g().string,variant:g().string,children:g().node};const D=C},62923:(e,t,n)=>{n.d(t,{Z:()=>y});var a,r,l,i=n(70885),o=n(30168),c=n(92950),s=n.n(c),u=n(45697),d=n.n(u),m=n(29163),p=n(1085),f=(0,m.default)(p.Card)(a||(a=(0,o.Z)(["\n  background-color: var(--pf-global--BackgroundColor--200);\n  overflow-wrap: break-word;\n"]))),g=(0,m.default)(p.CardBody)(r||(r=(0,o.Z)(["\n  max-height: 200px;\n  overflow: scroll;\n"]))),v=(0,m.default)(p.ExpandableSection)(l||(l=(0,o.Z)(["\n  text-align: left;\n\n  & .pf-c-expandable__toggle {\n    padding-left: 10px;\n    margin-left: 5px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n"])));function h(e){var t=e.error,n=(0,c.useState)(!1),a=(0,i.Z)(n,2),r=a[0],l=a[1];return s().createElement(s().Fragment,null,Array.isArray(t)&&t.length&&s().createElement(v,{toggleText:"Details",onToggle:function(){l(!r)},isExpanded:r},s().createElement(f,null,s().createElement(g,null,s().createElement("ul",null,t.map((function(e){return"string"==typeof e?s().createElement("li",{key:e},e):null})))))))}h.propTypes={error:d().arrayOf(d().string)};const y=h},80922:(e,t,n)=>{n.d(t,{Z:()=>pe});var a=n(4942),r=n(15861),l=n(70885),i=n(64687),o=n.n(i),c=n(92950),s=n.n(c),u=n(45697),d=n.n(u),m=n(62012),p=n(1085),f=n(77388),g="SET_NAME",v="SET_CATEGORY",h="SET_DESCRIPTION",y="SET_MANUAL_TIME",E="SET_HOSTS",b="SET_FREQUENCY_PERIOD",O="SET_TASKS",k="SET_TEMPLATE_ID";function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(null!=e&&e.length)return e.sort((function(e,t){return e.task_order-t.task_order})).map((function(e){return e.task}))};var Z=n(49148),w=n(81672),x=n(62923),T=n(84564),C=n(53345),D=function(e){var t=e.options,n=e.formData,a=e.dispatch,r=n.name,i=n.category,o=n.description,u=n.manual_time,d=n.hosts,m=n.frequency_period,f=(0,c.useState)(!1),O=(0,l.Z)(f,2),k=O[0],P=O[1],_=(0,c.useState)(!1),S=(0,l.Z)(_,2),Z=S[0],w=S[1],x=(0,c.useState)(!1),D=(0,l.Z)(x,2),I=D[0],q=D[1],j=(0,c.useState)(!1),L=(0,l.Z)(j,2),R=L[0],z=L[1];return s().createElement(p.Form,null,t&&s().createElement(p.Grid,{hasGutter:!0,md:6},s().createElement(p.FormGroup,{label:"What do you want to automate?",isRequired:!0,fieldId:"name-field"},s().createElement(p.TextInput,{isRequired:!0,placeholder:"Example: Provision NGINX server",type:"text",id:"name-field",name:"name",value:r,onChange:function(e){return a({type:g,value:e})},onFocus:function(){return z(!r)},onBlur:function(){return z(!r)}}),!n.name&&R&&s().createElement(p.FormHelperText,{isError:!0,icon:s().createElement(T.ZP,null),isHidden:!R},"Name is required")),s().createElement(p.FormGroup,{label:"What type of task is it?",fieldId:"category-field"},s().createElement(p.Select,{id:"category-field",isOpen:k,variant:"single","aria-label":"Plan category selector",maxHeight:390,onToggle:function(){return P(!k)},onSelect:function(e,t){a({type:v,value:t}),P(!1)},selections:i},((null==t?void 0:t.category)||[]).map((function(e){var t=e.key,n=e.value;return s().createElement(p.SelectOption,{key:t,value:t},n)})))),s().createElement(p.FormGroup,{label:"Enter a description of your automation plan",fieldId:"description-field"},s().createElement(p.TextInput,{type:"text",placeholder:"Place description here",id:"description-field",name:"description",value:o,onChange:function(e){return a({type:h,value:e})}})),s().createElement(p.FormGroup,{label:"How long does it take to do this manually?",fieldId:"manual-time-field"},s().createElement(p.Select,{id:"manual-time-field",isOpen:Z,variant:"single",placeholderText:"Select amount","aria-label":"Plan time selector",onToggle:function(){return w(!Z)},onSelect:function(e,t){a({type:y,value:t}),w(!1)},selections:u},((null==t?void 0:t.manual_time)||[]).map((function(e){var t=e.key,n=e.value;return s().createElement(p.SelectOption,{key:t,value:t},n)})))),s().createElement(p.FormGroup,{label:"How many hosts do you plan to run this on?",fieldId:"hosts-field"},s().createElement(p.NumberInput,{inputAriaLabel:"Number of hosts",widthChars:8,onChange:function(e){((0,C.i_)(e.target.value)||0===e.target.value.length)&&a({type:E,value:parseInt(e.target.value)})},onMinus:function(){return a({type:E,value:(0,C.i_)(d)?d-1:0})},onPlus:function(){return a({type:E,value:(0,C.i_)(d)?d+1:1})},id:"hosts-field",name:"hosts",value:d,min:0})),s().createElement(p.FormGroup,{label:"How often do you do this?",fieldId:"frequency-period-field"},s().createElement(p.Select,{id:"frequency-period-field",isOpen:I,variant:"single",placeholderText:"Select frequency period","aria-label":"Plan frequency period selector",onToggle:function(){q(!I)},onSelect:function(e,t){a({type:b,value:t}),q(!1)},selections:m},((null==t?void 0:t.frequency_period)||[]).map((function(e){var t=e.key,n=e.value;return s().createElement(p.SelectOption,{key:t,value:t},n)}))))))};D.propTypes={options:d().object.isRequired,formData:d().object.isRequired,dispatch:d().func.isRequired};const I=D;var q,j,L,R,z,B=n(42982),F=n(30168),M=n(29163),G=n(12294),N=n(33606),A=M.default.div(q||(q=(0,F.Z)(["\n  margin-top: 20px;\n"]))),H=(0,M.default)(p.Title)(j||(j=(0,F.Z)(["\n  margin-bottom: 10px;\n"]))),V=(0,M.default)(p.Button)(L||(L=(0,F.Z)(["\n  padding: 0 16px;\n"]))),W=(0,M.default)(p.DataListAction)(R||(R=(0,F.Z)(["\n  padding: 6px 0;\n"]))),X=(0,M.default)(p.DataListItemRow)(z||(z=(0,F.Z)(["\n  align-items: center;\n"]))),Y=function(e){var t=e.tasks,n=e.dispatch,a=function(e){n({type:O,value:e})},r=(0,c.useState)(""),i=(0,l.Z)(r,2),o=i[0],u=i[1],d=(0,c.useState)(""),m=(0,l.Z)(d,2),f=m[0],g=m[1],v=(0,c.useState)(""),h=(0,l.Z)(v,2),y=h[0],E=h[1],b=function(){var e=o.trim();""!==e&&(a([].concat((0,B.Z)(t),[e])),u(""))};return s().createElement(s().Fragment,null,s().createElement(p.Form,null,s().createElement(p.Grid,{hasGutter:!0,md:6},s().createElement(p.FormGroup,{label:"What tasks do you need to accomplish this plan?",fieldId:"task-field"},s().createElement(p.InputGroup,null,s().createElement(p.TextInput,{placeholder:"Enter a description of each task",type:"text",id:"task-field",name:"task",value:o,onChange:function(e){return u(e)},onKeyDown:function(e){e.key&&"Enter"===e.key&&(e.preventDefault(),b())}}),s().createElement(p.Button,{onClick:b,isDisabled:""===o.trim(),variant:"control","aria-label":"Add task"},s().createElement(G.ZP,null)))))),t.length>0&&s().createElement(A,null,s().createElement(H,{headingLevel:"h4",size:"xl"},"Tasks"),s().createElement(p.DataList,{"aria-label":"Draggable list to reorder and remove tasks.",isCompact:!0,onDragFinish:function(e){g("Dragging finished"),a(e.map((function(e){return e.split("-").slice(0,-1).join("-")})))},onDragStart:function(e){E(e),g("Dragging started for task ".concat(e,"."))},onDragMove:function(e,t){g("Dragging task ".concat(y,".  Task ").concat(e," is now task ").concat(t,"."))},onDragCancel:function(){g("Dragging cancelled. Tasks list order is unchanged.")},itemOrder:t.map((function(e,t){return"".concat(e,"-").concat(t)}))},t.map((function(e,n){return s().createElement(p.DataListItem,{"aria-labelledby":"cell-".concat(n+1),id:"".concat(e,"-").concat(n),key:n+1},s().createElement(X,null,s().createElement(p.DataListControl,null,s().createElement(p.DataListDragButton,{"aria-label":"Reorder","aria-labelledby":"cell-".concat(n+1),"aria-describedby":"Press space or enter to begin dragging, and use the arrow keys to navigate up or down. Press enter to confirm the drag, or any other key to cancel the drag operation.","aria-pressed":"false"})),s().createElement(p.DataListItemCells,{dataListCells:[s().createElement(p.DataListCell,{key:n+1},s().createElement("span",{id:"cell-".concat(n+1)},"".concat(n+1,". ").concat(e)))]}),s().createElement(W,{"aria-label":"Actions"},s().createElement(V,{onClick:function(){return function(e){a(t.filter((function(t,n){return n!==e})))}(n)},variant:"plain","aria-label":"Delete"},s().createElement(N.ZP,null)))))})))),s().createElement("div",{className:"pf-screen-reader","aria-live":"assertive"},f))};Y.propTypes={tasks:d().array.isRequired,dispatch:d().func.isRequired};const K=Y;var Q,J=n(45987),U=n(48607),$=n(48236),ee=n(37384),te=n(9771),ne=n(12613),ae=n(77685),re=n(83474),le=["quick_date_range","sort_options"],ie=M.default.div(Q||(Q=(0,F.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),oe={group_by:"template",limit:10,group_by_time:!1,offset:0,sort_options:"name",sort_order:"asc",cluster_id:[],inventory_id:[],job_type:[],org_id:[],status:[],template_id:[]},ce=function(e){var t=e.template_id,n=e.dispatch,a=(0,ae.Kx)(oe),l=a.queryParams,i=a.setFromPagination,u=a.setFromToolbar,d=a.dispatch,m=(0,f.ZP)((0,r.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.ZW)();case 2:return(t=e.sent).quick_date_range,t.sort_options,n=(0,J.Z)(t,le),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),{}),g=m.result,v=m.error,h=m.isSuccess,y=m.request,E=(0,f.ZP)(Z.Ij,{items:[],meta:{count:0}}),b=E.result,O=b.items,P=b.meta,_=E.isLoading,S=E.isSuccess,w=E.request,x={sort:{sortBy:{direction:l.sort_order},onSort:function(e,t,n){d({type:"SET_SORT_ORDER",value:{sort_order:n}})}}};return(0,c.useEffect)((function(){y(),w(l)}),[l]),h?s().createElement(p.Form,null,s().createElement(p.FormGroup,{label:"Link a template to this plan:",fieldId:"template-link-field"},s().createElement(re.Z,{categories:g,filters:l,setFilters:u,pagination:s().createElement(ne.Z,{count:P.count,params:{limit:+l.limit,offset:+l.offset},setPagination:i,isCompact:!0})}),v&&s().createElement(te.Z,{message:v.error}),_&&s().createElement($.Z,null),S&&O.length<=0&&s().createElement(ee.Z,null),S&&O.length>0&&s().createElement(U.TableComposable,{"aria-label":"Template link table",variant:"compact"},s().createElement(U.Thead,null,s().createElement(U.Tr,null,s().createElement(U.Th,null),s().createElement(U.Th,x,"Name"))),s().createElement(U.Tbody,null,O.map((function(e){var a=e.id,r=e.name;return s().createElement(U.Tr,{key:"template-detail-".concat(a)},s().createElement(U.Td,{"data-cy":"radio-".concat(a),"data-testid":"radio-".concat(a),key:"template-detail-".concat(a,"-radio-td"),select:{rowIndex:a,onSelect:function(e,t,a){return n({type:k,value:a})},isSelected:t===a,variant:"radio"}}),s().createElement(U.Td,null,r))})))),s().createElement(ie,null,s().createElement("div",null,-2!==t&&s().createElement(p.Button,{key:"clear-selection-button",variant:"link","aria-label":"Clear selection",onClick:function(){n({type:k,value:-2})}},"Clear selection")),s().createElement(ne.Z,{count:P.count,params:{limit:+l.limit,offset:+l.offset},setPagination:i,variant:p.PaginationVariant.bottom})))):null};ce.propTypes={template_id:d().number.isRequired,dispatch:d().func.isRequired};const se=ce;function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=function(e){var t,n=e.title,a=e.options,i=e.data,u=void 0===i?{}:i,d=(0,m.useNavigate)(),P=(0,m.useLocation)().hash,T=(0,c.useState)(null),C=(0,l.Z)(T,2),D=C[0],q=C[1],j=(0,f.ZP)(function(){var e=(0,r.Z)(o().mark((function e(t,n){var a,r,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}if(!n){e.next=7;break}return e.next=4,(0,Z.Vs)(n,t);case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,(0,Z.he)(t);case 9:return a=e.sent,r=a.id,l=a.plan_created,e.abrupt("return",{plan_created:de({id:r},l)});case 13:return e.abrupt("return",{plan_created:{id:0}});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),{plan_created:{id:0}}),L=j.result,R=j.isSuccess,z=j.error,B=j.request,F=function(e){var t,n=(0,c.useReducer)((function(e,t){var n=t.type,a=t.value;switch(n){case g:return _(_({},e),{},{name:a});case v:return _(_({},e),{},{category:a});case h:return _(_({},e),{},{description:a});case y:return _(_({},e),{},{manual_time:a});case E:return _(_({},e),{},{hosts:a});case b:return _(_({},e),{},{frequency_period:a});case O:return _(_({},e),{},{tasks:a});case k:return _(_({},e),{},{template_id:a});default:throw new Error("usePlanData reducer action type ".concat(n," was not found."))}}),{name:(null==e?void 0:e.name)||"",category:(null==e?void 0:e.category)||"system",description:(null==e?void 0:e.description)||"",manual_time:(null==e?void 0:e.manual_time)||240,hosts:(null==e?void 0:e.hosts)||1,frequency_period:(null==e?void 0:e.frequency_period)||"weekly",tasks:S(null==e?void 0:e.tasks)||[],template_id:(null==e?void 0:e.template_id)||-2}),a=(0,l.Z)(n,2),r=a[0],i=a[1];return{formData:r,requestPayload:(t=_({},r),t.tasks=t.tasks.map((function(e,t){return{task:e,task_order:t+1}})),t.hosts&&""!==t.hosts||(t.hosts=1),t.hourly_rate=50,t.frequency_per_period=1,t),dispatch:i}}(u),M=F.formData,G=F.requestPayload,N=F.dispatch,A=[{step_number:1,id:"details",name:"Details",component:s().createElement(I,{options:a,formData:M,dispatch:N})},{step_number:2,id:"tasks",name:"Tasks",component:s().createElement(K,{tasks:M.tasks,dispatch:N}),canJumpTo:!!M.name},{step_number:3,id:"link_template",name:"Link template",component:s().createElement(se,{template_id:M.template_id,dispatch:N}),canJumpTo:!!M.name,nextButtonText:"Save"}];(0,c.useEffect)((function(){P?q(A.find((function(e){return"#".concat(e.id)===P})).step_number):(window.history.pushState(null,null,window.location.pathname+"#details"),q(1))}),[]);var H=function(e){window.history.pushState(null,null,window.location.pathname+"#".concat(e.id))},V=function(){B(G,null==u?void 0:u.id)},W=s().createElement(p.WizardFooter,null,s().createElement(p.WizardContextConsumer,null,(function(e){var t=e.activeStep,n=e.onNext,a=e.onBack,r=e.onClose;return 3!==t.step_number?s().createElement(s().Fragment,null,s().createElement(p.Button,{variant:p.ButtonVariant.primary,type:"submit",onClick:n,isDisabled:!M.name},"Next"),1!==t.step_number&&s().createElement(p.Button,{variant:"secondary",onClick:a},"Back"),s().createElement(p.Button,{variant:"link",onClick:r},"Cancel")):s().createElement(s().Fragment,null,s().createElement(p.Button,{variant:p.ButtonVariant.primary,type:"submit",onClick:V,isDisabled:!M.name},"Save"),s().createElement(p.Button,{variant:"secondary",onClick:a},"Back"),s().createElement(p.Button,{variant:"link",onClick:r},"Cancel"))})));return s().createElement(s().Fragment,null,R&&s().createElement(m.Navigate,{to:"../savings-planner/"+L.plan_created.id}),D&&s().createElement(p.Wizard,{navAriaLabel:"".concat(n," steps"),mainAriaLabel:"".concat(n," content"),steps:A,onGoToStep:H,onNext:H,onBack:H,onSave:V,onClose:function(){-1!==location.pathname.indexOf("/edit")?d("../savings-planner/"+(null==u?void 0:u.id)):d("../savings-planner")},footer:W,startAtStep:D,height:"calc(100vh - 240px)"}),z&&s().createElement(w.Z,{isOpen:!!z,onClose:function(){B()},title:"Error",variant:"error"},"There was an error saving the plan.",s().createElement(x.Z,{error:null==z||null===(t=z.error)||void 0===t?void 0:t.detail.name})))};me.propTypes={title:d().string.isRequired,options:d().object.isRequired,data:d().object};const pe=me},48236:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(92950),r=n.n(a),l=n(1085),i=n(76473);const o=function(){return r().createElement(l.EmptyState,{variant:l.EmptyStateVariant.full,style:{minHeight:"400px"}},r().createElement(l.EmptyStateIcon,{icon:i.TF}),r().createElement(l.Title,{headingLevel:"h5",size:"lg"},"Loading..."),r().createElement(l.EmptyStateBody,null,"Please wait."))}},37384:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(92950),r=n.n(a),l=n(1085),i=n(80810);const o=function(){return r().createElement(l.EmptyState,{variant:l.EmptyStateVariant.full},r().createElement(l.EmptyStateIcon,{icon:i.W1}),r().createElement(l.Title,{size:"lg",headingLevel:"h4"},"No results found"),r().createElement(l.EmptyStateBody,null,"No results match the filter criteria. Remove all filters or clear all filters to show results."))}},12613:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(92950),r=n.n(a),l=n(45697),i=n.n(l),o=n(1085),c=function(){return c=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)},s=[{title:"5",value:5},{title:"10",value:10},{title:"15",value:15},{title:"20",value:20},{title:"25",value:25}],u=function(e){var t=e.count,n=void 0===t?0:t,a=e.perPageOptions,l=void 0===a?null:a,i=e.params,u=e.setPagination,d=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["count","perPageOptions","params","setPagination"]),m=i.offset,p=i.limit,f=Math.floor(m/p+1),g=function(e){return(e-1)*p};return r().createElement(o.Pagination,c({"data-cy":d.isCompact?"pagination_top":"pagination_bottom",itemCount:n,widgetId:"aa-pagination",perPageOptions:null!=l?l:s,perPage:p,page:f,onPerPageSelect:function(e,t,n){u(g(n),t)},onSetPage:function(e,t){u(g(t))}},d))};u.propTypes={count:i().number,params:i().exact({offset:i().number.isRequired,limit:i().number.isRequired}).isRequired,setPagination:i().func.isRequired,perPageOptions:i().arrayOf(i().exact({title:i().string.isRequired,value:i().number.isRequired}).isRequired)};const d=u}}]);
//# sourceMappingURL=../sourcemaps/922.e8b1cd79bc737d23e36bf53049cd0346.js.map