"use strict";(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[488],{45016:(e,t,l)=>{l.r(t),l.d(t,{default:()=>M});var a=l(92950),r=l.n(a),n=l(62012),o=l(59698),s=l(47173),i=l(84457),c=l(32045),p=l(32203),m=l(70401),u=l(70),d=l(21005),g=l(75824),E=l(69174),y=l(56787),f=l(75728),x=l(15627),k=l(49734),h=l(85979),_=l(71973),b=l(5964),w=l(93174),Z=l(96146),v=l(12788),P=l(2079),C=l(62394),D=l(36814);const S=(0,v.default)(u.l)`
  word-break: break-word;
`,O=v.default.small`
  display: block;
  margin-bottom: 10px;
  color: #6a6e73;
  white-space: pre-line;
`,R=(0,v.default)(E._)`
  margin-right: 10px;
  margin-bottom: 10px;
`,T=({report:{slug:e,description:t,name:l,tags:a},selected:o,setSelected:s})=>r().createElement(p.Z,{"data-cy":e,isSelectableRaised:!0,isSelected:o===e,onClick:()=>{s(e)}},r().createElement(m.O,null,r().createElement(P.Z,null,r().createElement(S,{onClick:e=>e.stopPropagation()},r().createElement(g.u,{content:r().createElement("div",null,"Click to go to report details")},r().createElement(n.Link,{to:Z.Z.getDetails(e)},l))))),r().createElement(C.e,null,t?r().createElement(g.u,{content:r().createElement("div",null,"Show report in preview"),position:"bottom"},r().createElement(O,null,t)):null),r().createElement(k.e,null,a.map(((e,t)=>{const l=D.DX.find((t=>t.key===e));if(l)return r().createElement(g.u,{key:`tooltip_${t}`,position:g.D.top,content:l.description},r().createElement(R,{key:t},l.name))}))));var q=l(78933),L=l(42910),W=l(11406),B=l(21249),F=l(97139),N=l(65684),z=l(84438),K=l(88241);const M=()=>{const[e,t]=(0,a.useState)(!1);let l=0,v="",P="";const C=(0,F.Kx)((0,B.Me)("reports"),"allReports").queryParams,S=(0,F.Kx)((0,B.Me)("reports"),"allReports").setFromToolbar,{result:{reports:O},isSuccess:R,error:M,request:$}=(0,L.ZP)(W.Pu,{reports:[]}),I=(0,F.Kx)((0,B.Me)("reports")),{result:V,request:X}=(0,L.ZP)(W.c$,{});(0,a.useEffect)((()=>{$(C),X(I.queryParams)}),[C]);const A=O,G=C.selected_report||A[0]?.slug||"",H=e=>S("selected_report",e),{result:j,request:J,isSuccess:Q}=(0,L.ZP)((async()=>(await(0,W.T5)(G)).report),{});(0,a.useEffect)((()=>{if(R&&A.length>0){const e=A.filter((({slug:e})=>G===e));""!==G&&0!==e.length||H(A[0].slug),J()}}),[A]);const U=[R&&A.length>0&&Q&&A.map((e=>r().createElement(s.zx,{key:e.slug,variant:s.Wu.plain,"aria-label":"Report list item",onClick:()=>H(e.slug)},r().createElement(i.h,{key:e.slug},e.name))))];return r().createElement(r().Fragment,null,r().createElement(o.PageHeader,{"data-cy":"header-all_reports",title:"Reports"}),r().createElement(N.Z,{categories:V,filters:C,setFilters:S}),R&&A.length>0&&Q&&r().createElement(c.NP,null,A.filter((e=>e.slug===G)).map((a=>(l=A.indexOf(a),A.indexOf(a)<A.length-1&&(v=A[l+1].slug),A.indexOf(a)>0&&(P=A[l-1].slug),r().createElement(r().Fragment,null,r().createElement(p.Z,{key:a.slug,style:{maxWidth:"100%",marginBottom:"25px"},isCompact:!0,"data-cy":a.slug},r().createElement(m.O,{style:{paddingTop:"16px",paddingBottom:"16px",paddingRight:"0px"}},r().createElement(u.l,null,r().createElement(n.Link,{"data-cy":"preview_title_link",to:Z.Z.getDetails(a.slug)},a.name)),r().createElement(d.T,{style:{marginLeft:"15px",marginTop:"-2px"}},a.tags.map(((e,t)=>{const l=D.DX.find((t=>t.key===e));if(l)return r().createElement(g.u,{key:`tooltip_${t}`,position:g.D.top,content:l.description},r().createElement(E._,{key:t},l.name))}))),r().createElement(d.T,null,r().createElement(s.zx,{variant:s.Wu.plain,"aria-label":"Previous report","data-cy":"previous_report_button",isDisabled:0===A.indexOf(a),onClick:()=>H(P)},r().createElement(_.fP,null)),r().createElement(y.L,{"data-cy":"preview_dropdown",isPlain:!0,onSelect:()=>t(!e),toggle:r().createElement(f.Z,{onToggle:e=>t(e),toggleIndicator:b.VA,id:"report_list","data-cy":"selected_report_dropdown",style:{color:"#151515"}},a.name),isOpen:e,dropdownItems:U}),r().createElement(s.zx,{variant:s.Wu.plain,"aria-label":"Next report","data-cy":"next_report_button",isDisabled:A.indexOf(a)>=A.length-1,onClick:()=>H(v)},r().createElement(w.oR,null)))),r().createElement(x.i,null),a.slug===j.slug?(0,q.Z)(j,!1):"",r().createElement(k.e,{style:{paddingBottom:"16px"}},r().createElement(n.Link,{to:Z.Z.getDetails(a.slug),style:{float:"right"},"data-cy":"view_full_report_link"},"View full report"))))))),r().createElement(h.r,{"data-cy":"all_reports",hasGutter:!0,minWidths:{sm:"307px",md:"307px",lg:"307px",xl:"307px","2xl":"307px"}},A.map((e=>r().createElement(T,{key:e.slug,report:e,selected:G,setSelected:H}))))),R&&0===A.length&&r().createElement(z.Z,{label:"Clear all filters",title:"No results found",message:"No results match the filter criteria. Clear all filters and try again.",showButton:!0,path:"/ansible/automation-analytics/reports"}),M&&r().createElement(K.Z,null))}}}]);
//# sourceMappingURL=../sourcemaps/488.88876cc5adc010f5983c4ec31a978a4d.js.map