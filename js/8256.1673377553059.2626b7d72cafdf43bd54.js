"use strict";(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[8256],{83264:(e,t,n)=>{t.td={name:"CaretLeftIcon",height:512,width:192,svgPath:"M192 127.338v257.324c0 17.818-21.543 26.741-34.142 14.142L29.196 270.142c-7.81-7.81-7.81-20.474 0-28.284l128.662-128.662c12.599-12.6 34.142-3.676 34.142 14.142z",yOffset:0,xOffset:0},t.BN=n(35183).createIcon(t.td),t.ZP=t.BN},35451:(e,t,n)=>{t.GR={name:"CheckCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z",yOffset:0,xOffset:0},t.rE=n(35183).createIcon(t.GR),t.ZP=t.rE},84564:(e,t,n)=>{t.MX={name:"ExclamationCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.$O=n(35183).createIcon(t.MX),t.ZP=t.$O},19694:(e,t,n)=>{t.RI={name:"ExclamationTriangleIcon",height:512,width:576,svgPath:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.LP=n(35183).createIcon(t.RI),t.ZP=t.LP},31369:(e,t,n)=>{t.nQ={name:"InfoCircleIcon",height:512,width:512,svgPath:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z",yOffset:0,xOffset:0},t.uM=n(35183).createIcon(t.nQ),t.ZP=t.uM},12294:(e,t,n)=>{t.YX={name:"PlusIcon",height:512,width:448,svgPath:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",yOffset:0,xOffset:0},t.pO=n(35183).createIcon(t.YX),t.ZP=t.pO},77669:(e,t,n)=>{t.B9={name:"TimesCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z",yOffset:0,xOffset:0},t.xD=n(35183).createIcon(t.B9),t.ZP=t.xD},33606:(e,t,n)=>{t.sk={name:"TimesIcon",height:512,width:352,svgPath:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",yOffset:0,xOffset:0},t.q1=n(35183).createIcon(t.sk),t.ZP=t.q1},69595:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(92950),r=n.n(a),l=n(45697),o=n.n(l),i=n(86235),c=n(1085),s=function(e){var t=e.items,n=void 0===t?[]:t,a=e.current,l=void 0===a?null:a;return r().createElement(c.Breadcrumb,null,n.map((function(e){var t=e.title,n=e.navigate;return r().createElement(c.BreadcrumbItem,{key:t},r().createElement(i.Link,{to:n},t))})),l&&r().createElement(c.BreadcrumbHeading,null,l))};s.propTypes={items:o().arrayOf(o().shape({navigate:o().any,title:o().node})),current:o().node};const u=s},37384:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(92950),r=n.n(a),l=n(1085),o=n(80810);const i=function(){return r().createElement(l.EmptyState,{variant:l.EmptyStateVariant.full},r().createElement(l.EmptyStateIcon,{icon:o.W1}),r().createElement(l.Title,{size:"lg",headingLevel:"h4"},"No results found"),r().createElement(l.EmptyStateBody,null,"No results match the filter criteria. Remove all filters or clear all filters to show results."))}},86552:(e,t,n)=>{n.d(t,{Z:()=>f});var a,r=n(92950),l=n.n(r),o=n(43047),i=n(50028),c=n(16559),s=n(44586);!function(e){e.nonGrouped="nonGrouped",e.grouped="grouped"}(a||(a={}));var u=function(){return u=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)},m=function(){return m=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},m.apply(this,arguments)},d=function(e){var t=e.x,n=e.y,a=(e.disableInlineStyles,function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["x","y","disableInlineStyles"]));return null!=t&&null!=n?l().createElement(o.$O,m({x:t-8,y:n-8},a,a.events)):null},p=function(e){return m(m({},i.wk),{axisFormat:m(m(m({},i.wk.axisFormat),{formatAsYear:function(e){return Intl.DateTimeFormat("en",{year:"numeric"}).format(new Date(e))},formatAsMonth:function(e){return Intl.DateTimeFormat("en",{month:"long"}).format(new Date(e))}}),null==e?void 0:e.axisFormat),labelFormat:m(m({},i.wk.labelFormat),null==e?void 0:e.labelFormat),onClick:m(m({},i.wk.onClick),null==e?void 0:e.onClick),dataComponent:{scatterPlot:d}})};const f=function(e){var t=e.schema,n=e.data,o=e.specificFunctions,d=e.namespace,f=void 0===d?"settings":d,g=(0,c.Kx)({chartSeriesHiddenProps:[]},f),v=g.queryParams.chartSeriesHiddenProps,y=g.dispatch,E=(0,r.useState)({series:[],legend:[]}),h=E[0],b=E[1];return(0,r.useEffect)((function(){b(function(e,t){return void 0===t&&(t=[]),m(m({},e),{series:e.series.map((function(e){return m(m({},e),{hidden:!(!e.serie[0].id&&!e.serie[0].host_id||!t.includes(e.serie[0].hasOwnProperty("host_id").toString()||e.serie[0].hasOwnProperty("id").toString()))})}))})}(function(e){var t,n={series:[],legend:[]};switch(e.type="dates"in e?a.grouped:a.nonGrouped,e.type){case a.grouped:n.series=function(e){var t=e.dates,n=[];return t.forEach((function(e){e.items.forEach((function(t,a){n[a]||(n[a]={serie:[],hidden:!1,name:(0,s.Z)()}),n[a].serie.push(u({created_date:e.date},t))}))})),n}(e);break;case a.nonGrouped:n.series=[{serie:e.items||e.meta.legend,hidden:!1,name:(0,s.Z)()}]}return(null===(t=e.meta)||void 0===t?void 0:t.legend)&&(n.legend=e.meta.legend.map((function(e){var t=n.series.find((function(t){return t.serie.find((function(t){return t.id===e.id}))}));return u(u({},e),{childName:t&&t.name?t.name:""})}))),n}(n),v))}),[n]),l().createElement(i.ZP,{schema:t,functions:m({},p(o)),dataState:[h,function(e){y({type:"SET_CHART_SERIES_HIDDEN_PROPS",value:e.series.map((function(e){return[e.serie[0].id,e.hidden]}))}),b(e)}]})}},10001:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(92950),r=n.n(a),l=n(1085),o=n(60433),i=n(80810),c=n(16559);const s=function(e){var t=e.label,n=void 0===t?"":t,a=e.title,s=void 0===a?"No items found.":a,u=e.message,m=void 0===u?"":u,d=e.canAdd,p=void 0!==d&&d,f=e.showButton,g=void 0!==f&&f,v=e.path,y=void 0===v?void 0:v,E=e.onButtonClick,h=void 0===E?void 0:E,b=(0,c.eR)();return r().createElement(l.EmptyState,{variant:l.EmptyStateVariant.full},r().createElement(l.EmptyStateIcon,{icon:p?o.Mh:i.W1}),r().createElement(l.Title,{size:"lg",headingLevel:"h3"},s),r().createElement(l.EmptyStateBody,null,m),(p||g)&&r().createElement(l.Button,{key:"add-item-button",variant:l.ButtonVariant.primary,"aria-label":n,onClick:function(){y&&b(y),h&&h()}},n))}},75319:(e,t,n)=>{n.d(t,{Z:()=>p});var a=n(92950),r=n.n(a),l=n(1085),o=n(40400);const i=(0,o.IU)({name:"SyncAltIcon",height:512,width:512,svgPath:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z",yOffset:0,xOffset:0}),c=(0,o.IU)({name:"ClockIcon",height:512,width:512,svgPath:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z",yOffset:0,xOffset:0});var s=n(68778),u=n(43047),m=n(69957),d=n(53345);const p=function(e){var t=e.status;return r().createElement(l.Label,{variant:"outline",color:function(){switch(t){case"successful":return"green";case"failed":case"error":return"red";case"running":case"pending":return"blue";case"canceled":return"orange";default:return"grey"}}(),icon:function(){switch(t){case"successful":return r().createElement(s.rE,null);case"failed":case"error":return r().createElement(u.$O,null);case"running":return r().createElement(i,null);case"canceled":return r().createElement(m.LP,null);default:return r().createElement(c,null)}}(),style:{marginRight:"0.5rem",marginBottom:"0.5rem"}},(0,d.kC)(t))}},12613:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(92950),r=n.n(a),l=n(45697),o=n.n(l),i=n(1085),c=function(){return c=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)},s=[{title:"5",value:5},{title:"10",value:10},{title:"15",value:15},{title:"20",value:20},{title:"25",value:25}],u=function(e){var t=e.count,n=void 0===t?0:t,a=e.perPageOptions,l=void 0===a?null:a,o=e.params,u=e.setPagination,m=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["count","perPageOptions","params","setPagination"]),d=o.offset,p=o.limit,f=Math.floor(d/p+1),g=function(e){return(e-1)*p};return r().createElement(i.Pagination,c({"data-cy":m.isCompact?"pagination_top":"pagination_bottom",itemCount:n,widgetId:"aa-pagination",perPageOptions:null!=l?l:s,perPage:p,page:f,onPerPageSelect:function(e,t,n){u(g(n),t)},onSetPage:function(e,t){u(g(t))}},m))};u.propTypes={count:o().number,params:o().exact({offset:o().number.isRequired,limit:o().number.isRequired}).isRequired,setPagination:o().func.isRequired,perPageOptions:o().arrayOf(o().exact({title:o().string.isRequired,value:o().number.isRequired}).isRequired)};const m=u},56350:(e,t,n)=>{n.r(t),n.d(t,{default:()=>pn,paths:()=>dn});var a=n(92950),r=n.n(a),l=n(86235),o=n(27443),i=n(1085),c=n(86350),s=n(48716),u=n(39173),m=n(69595),d=n(49148),p=n(4942),f=n(15861),g=n(70885),v=n(87757),y=n.n(v),E=n(45697),h=n.n(E),b=n(77388),k="SET_NAME",P="SET_CATEGORY",O="SET_DESCRIPTION",_="SET_MANUAL_TIME",C="SET_HOSTS",w="SET_FREQUENCY_PERIOD",Z="SET_TASKS",S="SET_TEMPLATE_ID";function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(null!=e&&e.length)return e.sort((function(e,t){return e.task_order-t.task_order})).map((function(e){return e.task}))};var j,I,L,q,R,B,F=n(87462),A=n(45987),M=n(30168),N=n(35451),z=n(84564),G=n(19694),H=n(31369),W=n(77669),V=n(29163),U=["isOpen","title","label","variant","children"],Y=(0,V.ZP)(z.ZP)(j||(j=(0,M.Z)(["\n  color: var(--pf-global--danger-color--100);\n"]))),K=(0,V.ZP)(W.ZP)(I||(I=(0,M.Z)(["\n  color: var(--pf-global--danger-color--100);\n"]))),$=(0,V.ZP)(H.ZP)(L||(L=(0,M.Z)(["\n  color: var(--pf-global--info-color--100);\n"]))),X=(0,V.ZP)(N.ZP)(q||(q=(0,M.Z)(["\n  color: var(--pf-global--success-color--100);\n"]))),Q=(0,V.ZP)(G.ZP)(R||(R=(0,M.Z)(["\n  color: var(--pf-global--warning-color--100);\n"]))),J=V.ZP.div(B||(B=(0,M.Z)(["\n  display: flex;\n  svg {\n    margin-right: 16px;\n  }\n"]))),ee=function(e){var t=e.isOpen,n=e.title,a=e.label,l=void 0===a?"Alert modal":a,o=e.variant,c=void 0===o?"warning":o,s=e.children,u=(0,A.Z)(e,U),m={danger:r().createElement(Y,{size:"lg"}),error:r().createElement(K,{size:"lg"}),info:r().createElement($,{size:"lg"}),success:r().createElement(X,{size:"lg"}),warning:r().createElement(Q,{size:"lg"})},d=r().createElement(J,null,c?m[c]:null,r().createElement(i.Title,{id:"alert-modal-header-label",size:"2xl",headingLevel:"h2"},n));return r().createElement(i.Modal,(0,F.Z)({header:d,"aria-label":l,"aria-labelledby":"alert-modal-header-label",isOpen:!!t,variant:"small",title:n},u),s)};ee.propTypes={isOpen:h().bool.isRequired,title:h().string.isRequired,label:h().string,variant:h().string,children:h().node};const te=ee;var ne,ae,re,le=(0,V.ZP)(i.Card)(ne||(ne=(0,M.Z)(["\n  background-color: var(--pf-global--BackgroundColor--200);\n  overflow-wrap: break-word;\n"]))),oe=(0,V.ZP)(i.CardBody)(ae||(ae=(0,M.Z)(["\n  max-height: 200px;\n  overflow: scroll;\n"]))),ie=(0,V.ZP)(i.ExpandableSection)(re||(re=(0,M.Z)(["\n  text-align: left;\n\n  & .pf-c-expandable__toggle {\n    padding-left: 10px;\n    margin-left: 5px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n"])));function ce(e){var t=e.error,n=(0,a.useState)(!1),l=(0,g.Z)(n,2),o=l[0],i=l[1];return r().createElement(r().Fragment,null,Array.isArray(t)&&t.length&&r().createElement(ie,{toggleText:"Details",onToggle:function(){i(!o)},isExpanded:o},r().createElement(le,null,r().createElement(oe,null,r().createElement("ul",null,t.map((function(e){return"string"==typeof e?r().createElement("li",{key:e},e):null})))))))}ce.propTypes={error:h().arrayOf(h().string)};const se=ce;var ue=n(53345),me=function(e){var t=e.options,n=e.formData,l=e.dispatch,o=n.name,c=n.category,s=n.description,u=n.manual_time,m=n.hosts,d=n.frequency_period,p=(0,a.useState)(!1),f=(0,g.Z)(p,2),v=f[0],y=f[1],E=(0,a.useState)(!1),h=(0,g.Z)(E,2),b=h[0],Z=h[1],S=(0,a.useState)(!1),x=(0,g.Z)(S,2),D=x[0],T=x[1],j=(0,a.useState)(!1),I=(0,g.Z)(j,2),L=I[0],q=I[1];return r().createElement(i.Form,null,t&&r().createElement(i.Grid,{hasGutter:!0,md:6},r().createElement(i.FormGroup,{label:"What do you want to automate?",isRequired:!0,fieldId:"name-field"},r().createElement(i.TextInput,{isRequired:!0,placeholder:"Example: Provision NGINX server",type:"text",id:"name-field",name:"name",value:o,onChange:function(e){return l({type:k,value:e})},onFocus:function(){return q(!o)},onBlur:function(){return q(!o)}}),!n.name&&L&&r().createElement(i.FormHelperText,{isError:!0,icon:r().createElement(z.ZP,null),isHidden:!L},"Name is required")),r().createElement(i.FormGroup,{label:"What type of task is it?",fieldId:"category-field"},r().createElement(i.Select,{id:"category-field",isOpen:v,variant:"single","aria-label":"Plan category selector",maxHeight:390,onToggle:function(){return y(!v)},onSelect:function(e,t){l({type:P,value:t}),y(!1)},selections:c},((null==t?void 0:t.category)||[]).map((function(e){var t=e.key,n=e.value;return r().createElement(i.SelectOption,{key:t,value:t},n)})))),r().createElement(i.FormGroup,{label:"Enter a description of your automation plan",fieldId:"description-field"},r().createElement(i.TextInput,{type:"text",placeholder:"Place description here",id:"description-field",name:"description",value:s,onChange:function(e){return l({type:O,value:e})}})),r().createElement(i.FormGroup,{label:"How long does it take to do this manually?",fieldId:"manual-time-field"},r().createElement(i.Select,{id:"manual-time-field",isOpen:b,variant:"single",placeholderText:"Select amount","aria-label":"Plan time selector",onToggle:function(){return Z(!b)},onSelect:function(e,t){l({type:_,value:t}),Z(!1)},selections:u},((null==t?void 0:t.manual_time)||[]).map((function(e){var t=e.key,n=e.value;return r().createElement(i.SelectOption,{key:t,value:t},n)})))),r().createElement(i.FormGroup,{label:"How many hosts do you plan to run this on?",fieldId:"hosts-field"},r().createElement(i.NumberInput,{inputAriaLabel:"Number of hosts",widthChars:8,onChange:function(e){((0,ue.i_)(e.target.value)||0===e.target.value.length)&&l({type:C,value:parseInt(e.target.value)})},onMinus:function(){return l({type:C,value:(0,ue.i_)(m)?m-1:0})},onPlus:function(){return l({type:C,value:(0,ue.i_)(m)?m+1:1})},id:"hosts-field",name:"hosts",value:m,min:0})),r().createElement(i.FormGroup,{label:"How often do you do this?",fieldId:"frequency-period-field"},r().createElement(i.Select,{id:"frequency-period-field",isOpen:D,variant:"single",placeholderText:"Select frequency period","aria-label":"Plan frequency period selector",onToggle:function(){T(!D)},onSelect:function(e,t){l({type:w,value:t}),T(!1)},selections:d},((null==t?void 0:t.frequency_period)||[]).map((function(e){var t=e.key,n=e.value;return r().createElement(i.SelectOption,{key:t,value:t},n)}))))))};me.propTypes={options:h().object.isRequired,formData:h().object.isRequired,dispatch:h().func.isRequired};const de=me;var pe,fe,ge,ve,ye,Ee=n(42982),he=n(12294),be=n(33606),ke=V.ZP.div(pe||(pe=(0,M.Z)(["\n  margin-top: 20px;\n"]))),Pe=(0,V.ZP)(i.Title)(fe||(fe=(0,M.Z)(["\n  margin-bottom: 10px;\n"]))),Oe=(0,V.ZP)(i.Button)(ge||(ge=(0,M.Z)(["\n  padding: 0 16px;\n"]))),_e=(0,V.ZP)(i.DataListAction)(ve||(ve=(0,M.Z)(["\n  padding: 6px 0;\n"]))),Ce=(0,V.ZP)(i.DataListItemRow)(ye||(ye=(0,M.Z)(["\n  align-items: center;\n"]))),we=function(e){var t=e.tasks,n=e.dispatch,l=function(e){n({type:Z,value:e})},o=(0,a.useState)(""),c=(0,g.Z)(o,2),s=c[0],u=c[1],m=(0,a.useState)(""),d=(0,g.Z)(m,2),p=d[0],f=d[1],v=(0,a.useState)(""),y=(0,g.Z)(v,2),E=y[0],h=y[1],b=function(){var e=s.trim();""!==e&&(l([].concat((0,Ee.Z)(t),[e])),u(""))};return r().createElement(r().Fragment,null,r().createElement(i.Form,null,r().createElement(i.Grid,{hasGutter:!0,md:6},r().createElement(i.FormGroup,{label:"What tasks do you need to accomplish this plan?",fieldId:"task-field"},r().createElement(i.InputGroup,null,r().createElement(i.TextInput,{placeholder:"Enter a description of each task",type:"text",id:"task-field",name:"task",value:s,onChange:function(e){return u(e)},onKeyDown:function(e){e.key&&"Enter"===e.key&&(e.preventDefault(),b())}}),r().createElement(i.Button,{onClick:b,isDisabled:""===s.trim(),variant:"control","aria-label":"Add task"},r().createElement(he.ZP,null)))))),t.length>0&&r().createElement(ke,null,r().createElement(Pe,{headingLevel:"h4",size:"xl"},"Tasks"),r().createElement(i.DataList,{"aria-label":"Draggable list to reorder and remove tasks.",isCompact:!0,onDragFinish:function(e){f("Dragging finished"),l(e.map((function(e){return e.split("-").slice(0,-1).join("-")})))},onDragStart:function(e){h(e),f("Dragging started for task ".concat(e,"."))},onDragMove:function(e,t){f("Dragging task ".concat(E,".  Task ").concat(e," is now task ").concat(t,"."))},onDragCancel:function(){f("Dragging cancelled. Tasks list order is unchanged.")},itemOrder:t.map((function(e,t){return"".concat(e,"-").concat(t)}))},t.map((function(e,n){return r().createElement(i.DataListItem,{"aria-labelledby":"cell-".concat(n+1),id:"".concat(e,"-").concat(n),key:n+1},r().createElement(Ce,null,r().createElement(i.DataListControl,null,r().createElement(i.DataListDragButton,{"aria-label":"Reorder","aria-labelledby":"cell-".concat(n+1),"aria-describedby":"Press space or enter to begin dragging, and use the arrow keys to navigate up or down. Press enter to confirm the drag, or any other key to cancel the drag operation.","aria-pressed":"false"})),r().createElement(i.DataListItemCells,{dataListCells:[r().createElement(i.DataListCell,{key:n+1},r().createElement("span",{id:"cell-".concat(n+1)},"".concat(n+1,". ").concat(e)))]}),r().createElement(_e,{"aria-label":"Actions"},r().createElement(Oe,{onClick:function(){return function(e){l(t.filter((function(t,n){return n!==e})))}(n)},variant:"plain","aria-label":"Delete"},r().createElement(be.ZP,null)))))})))),r().createElement("div",{className:"pf-screen-reader","aria-live":"assertive"},p))};we.propTypes={tasks:h().array.isRequired,dispatch:h().func.isRequired};const Ze=we;var Se,xe=n(48607),De=n(48236),Te=n(37384),je=n(9771),Ie=n(12613),Le=n(16559),qe=n(83474),Re=["quick_date_range","sort_options"],Be=V.ZP.div(Se||(Se=(0,M.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),Fe={group_by:"template",limit:10,group_by_time:!1,offset:0,sort_options:"name",sort_order:"asc",cluster_id:[],inventory_id:[],job_type:[],org_id:[],status:[],template_id:[]},Ae=function(e){var t=e.template_id,n=e.dispatch,l=(0,Le.Kx)(Fe),o=l.queryParams,c=l.setFromPagination,s=l.setFromToolbar,u=l.dispatch,m=(0,b.ZP)((0,f.Z)(y().mark((function e(){var t,n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.ZW)();case 2:return(t=e.sent).quick_date_range,t.sort_options,n=(0,A.Z)(t,Re),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),{}),p=m.result,g=m.error,v=m.isSuccess,E=m.request,h=(0,b.ZP)(d.Ij,{items:[],meta:{count:0}}),k=h.result,P=k.items,O=k.meta,_=h.isLoading,C=h.isSuccess,w=h.request,Z={sort:{sortBy:{direction:o.sort_order},onSort:function(e,t,n){u({type:"SET_SORT_ORDER",value:{sort_order:n}})}}};return(0,a.useEffect)((function(){E(),w(o)}),[o]),v?r().createElement(i.Form,null,r().createElement(i.FormGroup,{label:"Link a template to this plan:",fieldId:"template-link-field"},r().createElement(qe.Z,{categories:p,filters:o,setFilters:s,pagination:r().createElement(Ie.Z,{count:O.count,params:{limit:+o.limit,offset:+o.offset},setPagination:c,isCompact:!0})}),g&&r().createElement(je.Z,{message:g.error}),_&&r().createElement(De.Z,null),C&&P.length<=0&&r().createElement(Te.Z,null),C&&P.length>0&&r().createElement(xe.TableComposable,{"aria-label":"Template link table",variant:"compact"},r().createElement(xe.Thead,null,r().createElement(xe.Tr,null,r().createElement(xe.Th,null),r().createElement(xe.Th,Z,"Name"))),r().createElement(xe.Tbody,null,P.map((function(e){var a=e.id,l=e.name;return r().createElement(xe.Tr,{key:"template-detail-".concat(a)},r().createElement(xe.Td,{"data-cy":"radio-".concat(a),"data-testid":"radio-".concat(a),key:"template-detail-".concat(a,"-radio-td"),select:{rowIndex:a,onSelect:function(e,t,a){return n({type:S,value:a})},isSelected:t===a,variant:"radio"}}),r().createElement(xe.Td,null,l))})))),r().createElement(Be,null,r().createElement("div",null,-2!==t&&r().createElement(i.Button,{key:"clear-selection-button",variant:"link","aria-label":"Clear selection",onClick:function(){n({type:S,value:-2})}},"Clear selection")),r().createElement(Ie.Z,{count:O.count,params:{limit:+o.limit,offset:+o.offset},setPagination:c,variant:i.PaginationVariant.bottom})))):null};Ae.propTypes={template_id:h().number.isRequired,dispatch:h().func.isRequired};const Me=Ae;function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge=function(e){var t,n=e.title,o=e.options,c=e.data,s=void 0===c?{}:c,u=(0,l.useHistory)(),m=(0,l.useLocation)(),p=m.hash,v=m.pathname,E=(0,a.useState)(null),h=(0,g.Z)(E,2),x=h[0],j=h[1],I=(0,b.ZP)(function(){var e=(0,f.Z)(y().mark((function e(t,n){var a,r,l;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}if(!n){e.next=7;break}return e.next=4,(0,d.Vs)(n,t);case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,(0,d.he)(t);case 9:return a=e.sent,r=a.id,l=a.plan_created,e.abrupt("return",{plan_created:ze({id:r},l)});case 13:return e.abrupt("return",{plan_created:{id:0}});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),{plan_created:{id:0}}),L=I.result,q=I.isSuccess,R=I.error,B=I.request,F=function(e){var t,n=(0,a.useReducer)((function(e,t){var n=t.type,a=t.value;switch(n){case k:return D(D({},e),{},{name:a});case P:return D(D({},e),{},{category:a});case O:return D(D({},e),{},{description:a});case _:return D(D({},e),{},{manual_time:a});case C:return D(D({},e),{},{hosts:a});case w:return D(D({},e),{},{frequency_period:a});case Z:return D(D({},e),{},{tasks:a});case S:return D(D({},e),{},{template_id:a});default:throw new Error("usePlanData reducer action type ".concat(n," was not found."))}}),{name:(null==e?void 0:e.name)||"",category:(null==e?void 0:e.category)||"system",description:(null==e?void 0:e.description)||"",manual_time:(null==e?void 0:e.manual_time)||240,hosts:(null==e?void 0:e.hosts)||1,frequency_period:(null==e?void 0:e.frequency_period)||"weekly",tasks:T(null==e?void 0:e.tasks)||[],template_id:(null==e?void 0:e.template_id)||-2}),r=(0,g.Z)(n,2),l=r[0],o=r[1];return{formData:l,requestPayload:(t=D({},l),t.tasks=t.tasks.map((function(e,t){return{task:e,task_order:t+1}})),t.hosts&&""!==t.hosts||(t.hosts=1),t.hourly_rate=50,t.frequency_per_period=1,t),dispatch:o}}(s),A=F.formData,M=F.requestPayload,N=F.dispatch,z=[{step_number:1,id:"details",name:"Details",component:r().createElement(de,{options:o,formData:A,dispatch:N})},{step_number:2,id:"tasks",name:"Tasks",component:r().createElement(Ze,{tasks:A.tasks,dispatch:N}),canJumpTo:!!A.name},{step_number:3,id:"link_template",name:"Link template",component:r().createElement(Me,{template_id:A.template_id,dispatch:N}),canJumpTo:!!A.name,nextButtonText:"Save"}];(0,a.useEffect)((function(){-1===v.indexOf("/add")&&p?j(z.find((function(e){return"#".concat(e.id)===p})).step_number):(u.replace({hash:"details"}),j(1))}),[]);var G=function(e){u.replace({hash:e.id})},H=function(){B(M,null==s?void 0:s.id)},W=r().createElement(i.WizardFooter,null,r().createElement(i.WizardContextConsumer,null,(function(e){var t=e.activeStep,n=e.onNext,a=e.onBack,l=e.onClose;return 3!==t.step_number?r().createElement(r().Fragment,null,r().createElement(i.Button,{variant:i.ButtonVariant.primary,type:"submit",onClick:n,isDisabled:!A.name},"Next"),1!==t.step_number&&r().createElement(i.Button,{variant:"secondary",onClick:a},"Back"),r().createElement(i.Button,{variant:"link",onClick:l},"Cancel")):r().createElement(r().Fragment,null,r().createElement(i.Button,{variant:i.ButtonVariant.primary,type:"submit",onClick:H,isDisabled:!A.name},"Save"),r().createElement(i.Button,{variant:"secondary",onClick:a},"Back"),r().createElement(i.Button,{variant:"link",onClick:l},"Cancel"))})));return r().createElement(r().Fragment,null,q&&r().createElement(l.Redirect,{to:{pathname:dn.getDetails(L.plan_created.id),state:{reload:!0}}}),x&&r().createElement(i.Wizard,{navAriaLabel:"".concat(n," steps"),mainAriaLabel:"".concat(n," content"),steps:z,onGoToStep:G,onNext:G,onBack:G,onSave:H,onClose:function(){-1!==location.pathname.indexOf("/edit")?u.push(dn.getDetails(null==s?void 0:s.id)):u.push(dn.get)},footer:W,startAtStep:x,height:"calc(100vh - 240px)"}),R&&r().createElement(te,{isOpen:!!R,onClose:function(){B()},title:"Error",variant:"error"},"There was an error saving the plan.",r().createElement(se,{error:null==R||null===(t=R.error)||void 0===t?void 0:t.detail.name})))};Ge.propTypes={title:h().string.isRequired,options:h().object.isRequired,data:h().object};const He=Ge,We=function(){var e,t,n,p,f,g,v=(0,b.ZP)(d.nE,{}),y=v.result,E=v.isSuccess,h=v.request;(0,a.useEffect)((function(){h({})}),[]);var k=E&&(!0===(null===(e=y.meta)||void 0===e||null===(t=e.rbac)||void 0===t||null===(n=t.perms)||void 0===n?void 0:n.write)||!0===(null===(p=y.meta)||void 0===p||null===(f=p.rbac)||void 0===f||null===(g=f.perms)||void 0===g?void 0:g.all)),P="Create new plan";return E?k?r().createElement(r().Fragment,null,r().createElement(s.Z,null,r().createElement(m.Z,{items:[{title:"Savings Planner",navigate:"/savings-planner"}]}),r().createElement(u.Z,{title:P})),r().createElement(c.Z,null,r().createElement(i.Card,null,r().createElement(i.CardBody,null,r().createElement(He,{title:P,options:y}))))):r().createElement(l.Redirect,{to:o.n.savingsPlanner}):null};var Ve,Ue,Ye=n(83264),Ke=V.ZP.div(Xe||(Ve=["\n  margin-top: 20px;\n  --pf-c-card__actions--PaddingLeft: 0;\n"],Ue=["\n  margin-top: 20px;\n  --pf-c-card__actions--PaddingLeft: 0;\n"],Object.defineProperty?Object.defineProperty(Ve,"raw",{value:Ue}):Ve.raw=Ue,Xe=Ve));const $e=function(e){var t=e.children;return r().createElement(Ke,null,r().createElement(i.CardActions,null,t))};var Xe,Qe,Je;function et(e){return tt.apply(this,arguments)}function tt(){return tt=(0,f.Z)(y().mark((function e(t){var n,a,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},a=null,r=!1,e.prev=3,e.next=6,Promise.all(t.map(function(){var e=(0,f.Z)(y().mark((function e(t){var a,l,o,i;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,l=t.label,e.next=3,a();case 3:o=e.sent,(i=o.items.count)>0&&(n[l]=i,r=!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),a=e.t0;case 11:return e.abrupt("return",{results:r&&n,error:a});case 12:case"end":return e.stop()}}),e,null,[[3,8]])}))),tt.apply(this,arguments)}var nt=(0,V.ZP)(i.Alert)(Qe||(Qe=(0,M.Z)(["\n  margin-top: 10px;\n"]))),at=V.ZP.span(Je||(Je=(0,M.Z)(["\n  && {\n    margin-right: 10px;\n  }\n"]))),rt=function(e){var t=e.onConfirm,n=e.modalTitle,l=void 0===n?"Delete":n,o=e.name,c=void 0===o?"":o,s=e.variant,u=void 0===s?"secondary":s,m=e.isDisabled,d=void 0!==m&&m,p=e.ouiaId,v=void 0===p?null:p,E=e.deleteMessage,h=void 0===E?"Delete?":E,b=e.deleteDetailsRequests,k=void 0===b?[]:b,P=e.disabledTooltip,O=void 0===P?"This item cannot be deleted":P,_=e.children,C=(0,a.useState)(!1),w=(0,g.Z)(C,2),Z=w[0],S=w[1],x=(0,a.useState)(),D=(0,g.Z)(x,2),T=D[0],j=D[1],I=(0,a.useState)({}),L=(0,g.Z)(I,2),q=L[0],R=L[1],B=(0,a.useState)(!1),F=(0,g.Z)(B,2),A=F[0],M=F[1],N=function(){var e=(0,f.Z)(y().mark((function e(t){var n,a,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(!0),!(k.length>0&&t)){e.next=8;break}return e.next=4,et(k);case 4:n=e.sent,a=n.results,(r=n.error)?j(r):R(a);case 8:M(!1),S(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return T?r().createElement(te,{isOpen:!!T,variant:"error",title:"Error!",onClose:function(){N(!1),j()}},r().createElement(se,{error:T.detail})):r().createElement(r().Fragment,null,O?r().createElement(i.Tooltip,{content:O,position:"top"},r().createElement("div",null,r().createElement(i.Button,{spinnerAriaValueText:A?"Loading":void 0,variant:u||"secondary","aria-label":"Delete",isDisabled:d,onClick:function(){return N(!0)},ouiaId:v},_||"Delete"))):r().createElement(i.Button,{ouiaId:v,spinnerAriaValueText:A?"Loading":void 0,variant:u||"secondary","aria-label":"Delete",isDisabled:d,onClick:function(){return N(!0)}},_||"Delete"),r().createElement(te,{isOpen:Z,title:l,variant:"danger",onClose:function(){return N(!1)},actions:[r().createElement(i.Button,{ouiaId:"delete-modal-confirm",key:"delete",variant:"danger","aria-label":"Confirm Delete",isDisabled:d,onClick:function(){t(),N(!1)}},"Delete"),r().createElement(i.Button,{ouiaId:"delete-modal-cancel",key:"cancel",variant:"link","aria-label":"Cancel",onClick:function(){return N(!1)}},"Cancel")]},"Are you sure you want to delete:",r().createElement("br",null),r().createElement("strong",null,c),Object.values(q).length>0&&r().createElement(nt,{variant:"warning",isInline:!0,title:r().createElement("div",null,r().createElement("div",{"aria-label":h},h),r().createElement("br",null),Object.entries(q).map((function(e){var t=(0,g.Z)(e,2),n=t[0],a=t[1];return r().createElement("div",{"aria-label":"".concat(n,": ").concat(a),key:n},r().createElement(at,null,n)," ",r().createElement(i.Badge,null,a))})))})))};rt.propTypes={onConfirm:h().func.isRequired,modalTitle:h().string,name:h().string,variant:h().object,isDisabled:h().bool,ouiaId:h().string,deleteMessage:h().string,deleteDetailsRequests:h().array,disabledTooltip:h().bool,children:h().node};const lt=rt;var ot=function(e){var t=e.tabsArray,n=e.defaultTabId,a=void 0===n?1:n,o=(0,l.useHistory)(),c=(0,l.useLocation)();return r().createElement(i.Tabs,{activeKey:function(e){var n;return(null===(n=t.find((function(e){return e.link===c.pathname})))||void 0===n?void 0:n.id)||e}(a),onSelect:function(e,n){var a=t.find((function(e){return e.id===n}));a&&o.push(a.link)}},t.map((function(e){return r().createElement(i.Tab,{"aria-label":"string"==typeof e.name?e.name:"".concat(e.id," tab"),eventKey:e.id,key:e.id,link:e.link,title:r().createElement(i.TabTitleText,null,e.name),role:"tab"})})))};ot.propTypes={defaultTabId:h().number,tabsArray:(0,E.arrayOf)((0,E.shape)({id:E.number.isRequired,link:E.string.isRequired,name:(0,E.oneOfType)([E.string.isRequired,E.node.isRequired])})).isRequired};const it=ot;var ct,st,ut=n(75319),mt=n(35993);function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ft=(0,V.ZP)(i.CardBody)(ct||(ct=(0,M.Z)(["\n  min-height: 500px;\n  padding: 0;\n  padding-bottom: 20px;\n\n  &:first-child {\n    padding-top: 0;\n  }\n"]))),gt=(0,V.ZP)(i.Divider)(st||(st=(0,M.Z)(["\n  padding-top: 24px;\n"]))),vt=function(e){var t=e.tabsArray,n=e.plan,c=e.canWrite,s=(0,l.useLocation)().pathname,u=(0,Le.eR)(),m=n.id,g=n.automation_status,v=n.category,E=n.description,h=n.frequency_period,k=n.hosts,P=n.manual_time,O=n.modified,_=n.name,C=n.tasks,w=n.template_details,Z=n.template_id,S=(0,b.ZP)(d.nE,{}),x=S.result,D=S.isSuccess,T=S.request;(0,a.useEffect)((function(){T({})}),[]);var j=function(e,t){var n;if(!D||!x[e])return"";var a=x[e].find((function(e){return e.key===t}));return null!==(n=null==a?void 0:a.value)&&void 0!==n?n:""},I=function(e,t){return"None"!==e?r().createElement(ut.Z,{key:t,status:e}):r().createElement(i.Label,{key:t,variant:"outline",color:"red",icon:r().createElement(z.ZP,null),style:{marginRight:"0.5rem",marginBottom:"0.5rem"}},"Not Running")},L={Name:_||void 0,"Automation type":v?j("category",v):void 0,Description:E||void 0,"Manual time":P?j("manual_time",P):void 0,"Run on hosts":k||void 0,Frequency:h?j("frequency_period",h):void 0,Template:Z?function(e){if(e.id)return r().createElement("a",{onClick:function(){return function(e){var t=(0,p.Z)({},Le.zG,pt(pt({},mt.cY.defaultParams),{},{quick_date_range:"last_30_days",status:["failed","successful"],template_id:[e]}));u(o.n.jobExplorer,t)}(e.id)}},e.name)}(w):void 0,"Last job status":Array.isArray(g.status)?g.status.map((function(e,t){return I(e,t)})):I(g.status),"Last updated":O?r().createElement("span",null,(0,ue.o0)(O)):void 0},q=(0,b.ZP)(function(){var e=(0,f.Z)(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Kh)(t);case 2:u(o.n.savingsPlanner);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R=q.request,B=q.error,F=(0,b.pF)(B),A=F.error,M=F.dismissError;return r().createElement(r().Fragment,null,n&&r().createElement(r().Fragment,null,r().createElement(ft,null,r().createElement(it,{tabsArray:t}),r().createElement("div",{style:{padding:"1rem"}},r().createElement(i.DescriptionList,{isHorizontal:!0,columnModifier:{lg:"3Col"}},Object.keys(L).map((function(e,t){return void 0!==L[e]&&r().createElement(i.DescriptionListGroup,{key:t},"Last job status"===e?r().createElement(i.Tooltip,{key:"last_job_status_tooltip",position:i.TooltipPosition.top,content:g.last_known_day?"Status last reported on: ".concat(g.last_known_day):g.last_known_month?"Status last reported on: ".concat(g.last_known_month):g.last_known_year?"Status last reported on: ".concat(g.last_known_year):"Status last reported on: ".concat(g.last_known_date)},r().createElement(i.DescriptionListTerm,null,e)):r().createElement(i.DescriptionListTerm,null,e),r().createElement(i.DescriptionListDescription,null,L[e]))}))),C.length>0&&r().createElement(i.DescriptionList,null,r().createElement(gt,{component:"div"}),r().createElement(i.DescriptionListGroup,{key:C},r().createElement(i.DescriptionListTerm,null,"Tasks"),r().createElement(i.DescriptionListDescription,null,r().createElement(i.List,{component:"ol",type:"1"},C.map((function(e){var t=e.id,n=e.task;return r().createElement(i.ListItem,{key:t},n)})))))))),c&&r().createElement(i.CardFooter,null,r().createElement($e,null,r().createElement(i.Button,{key:"edit-plan-button",variant:"primary","aria-label":"Edit plan",onClick:function(){u("".concat(s.split("/details")[0],"/edit"))}},"Edit"),r().createElement(lt,{key:"delete-plan-button",name:_,modalTitle:"Delete Plan",onConfirm:function(){return R(m)}},"Delete")),A&&r().createElement(te,{isOpen:!!A,onClose:M,title:"Error",variant:"error"},r().createElement(se,{error:A.detail})))))};vt.propTypes={plan:h().object,tabsArray:h().array,canWrite:h().bool.isRequired};const yt=vt,Et=(0,n(40400).IU)({name:"SquareFullIcon",height:512,width:512,svgPath:"M512 512H0V0h512v512z",yOffset:0,xOffset:0});var ht=n(50028),bt=n(91354);const kt=function(e){return"".concat((+e.toFixed(0)).toLocaleString()," hours")};var Pt=function(e){var t=e.value,n=void 0===t?0:t,a=e.isMoney,l=void 0===a||a;return r().createElement(i.Card,{isPlain:!0},r().createElement(i.CardTitle,{style:{paddingBottom:"0"}},"Total savings"),r().createElement(i.CardBody,null,r().createElement(i.Title,{headingLevel:"h3",size:"4xl",style:{color:l?"var(--pf-global--success-color--200)":"#0063CF"}},"".concat(l?(0,bt.Z)(n):kt(n)))))};Pt.propTypes={value:h().number,isMoney:h().bool};const Ot=Pt;var _t=n(53688),Ct=function(){return r().createElement(r().Fragment,null,r().createElement("p",null,r().createElement("strong",null,"Cost")),r().createElement("p",null,"The cost includes the hours spent in implementation, deployment, training and other expenditures for creating, maintaining and running the automation. These hours (cost of investment) are usually higher at the onset, and will be greatly reduced once the automation has been created and only maintenance is required."),r().createElement("br",null),r().createElement("p",null,"For the initial period and the first year, we assume approximately 10 hours spent on each host, as well as some buffer time and a 40% risk adjustment to account for unforeseen situations."),r().createElement("br",null),r().createElement("p",null,"For the next two years after the first year, we assume 4 hours spent on each host, as well as a 40% risk adjustment to account for unforeseen situations."),r().createElement("br",null),r().createElement("p",null,"The formula used to calculate cost for the initial period and year 1:"),r().createElement(i.CodeBlock,null,r().createElement(i.CodeBlockCode,null,"C1 = (time for a manual run on one host in hours * 10) + buffer time\nC2 = C1 * 40% risk adjustment\ninitial cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)\nyear 1 cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)")),r().createElement("br",null),r().createElement("p",null,"The formula used to calculate cost for years 2 and 3:"),r().createElement(i.CodeBlock,null,r().createElement(i.CodeBlockCode,null,"C1 = (time for a manual run on one host in hours * 4)\nC2 = C1 * 40% risk adjustment\nyear 2 cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)\nyear 3 cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)")))},wt=function(){return r().createElement(r().Fragment,null,r().createElement("p",null,r().createElement("strong",null,"Savings")),r().createElement("p",null,"The savings indicates the time and money saved as a result of automating the plan."),r().createElement("br",null),r().createElement("p",null,"We assume 50% productivity recapture to account for the productivity that is usually gained by repeated manual implementation of a task over a period of time. We also add a -5% risk adjustment for unforeseen situations that might arise and need to be handled. We also assume a 15% year over year growth in savings."),r().createElement("br",null),r().createElement("p",null,"Money savings for the initial period is 0, so there is no formula necessary."),r().createElement("br",null),r().createElement("p",null,"The formula used to calculate savings for year 0:"),r().createElement(i.CodeBlock,null,r().createElement(i.CodeBlockCode,null,"initial period savings = 0 - initial cost")),r().createElement("br",null),r().createElement("p",null,"The formula used for savings for year 1:"),r().createElement(i.CodeBlock,null,r().createElement(i.CodeBlockCode,null,"S1 = (number of hosts * (manual time in minutes / 60) * yearly frequency of automation)\nS2 = S1 * 50% productivity recapture\nS3 = S2 * 5% risk adjustment * (cost per hour in USD if applicable, based on display)\nyear 1 savings = S2 - S3 - year 1 cost")),r().createElement("br",null),r().createElement("p",null,"The formula used to calculate savings for year 2:"),r().createElement(i.CodeBlock,null,r().createElement(i.CodeBlockCode,null,"S1 = year 1 savings * 15% growth\nyear 2 savings = year 1 savings + S1 - year 2 cost")),r().createElement("br",null),r().createElement("p",null,"The formula used to calculate savings for year 3:"),r().createElement(i.CodeBlock,null,r().createElement(i.CodeBlockCode,null,"S2 = year 2 savings * 15% growth\nyear 3 savings = year 2 savings + S2 - year 3 cost")))};const Zt=function(){var e=(0,a.useState)(!1),t=e[0],n=e[1];return r().createElement(r().Fragment,null,r().createElement(i.Button,{variant:i.ButtonVariant.link,onClick:function(){return n(!0)},icon:r().createElement(_t.uM,null)},"Automation formula"),r().createElement(i.Modal,{title:"Automation formula",isOpen:t,onClose:function(){return n(!1)},variant:i.ModalVariant.medium,actions:[r().createElement(i.Button,{key:"cancel",variant:i.ButtonVariant.primary,onClick:function(){return n(!1)}},"Close")]},r().createElement("p",null,"We use risk-adjusted factors to create the 3-year projection of cost and savings related to automation. While we aim to provide as accurate an account of the cost and savings as possible, actual values may differ in practice. The following information breaks down where we get the data, the risk-adjustment factors we use, the assumptions we make, and the formula used to compute the values as displayed in the chart."),r().createElement("br",null),r().createElement(Ct,null),r().createElement("br",null),r().createElement(wt,null)))};var St=n(86552),xt=function(){return xt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},xt.apply(this,arguments)},Dt=function(e){return{items:e.projections.series_stats,meta:{legend:[],count:0}}},Tt=function(e){return{cost:{key:e?"total_costs":"total_hours_spent_risk_adjusted",color:"#8B8D8F"},benefit:{key:e?"total_benefits":"total_hours_saved",color:e?"var(--pf-global--success-color--100)":"#0063CF"},net:{key:e?"cumulative_net_benefits":"cumulative_time_net_benefits",color:"#EE7A00"}}};const jt=function(e){var t,n,l,o,c=e.tabsArray,s=e.plan,u=(n={initial:"Initial",year1:"Year 1",year2:"Year 2",year3:"Year 3"},l=(t=s).projections.series_stats.map((function(e){return xt(xt({},e),{year:n[e.year],total_costs:-1*e.total_costs,total_hours_spent_risk_adjusted:-1*e.total_hours_spent_risk_adjusted})})),xt(xt({},t),{projections:xt(xt({},t.projections),{series_stats:l})})),m=(0,a.useState)(!0),d=m[0],p=m[1],f=[{id:1e3,kind:ht.$v.wrapper,type:ht.yD.chart,parent:null,props:{height:600,domainPadding:{x:100},padding:{bottom:60,left:80},themeColor:ht.nz.gray},tooltip:{cursor:!0,stickToAxis:"x",mouseFollow:!0,legendTooltip:{legendData:[{childName:Tt(d).benefit.key,name:"Savings",symbol:{fill:Tt(d).benefit.color}},{childName:Tt(d).cost.key,name:"Costs",symbol:{fill:Tt(d).cost.color}},{childName:Tt(d).net.key,name:"Cumulative savings",symbol:{fill:Tt(d).net.color}}],titleProperyForLegend:"year"},labelFormat:"customTooltipFormatting"},xAxis:{label:"Time"},yAxis:{label:d?"Money Saved":"Hours Saved",tickFormat:"formatNumberAsK",style:{grid:{stroke:"#D2D2D2"},axisLabel:{padding:60}}}},{id:1001,kind:ht.$v.stack,parent:1e3,props:{}},{id:1102,kind:ht.$v.simple,type:ht.oX.bar,name:Tt(d).benefit.key,parent:1001,props:{x:"year",y:Tt(d).benefit.key,barRatio:.8,barWidth:0,style:{data:{fill:Tt(d).benefit.color,width:120}}},tooltip:{labelName:""}},{id:1101,kind:ht.$v.simple,type:ht.oX.bar,name:Tt(d).cost.key,parent:1001,props:{x:"year",y:Tt(d).cost.key,barRatio:.8,barWidth:0,style:{data:{fill:Tt(d).cost.color,width:120}}},tooltip:{labelName:""}},{id:1002,kind:ht.$v.simple,type:ht.oX.line,name:Tt(d).net.key,parent:1e3,props:{x:"year",y:Tt(d).net.key,style:{data:{stroke:Tt(d).net.color,strokeWidth:5}}},tooltip:{labelName:""}}];return r().createElement(i.Card,null,r().createElement(it,{tabsArray:c}),r().createElement(i.Grid,null,r().createElement(i.GridItem,{span:9},r().createElement(i.Card,{isPlain:!0},r().createElement(i.CardHeader,null,r().createElement(i.CardActions,null,r().createElement(i.ToggleGroup,{"aria-label":"toggleButton"},r().createElement(i.ToggleGroupItem,{text:"Money",buttonId:"money",isSelected:d,onChange:function(){return p(!0)}}),r().createElement(i.ToggleGroupItem,{text:"Time",buttonId:"time",isSelected:!d,onChange:function(){return p(!1)}}))),r().createElement(i.CardTitle,null,u.name)),r().createElement(i.CardBody,null,r().createElement(St.Z,{schema:f,data:Dt(u),specificFunctions:{labelFormat:{customTooltipFormatting:function(e){var t=e.datum;return d?(0,bt.Z)(+t.y):kt(+t.y)}}}})))),r().createElement(i.GridItem,{span:3},r().createElement(r().Fragment,null,r().createElement(Ot,{value:(o=u,d?o.projections.series_stats[3].cumulative_net_benefits:o.projections.series_stats[3].cumulative_time_net_benefits),isMoney:d}),r().createElement(i.Card,{isPlain:!0},r().createElement(i.CardBody,null,r().createElement(i.List,{isPlain:!0},r().createElement(i.ListItem,{icon:r().createElement(Et,{color:Tt(d).benefit.color})},"Savings from automating this plan"),r().createElement(i.ListItem,{icon:r().createElement(Et,{color:Tt(d).cost.color})},"Costs from creating, maintaining and running the automation"),r().createElement(i.ListItem,{icon:r().createElement(Et,{color:Tt(d).net.color})},"Cumulative savings over time")))),r().createElement(Zt,null)))))};var It=n(47217),Lt=function(e){var t,n,o=e.data,i=(0,l.useParams)().id,c=(0,b.ZP)(d.nE,{meta:{rbac:{perms:{}}}}),s=c.result,u=c.isSuccess,m=c.request,p=!0===(null===(t=s.meta.rbac.perms)||void 0===t?void 0:t.write)||!0===(null===(n=s.meta.rbac.perms)||void 0===n?void 0:n.all);return(0,a.useEffect)((function(){m({})}),[]),(0,a.useEffect)((function(){u&&!p&&(0,It.Z)(dn.getDetails(i))}),[p]),u?r().createElement(He,{title:"Edit plan",options:s,data:o}):null};Lt.propTypes={data:h().object.isRequired};const qt=Lt,Rt=function(){var e,t,n=(0,l.useParams)().id,o=(0,l.useLocation)(),p=(0,l.useHistory)(),f={id:[n]},g="Details";-1!==o.pathname.indexOf("/statistics")?g="Statistics":-1!==o.pathname.indexOf("/edit")&&(g="Edit plan");var v=(0,b.ZP)(d.wD,{plan:{},rbac:{perms:{}}}),y=v.result,E=y.rbac,h=y.plan,k=v.isSuccess,P=v.error,O=v.request;(0,a.useEffect)((function(){return p.listen((function(e){e.pathname.includes("/edit")||O(n)}))}),[]),(0,a.useEffect)((function(){O(n)}),[n]);var _=k&&(!0===(null===(e=E.perms)||void 0===e?void 0:e.write)||!0===(null===(t=E.perms)||void 0===t?void 0:t.all)),C=[{id:0,name:r().createElement(r().Fragment,null,r().createElement(Ye.ZP,null),"Back to Plans"),link:dn.get},{id:1,name:"Details",link:dn.getDetails(n)},{id:2,name:"Statistics",link:"".concat(dn.getDetails(n),"/statistics")}],w=k?[{title:"Savings Planner",navigate:dn.get},{title:h.name,navigate:dn.getDetails(n)}]:[];return r().createElement(r().Fragment,null,P&&r().createElement(je.Z,{message:P.error}),k&&r().createElement(r().Fragment,null,r().createElement(s.Z,null,r().createElement(m.Z,{items:w}),r().createElement(u.Z,{title:g})),r().createElement(c.Z,null,r().createElement(i.Card,null,r().createElement(l.Switch,null,r().createElement(l.Route,{exact:!0,path:"/savings-planner/:id/edit"},r().createElement(qt,{data:h})),r().createElement(l.Route,{exact:!0,path:"/savings-planner/:id/statistics"},r().createElement(jt,{tabsArray:C,plan:h,queryParams:f})),r().createElement(l.Route,{exact:!0,path:dn.details},r().createElement(yt,{plan:h,tabsArray:C,canWrite:_})))))))};var Bt,Ft,At,Mt,Nt,zt=n(10001);function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wt=(0,V.ZP)(i.CardTitle)(Bt||(Bt=(0,M.Z)(["\n  word-break: break-word;\n"]))),Vt=V.ZP.span(Ft||(Ft=(0,M.Z)(["\n  margin-right: 5px;\n  font-weight: bold;\n"]))),Ut=V.ZP.small(At||(At=(0,M.Z)(["\n  display: block;\n  margin-bottom: 10px;\n  color: #6a6e73;\n"]))),Yt=(0,V.ZP)(i.Checkbox)(Mt||(Mt=(0,M.Z)(["\n  &.pf-c-check.pf-m-standalone {\n    margin-top: -3px;\n  }\n"]))),Kt=V.ZP.div(Nt||(Nt=(0,M.Z)(["\n  display: flex;\n  min-height: 30px;\n  align-items: center;\n"]))),$t=function(e){var t,n=e.isSuccess,c=e.plan,s=e.selected,u=void 0===s?[]:s,m=e.handleSelect,d=void 0===m?function(){}:m,f=e.canWrite,v=e.options,y=c.id,E=c.automation_status,h=c.category,b=c.description,k=c.frequency_period,P=c.modified,O=c.name,_=c.template_details,C=c.projections,w=(0,Le.eR)(),Z=null==C?void 0:C.series_stats[C.series_stats.length-1].cumulative_net_benefits,S=(0,a.useState)(!1),x=(0,g.Z)(S,2),D=x[0],T=x[1],j=(0,l.useRouteMatch)(),I=function(e,t){return v[e]?v[e].find((function(e){return e.key===t})).value:t},L=[r().createElement(r().Fragment,{key:y},r().createElement(i.DropdownItem,{key:"edit",onClick:function(){return w("".concat(j.url,"/").concat(y,"/edit"))},position:"right"},"Edit"),r().createElement(i.DropdownItem,{key:"link",onClick:function(){return w("".concat(j.url,"/").concat(y,"/edit#tasks"))},position:"right"},"Manage tasks"),r().createElement(i.DropdownItem,{key:"link",onClick:function(){return w("".concat(j.url,"/").concat(y,"/edit#link_template"))},position:"right"},"Link template"))];return r().createElement(i.Card,null,r().createElement(i.CardHeader,null,r().createElement(i.CardHeaderMain,null,r().createElement(Wt,null,r().createElement(l.Link,{to:"".concat(j.url,"/").concat(y)},O))),f&&r().createElement(i.CardActions,null,r().createElement(i.Dropdown,{onSelect:function(){},toggle:r().createElement(i.KebabToggle,{onToggle:function(){return T(!D)}}),isOpen:D,isPlain:!0,dropdownItems:L,position:"right"}),r().createElement(Yt,{onChange:function(){return d(c.id)},isChecked:u.includes(c.id),"aria-label":"card checkbox",id:"check-1",name:"check1"}))),r().createElement(i.CardBody,null,b?r().createElement(Ut,null,b):null,r().createElement(Kt,null,r().createElement(Vt,null,"Frequency")," ",k?I("frequency_period",k):r().createElement("span",null,"None")),r().createElement(Kt,null,r().createElement(Vt,null,"Template")," ",0!==Object.keys(_||{}).length?(t=_)&&n?r().createElement("a",{onClick:function(){return function(e){var t=(0,p.Z)({},Le.zG,Ht(Ht({},mt.cY.defaultParams),{},{quick_date_range:"last_30_days",status:["failed","successful"],template_id:[e]}));w(o.n.jobExplorer,t)}(t.id)}},t.name):null:r().createElement("span",null,"None -"," ",r().createElement("a",{onClick:function(){return w("".concat(j.url,"/").concat(y,"/edit#link_template"))}},"Link template"))),r().createElement(Kt,null,r().createElement(i.Tooltip,{key:"last_job_status_tooltip",position:i.TooltipPosition.top,content:E.last_known_day?"Status last reported on: ".concat(E.last_known_day):E.last_known_month?"Status last reported on: ".concat(E.last_known_month):E.last_known_year?"Status last reported on: ".concat(E.last_known_year):"Status last reported on: ".concat(E.last_known_date)},r().createElement(Vt,null,"Last job status")),Array.isArray(E.status)?E.status.map((function(e){return"None"!==e?r().createElement(ut.Z,{status:e}):r().createElement(i.Label,{variant:"outline",color:"red",icon:r().createElement(z.ZP,null),style:{marginRight:"0.5rem",marginBottom:"0.5rem"}},"Not Running")})):"None"!==E.status?r().createElement(ut.Z,{status:E.status}):r().createElement(i.Label,{variant:"outline",color:"red",icon:r().createElement(z.ZP,null),style:{marginRight:"0.5rem",marginBottom:"0.5rem"}},"Not Running")),Z&&r().createElement(Kt,null,r().createElement(Vt,null,"Projected savings"),r().createElement("a",{onClick:function(){return w("".concat(j.url,"/").concat(y,"/statistics"))}},(0,bt.Z)(+Z))),r().createElement(Kt,null,r().createElement(Vt,null,"Last updated")," ",r().createElement("span",null,(0,ue.o0)(P)))),r().createElement(i.CardFooter,null,r().createElement(i.Label,null,I("category",h))))};$t.propTypes={isSuccess:h().bool.isRequired,canWrite:h().bool.isRequired,selected:h().array,handleSelect:h().func,plan:h().object,options:h().object};const Xt=$t;var Qt=function(e){var t=e.name,n=e.username,a=e.image;return t||n||a?(t&&h().checkPropTypes({name:h().string},{name:e.name},"prop","ItemToDelete"),n&&h().checkPropTypes({username:h().string},{username:e.username},"prop","ItemToDelete"),a&&h().checkPropTypes({image:h().string},{image:e.image},"prop","ItemToDelete"),null):new Error("One of 'name', 'username' or 'image' is required by ItemToDelete component.")},Jt=function(e){var t,n=e.itemsToDelete,l=e.pluralizedItemName,o=void 0===l?"Items":l,c=e.onDelete,s=e.errorMessage,u=void 0===s?"Error while deleting":s,m=e.deleteDetailsRequests,d=void 0===m?[]:m,p=e.cannotDelete,v=void 0===p?function(e){return!e}:p,E=(0,a.useState)(!1),h=(0,g.Z)(E,2),b=h[0],k=h[1],P=(0,a.useState)(null),O=(0,g.Z)(P,2),_=O[0],C=O[1],w=(0,a.useState)(!1),Z=(0,g.Z)(w,2),S=Z[0],x=Z[1],D=(0,a.useState)(""),T=(0,g.Z)(D,2),j=T[0],I=T[1],L=function(){var e=(0,f.Z)(y().mark((function e(t){var a,r,l;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),C(null),!(t&&1===n.length&&(null==d?void 0:d.length)>0)){e.next=9;break}return e.next=5,et(d);case 5:a=e.sent,r=a.results,(l=a.error)?I(l):C(r);case 9:x(!1),k(t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q="Delete ".concat(o,"?"),R=0===n.length||n.some(v);return j?r().createElement(te,{isOpen:!!j,title:"Error!",onClose:function(){L(!1),I()}},r().createElement(se,{error:j.detail})):r().createElement(r().Fragment,null,r().createElement(i.Tooltip,{content:(t=n.filter(v).map((function(e){return e.name||e.username})).join(", "),n.some(v)?r().createElement("div",null,u?r().createElement(r().Fragment,null,r().createElement("span",null,u),r().createElement("span",null,": ".concat(t))):"You do not have permission to delete ".concat(o,": ").concat(t)):n.length?"Delete":"Select a plan to delete"),position:"top"},r().createElement("div",null,r().createElement(i.Button,{variant:"secondary",ouiaId:"delete-button",spinnerAriaValueText:S?"Loading":void 0,"aria-label":"Delete",onClick:function(){return L(!0)},isDisabled:R},"Delete"))),b&&r().createElement(te,{variant:"danger",title:q,isOpen:b,onClose:function(){return L(!1)},actions:[r().createElement(i.Button,{ouiaId:"delete-modal-confirm",key:"delete",variant:"danger","aria-label":"confirm delete",isDisabled:Boolean(_),onClick:function(){c(),L()}},"Delete"),r().createElement(i.Button,{key:"cancel",variant:"link","aria-label":"cancel delete",onClick:function(){return L(!1)}},"Cancel")]},r().createElement("div",null,"This action will delete the following:"),n.map((function(e){return r().createElement("span",{key:e.id},r().createElement("strong",null,e.name||e.username||e.image),r().createElement("br",null))}))))};Jt.propTypes={itemsToDelete:h().arrayOf(h().shape({id:h().number.isRequired,name:Qt,username:Qt,image:Qt})).isRequired,pluralizedItemName:h().string,onDelete:h().func.isRequired,errorMessage:h().string,warningMessage:h().node,deleteDetailsRequests:h().array,cannotDelete:h().func,deleteMessage:h().string};const en=Jt;var tn=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,l=t.length;r<l;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};var nn,an,rn;function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cn=V.ZP.div(nn||(nn=(0,M.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 76px);\n"]))),sn=V.ZP.div(an||(an=(0,M.Z)(["\n  flex-shrink: 0;\n"]))),un=(0,V.ZP)(c.Z)(rn||(rn=(0,M.Z)(["\n  flex-grow: 1;\n"])));const mn=function(){var e,t,n=(0,Le.eR)(),o=(0,l.useLocation)().pathname,c=(0,Le.Kx)(mt.bE.defaultParams),m=c.queryParams,p=c.setFromPagination,g=c.setFromToolbar,v=(0,b.ZP)(d.nE,{}),E=v.result,h=v.isSuccess,k=v.request,P=(0,b.ZP)(d.Wu,{items:[],rbac:{perms:{}},meta:{count:0}}),O=P.result,_=O.items,C=O.rbac,w=O.meta,Z=P.isLoading,S=P.isSuccess,x=P.error,D=P.request,T=on(on({},E),{},{name:[{key:"name",value:null}]});(0,a.useEffect)((function(){k({})}),[]),(0,a.useEffect)((function(){D(m)}),[m]);var j=S&&(!0===(null===(e=C.perms)||void 0===e?void 0:e.write)||!0===(null===(t=C.perms)||void 0===t?void 0:t.all)),I=function(e){void 0===e&&(e=[]);var t=(0,a.useState)([]),n=t[0],r=t[1],l=n.length>0&&n.length===e.length;return{selected:n,isAllSelected:l,handleSelect:function(e){n.some((function(t){return t===e}))?r((function(t){return tn([],t.filter((function(t){return t!==e})),!0)})):r((function(t){return tn(tn([],t,!0),[e],!1)}))},setSelected:r}}(_.map((function(e){return e.id}))),L=I.selected,q=I.handleSelect,R=I.setSelected,B=(0,b.px)(d.z2,null),F=B.isLoading,A=B.deletionError,M=B.deleteItems,N=B.clearDeletionError,z=function(){var e=(0,f.Z)(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(L);case 2:R([]),D(m);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r().createElement(cn,null,r().createElement(s.Z,null,r().createElement(u.Z,{title:"Savings Planner"}),r().createElement(qe.Z,{categories:T,filters:m,setFilters:g,additionalControls:[].concat((0,Ee.Z)(j?[r().createElement(i.Button,{key:"add-plan-button","data-cy":"add-plan-button",variant:"primary","aria-label":"Add plan",onClick:function(){n("".concat(o,"/add"))}},"Add plan")]:[]),[j&&h&&_.length>0&&r().createElement(en,{key:"delete-plan-button","data-cy":"delete-plan-button",onDelete:z,itemsToDelete:_.filter((function(e){return L.includes(e.id)})),pluralizedItemName:"Savings plan"})]),pagination:S&&_.length>0?r().createElement(Ie.Z,{count:w.count,params:{limit:+m.limit,offset:+m.offset},setPagination:p,isCompact:!0}):null})),r().createElement(un,null,x?r().createElement(je.Z,{message:x.error.error}):Z||F?r().createElement(De.Z,null):!S||0!==_.length||Z||F?!S||Z||F?null:r().createElement(i.Gallery,{hasGutter:!0,minWidths:{sm:"307px",md:"307px",lg:"307px",xl:"307px","2xl":"307px"}},_.map((function(e){return r().createElement(Xt,{key:e.id,isSuccess:S,selected:L,plan:e,handleSelect:q,canWrite:j,options:E})}))):r().createElement(zt.Z,{label:"Add plan",title:"No plans found",message:j?"Update the applied filters or add a new plan.":"Update the applied filters.",canAdd:j,path:"".concat(o,"/add")})),_.length>0&&!(Z||F)&&r().createElement(sn,null,r().createElement(Ie.Z,{count:w.count,params:{limit:+m.limit,offset:+m.offset},setPagination:p,variant:i.PaginationVariant.bottom})),A&&r().createElement(te,{"aria-label":"Deletion error",isOpen:A,onClose:N,title:"Error",variant:"error"},"Failed to delete one or more plans.",r().createElement(se,{error:A.detail})))};var dn={get:"".concat(o.n.savingsPlanner),add:"".concat(o.n.savingsPlanner,"/add"),edit:"".concat(o.n.savingsPlanner,"/:id/edit"),getEdit:function(e){return"".concat(o.n.savingsPlanner,"/").concat(e,"/edit")},details:"".concat(o.n.savingsPlanner,"/:id"),getDetails:function(e){return"".concat(o.n.savingsPlanner,"/").concat(e)}};const pn=function(){return r().createElement(l.Switch,null,r().createElement(l.Route,{exact:!0,path:dn.get},r().createElement(mn,null)),r().createElement(l.Route,{exact:!0,path:dn.add},r().createElement(We,null)),r().createElement(l.Route,{path:[dn.edit,dn.details]},r().createElement(Rt,null)))}},91354:(e,t,n)=>{n.d(t,{Z:()=>a});const a=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}}}]);
//# sourceMappingURL=../sourcemaps/8256.b657ab98ae6ddeb710c1dd80faab64b3.js.map