(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[188],{87986:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(22122),a=n(92950),o=n.n(a),i=n(334),l=n(45697),s=n.n(l),c=n(25914),u=function(e){var t=function(t){var n=t.id,a=t.margin,l=(0,i.useHistory)();return o().createElement(e,(0,r.Z)({},t,{getWidth:function(){return parseInt(c.Ys("#"+n).style("width"))-a.left-a.right||700},getHeight:function(){return parseInt(c.Ys("#"+n).style("height"))-a.top-a.bottom||450},history:l}))};return t.propTypes={id:s().string,margin:s().object},t};u.propTypes={Chart:s().element};const d=u},81672:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r,a,o,i,l,s,c=n(22122),u=n(81253),d=n(32465),p=n(92950),m=n.n(p),f=n(45697),h=n.n(f),g=n(58788),y=n(35451),v=n(84564),b=n(19694),E=n(31369),_=n(77669),x=n(29163),k=["isOpen","title","label","variant","children"],T=(0,x.ZP)(v.ZP)(r||(r=(0,d.Z)(["\n  color: var(--pf-global--danger-color--100);\n"]))),w=(0,x.ZP)(_.ZP)(a||(a=(0,d.Z)(["\n  color: var(--pf-global--danger-color--100);\n"]))),j=(0,x.ZP)(E.ZP)(o||(o=(0,d.Z)(["\n  color: var(--pf-global--info-color--100);\n"]))),Z=(0,x.ZP)(y.ZP)(i||(i=(0,d.Z)(["\n  color: var(--pf-global--success-color--100);\n"]))),C=(0,x.ZP)(b.ZP)(l||(l=(0,d.Z)(["\n  color: var(--pf-global--warning-color--100);\n"]))),O=x.ZP.div(s||(s=(0,d.Z)(["\n  display: flex;\n  svg {\n    margin-right: 16px;\n  }\n"]))),S=function(e){var t=e.isOpen,n=e.title,r=e.label,a=void 0===r?"Alert modal":r,o=e.variant,i=void 0===o?"warning":o,l=e.children,s=(0,u.Z)(e,k),d={danger:m().createElement(T,{size:"lg"}),error:m().createElement(w,{size:"lg"}),info:m().createElement(j,{size:"lg"}),success:m().createElement(Z,{size:"lg"}),warning:m().createElement(C,{size:"lg"})},p=m().createElement(O,null,i?d[i]:null,m().createElement(g.Title,{id:"alert-modal-header-label",size:"2xl",headingLevel:"h2"},n));return m().createElement(g.Modal,(0,c.Z)({header:p,"aria-label":a,"aria-labelledby":"alert-modal-header-label",isOpen:!!t,variant:"small",title:n},s),l)};S.propTypes={isOpen:h().bool.isRequired,title:h().string.isRequired,label:h().string,variant:h().string,children:h().node};const P=S},55411:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(81672)},83160:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(92950),a=n.n(r),o=n(45697),i=n.n(o),l=n(58788),s=n(84564),c=n(29587),u=function(e){var t=e.message;return a().createElement(l.EmptyState,{variant:l.EmptyStateVariant.small},a().createElement(l.EmptyStateIcon,{icon:s.ZP,color:c.global_danger_color_200.value}),a().createElement(l.Title,{headingLevel:"h2",size:"lg"},"Error"),a().createElement(l.EmptyStateBody,null,t))};u.propTypes={message:i().string};const d=u},69595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(92950),a=n.n(r),o=n(45697),i=n.n(o),l=n(58788),s=n(83653),c=function(e){var t=e.items,n=void 0===t?[]:t,r=e.current,o=void 0===r?null:r;return a().createElement(l.Breadcrumb,null,n.map((function(e){var t=e.title,n=e.navigate,r=(0,s.Z)()+n;return a().createElement(l.BreadcrumbItem,{key:t,to:r},t)})),o&&a().createElement(l.BreadcrumbHeading,null,o))};c.propTypes={items:i().arrayOf(i().shape({navigate:i().any,title:i().node})),current:i().node};const u=c},66088:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r,a,o,i,l,s=n(32465),c=n(92950),u=n.n(c),d=n(29163),p=n(45697),m=n.n(p),f=d.ZP.div(r||(r=(0,s.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  width: 100%;\n  max-width: 100%;\n  height: 1rem;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n"]))),h=d.ZP.div(a||(a=(0,s.Z)(["\n  height: 100%;\n"]))),g=d.ZP.div(o||(o=(0,s.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin-bottom: 1rem;\n"]))),y=d.ZP.div(i||(i=(0,s.Z)(["\n  padding-left: 2rem;\n  display: flex;\n  align-items: center;\n  margin-bottom: 1.5rem;\n"]))),v=d.ZP.div(l||(l=(0,s.Z)(["\n  width: 0.75rem;\n  height: 0.75rem;\n  margin-right: 0.5rem;\n"])));function b(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}var E=function(e){var t=e.categoryCount,n=e.categoryColor,r=e.showPercent,a=void 0!==r&&r,o=Object.values(t).reduce((function(e,t){return e+t})),i=Object.keys(t).filter((function(e){return t[e]>0})).sort((function(e,n){return t[e]<t[n]?1:t[e]>t[n]?-1:0})).map((function(e){return{name:e,barSpacing:t[e]/o,color:n[e]}})),l=1-.15*(i.length-1)/100;return u().createElement(u().Fragment,null,u().createElement(f,null,i.map((function(e,t){var n=e.barSpacing,r=e.color;return t<i.length-1?u().createElement(u().Fragment,{key:t},u().createElement(h,{style:{backgroundColor:r,width:"".concat(100*n*l,"%")}}),u().createElement(h,{style:{backgroundColor:"transparent",width:"".concat(.15,"%")}})):u().createElement(u().Fragment,{key:t},u().createElement(h,{style:{backgroundColor:r,width:"".concat(100*n*l,"%")}}))}))),u().createElement(g,null,i.map((function(e){var t=e.name,n=e.barSpacing,r=e.color;return u().createElement(y,{key:"label-".concat(t)},u().createElement(v,{style:{backgroundColor:r}}),a?u().createElement("p",null,b(t)," ",Math.round(100*n),"%"):u().createElement("p",null,b(t)))}))))};E.propTypes={categoryColor:m().object.isRequired,categoryCount:m().object.isRequired,showPercent:m().bool};const _=E},2205:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(92950),a=n.n(r),o=n(45697),i=n.n(o),l=n(58788),s=n(2112),c=n(27839),u=n(13784),d=function(e){var t=e.preflightError;return a().createElement(l.EmptyState,{variant:l.EmptyStateVariant.full},a().createElement(l.EmptyStateIcon,{icon:s.ZP}),404===t.status&&a().createElement(a().Fragment,null,a().createElement(l.Title,{headingLevel:"h5",size:"lg"},"No data found"),a().createElement(l.EmptyStateBody,null,"Please visit"," ",a().createElement("a",{href:"https://docs.ansible.com/ansible-tower/latest/html/administration/usability_data_collection.html#automation-analytics",target:"_blank",rel:"noopener noreferrer"},"here")," ","to learn how to enable Automation Analytics.")),401===t.status&&a().createElement(a().Fragment,null,a().createElement(l.Title,{headingLevel:"h5",size:"lg"},"Not authorized"),a().createElement(l.EmptyStateBody,null,"You do not have the correct permissions to view this page.")),403===t.status&&a().createElement(c.Z,u.dR),!t.status&&a().createElement(a().Fragment,null,a().createElement(l.Title,{headingLevel:"h5",size:"lg"},"Something went wrong, please try reloading the page"),a().createElement(l.Button,{variant:"primary",onClick:function(){return window.location.reload()}},"Reload")))};d.propTypes={preflightError:i().object};const p=d},62923:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r,a,o,i=n(34699),l=n(32465),s=n(92950),c=n.n(s),u=n(45697),d=n.n(u),p=n(29163),m=n(58788),f=(0,p.ZP)(m.Card)(r||(r=(0,l.Z)(["\n  background-color: var(--pf-global--BackgroundColor--200);\n  overflow-wrap: break-word;\n"]))),h=(0,p.ZP)(m.CardBody)(a||(a=(0,l.Z)(["\n  max-height: 200px;\n  overflow: scroll;\n"]))),g=(0,p.ZP)(m.ExpandableSection)(o||(o=(0,l.Z)(["\n  text-align: left;\n\n  & .pf-c-expandable__toggle {\n    padding-left: 10px;\n    margin-left: 5px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n"])));function y(e){var t=e.error,n=(0,s.useState)(!1),r=(0,i.Z)(n,2),a=r[0],o=r[1];return c().createElement(c().Fragment,null,Array.isArray(t)&&t.length&&c().createElement(g,{toggleText:"Details",onToggle:function(){o(!a)},isExpanded:a},c().createElement(f,null,c().createElement(h,null,c().createElement("ul",null,t.map((function(e){return"string"==typeof e?c().createElement("li",{key:e},e):null})))))))}y.propTypes={error:d().arrayOf(d().string)};const v=y},23071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(62923)},20272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(92950),a=n.n(r),o=n(45697),i=n.n(o),l=n(58788),s=n(35451),c=n(84564),u=n(56803),d=n(98717),p=n(19694),m=function(e){var t,n=e.status;return a().createElement(l.Label,{variant:"outline",color:function(){switch(n){case"successful":return"green";case"failed":case"error":return"red";case"running":case"pending":return"blue";case"canceled":return"orange";default:return"grey"}}(),icon:function(){switch(n){case"successful":return a().createElement(s.ZP,null);case"failed":case"error":return a().createElement(c.ZP,null);case"running":return a().createElement(d.ZP,null);case"canceled":return a().createElement(p.ZP,null);default:return a().createElement(u.ZP,null)}}()},(t=n).charAt(0).toUpperCase()+t.slice(1))};m.propTypes={status:i().oneOf(["successful","failed","error","running","new","waiting","pending","canceled"])};const f=m},94794:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(92950),a=n.n(r),o=n(58788),i=n(96733);const l=function(){return a().createElement(o.EmptyState,{variant:o.EmptyStateVariant.full},a().createElement(o.EmptyStateIcon,{icon:i.ZP}),a().createElement(o.Title,{headingLevel:"h5",size:"lg"},"Loading..."),a().createElement(o.EmptyStateBody,null,"Please wait."))}},97853:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(92950),a=n.n(r),o=n(58788),i=n(96733);const l=function(){return a().createElement(o.EmptyState,{variant:o.EmptyStateVariant.full},a().createElement(o.EmptyStateIcon,{icon:i.ZP}),a().createElement(o.Title,{headingLevel:"h5",size:"lg"},"No Data"))}},26249:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(92950),a=n.n(r),o=n(58788),i=n(71070);const l=function(){return a().createElement(o.EmptyState,{variant:o.EmptyStateVariant.full},a().createElement(o.EmptyStateIcon,{icon:i.ZP}),a().createElement(o.Title,{size:"lg",headingLevel:"h4"},"No results found"),a().createElement(o.EmptyStateBody,null,"No results match the filter criteria. Remove all filters or clear all filters to show results."))}},48951:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Q});var r=n(96156),a=n(81253),o=n(34699),i=n(92950),l=n.n(i),s=n(45697),c=n.n(s),u=n(58788),d=n(8755),p=n(31257),m={status:{type:"select",isSingle:!1,name:"Status",placeholder:"Filter by job status",hasChips:!0},quick_date_range:{type:"select",isSingle:!0,name:"Date",placeholder:"Filter by date",hasChips:!1},start_date:{type:"date",name:"Start date",hasChips:!1},end_date:{type:"date",name:"End date",hasChips:!1},job_type:{type:"select",isSingle:!1,name:"Job",placeholder:"Filter by job type",hasChips:!0},org_id:{type:"select",isSingle:!1,name:"Organization",placeholder:"Filter by organization",hasChips:!0},cluster_id:{type:"select",isSingle:!1,name:"Cluster",placeholder:"Filter by cluster",hasChips:!0},template_id:{type:"select",isSingle:!1,name:"Template",placeholder:"Filter by template",hasChips:!0},sort_options:{type:"select",isSingle:!0,name:"Sort by",placeholder:"Sort by attribute",hasChips:!1},automation_status:{type:"select",isSingle:!1,name:"Automation status",placeholder:"Filter by automation status",hasChips:!0},frequency_period:{type:"select",isSingle:!1,name:"Frequency",placeholder:"Filter by frequency",hasChips:!0},category:{type:"select",isSingle:!1,name:"Category",placeholder:"Filter by category",hasChips:!0},inventory_id:{type:"select",isSingle:!1,name:"Inventory",placeholder:"Filter by inventory",hasChips:!0},name:{type:"text",name:"Search by name",hasChips:!0}},f=function(e){var t=e.selected,n=e.setSelected,r=void 0===n?function(){}:n,a=e.categories,s=void 0===a?[]:a,c=(0,i.useState)(!1),d=(0,o.Z)(c,2),p=d[0],m=d[1];return l().createElement(u.ToolbarItem,null,l().createElement(u.Select,{isOpen:p,variant:"single","aria-label":"Categories",onToggle:function(){return m(!p)},onSelect:function(e,t){r(t),m(!1)},selections:t,placeholderText:"Filter by"},s.map((function(e){var t=e.key,n=e.name;return l().createElement(u.SelectOption,{key:t,value:t},n)}))))};f.propTypes={categories:c().array,selected:c().string,setSelected:c().func};const h=f;var g,y=n(87329),v=n(32465),b=(0,n(29163).ZP)("span")(g||(g=(0,v.Z)(["\n  display: block;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  max-width: 300px;\n"]))),E=function(e){return e&&e.map((function(e){var t=e.key,n=e.value,r=e.description;return l().createElement(u.SelectOption,{key:t,value:t,description:r},l().createElement(u.Tooltip,{content:l().createElement("div",null,n)},l().createElement(b,null,n)))}))},_=function(e){var t,n,r,a=e.categoryKey,s=e.value,c=e.selectOptions,d=e.isVisible,p=void 0===d||d,f=e.setValue,h=(0,i.useState)(!1),g=(0,o.Z)(h,2),v=g[0],b=g[1],_=m[a];return l().createElement(u.ToolbarFilter,{"data-cy":a,key:a,showToolbarItem:p,chips:_.hasChips?_.isSingle?(n=c,(t=s)&&"string"==typeof t&&n&&(n.forEach((function(e){e.key===t&&(r=e.value)})),void 0!==r)?[r]:[]):function(e,t){return e&&t?e.reduce((function(e,n){return Number.isInteger(parseInt(n))&&(n=parseInt(n)),t.forEach((function(t){t.key===n&&e.push(t.value)})),e}),[]):[]}(s,c):[],categoryName:_.name,deleteChip:_.hasChips?function(e,t){if(m[a].isSingle)f(null);else{var n=c.find((function(e){return e.value===t})).key,r=s.filter((function(e){return e!==n}));f(r)}}:null},l().createElement(u.Select,{variant:_.isSingle?u.SelectVariant.single:u.SelectVariant.checkbox,"aria-label":_.name,onToggle:function(){return b(!v)},onSelect:function(e,t){_.isSingle?(f(t),b(!1)):f(s.includes(t)?s.filter((function(e){return e!==t})):[].concat((0,y.Z)(s),[t]))},selections:s,isOpen:v,hasInlineFilter:!0,placeholderText:_.placeholder,onFilter:function(e,t){return E(""===t?c:c.filter((function(e){return e.value.toLowerCase().includes(t.toLowerCase())})))},maxHeight:"1000%"},E(c)))};_.propTypes={categoryKey:c().string.isRequired,value:c().oneOfType([c().number,c().string,c().arrayOf(c().oneOfType([c().string,c().number]))]).isRequired,selectOptions:c().array,isVisible:c().bool,setValue:c().func.isRequired};const x=_;var k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},T=function(e){var t=e.categoryKey,n=e.value,r=void 0===n?"":n,a=e.setValue,o=void 0===a?function(){return{}}:a,i=e.otherProps,s=void 0===i?{}:i,c=m[t];return l().createElement(u.DatePicker,k({"aria-label":c.name,value:r,onChange:o,inputProps:{isReadOnly:!0}},s))};T.propTypes={categoryKey:c().string.isRequired,value:c().string,setValue:c().func.isRequired,otherProps:c().any};const w=T;var j=n(71070),Z=function(e){var t=e.categoryKey,n=e.isVisible,r=void 0===n||n,a=e.value,s=void 0===a?"":a,c=e.setValue,d=(0,i.useState)(s),p=(0,o.Z)(d,2),f=p[0],h=p[1],g=m[t];return(0,i.useEffect)((function(){h(s)}),[s]),l().createElement(u.ToolbarFilter,{"data-cy":t,key:t,showToolbarItem:r,chips:g.hasChips&&s?[s]:[],categoryName:g.name,deleteChip:g.hasChips?function(){c("")}:null},l().createElement(u.InputGroup,null,l().createElement(u.TextInput,{type:"search","aria-label":g.name,value:f,onChange:h,onKeyDown:function(e){e.key&&"Enter"===e.key&&(e.preventDefault(),c(f))}}),l().createElement(u.Button,{variant:"control","aria-label":"Search button for ".concat(g.name),onClick:function(){c(f)}},l().createElement(j.ZP,null))))};Z.propTypes={categoryKey:c().string.isRequired,value:c().any,isVisible:c().bool,setValue:c().func.isRequired};var C=["categoryKey","value","selectOptions","isVisible","setValue"],O={select:x,date:w,text:Z},S=function(e){var t=e.categoryKey,n=e.value,r=e.selectOptions,o=e.isVisible,i=void 0===o||o,s=e.setValue,c=(0,a.Z)(e,C),u=m[t],d=O[u.type];return l().createElement(d,{categoryKey:t,value:n||("select"!==u.type||u.isSingle?"":[]),selectOptions:r,isVisible:i,setValue:s,otherProps:c})};S.propTypes={categoryKey:c().string.isRequired,value:c().oneOfType([c().number,c().string,c().arrayOf(c().oneOfType([c().string,c().number]))]),selectOptions:c().array,isVisible:c().bool,setValue:c().func.isRequired};const P=S;var D=function(e){var t=e.filterCategories,n=e.filters,r=e.handleSearch,a=e.setFilters,s=(0,i.useState)(Object.keys(t)[0]),c=(0,o.Z)(s,2),d=c[0],p=c[1];return l().createElement(u.ToolbarGroup,{variant:"filter-group"},l().createElement(h,{selected:d,setSelected:p,categories:Object.keys(t).map((function(e){return{key:e,name:m[e].name}}))}),Object.keys(t).map((function(e){return l().createElement(P,{key:e,categoryKey:e,value:n[e],selectOptions:t[e],isVisible:d===e,setValue:function(t){a(e,t),r(e,t)}})})))};D.propTypes={filterCategories:c().object.isRequired,filters:c().object.isRequired,handleSearch:c().func.isRequired,setFilters:c().func.isRequired};const B=D;var q=n(79886),I=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,q.Lg)(e);return t?n.toISOString().split(/T/)[0]:n},R=function(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])},F=function(e){var t=e.filters,n=e.handleSearch,r=e.setFilters,a=e.values,o=t.end_date||I(0,!0),i=t.start_date||I(-30,!0);return l().createElement(u.ToolbarGroup,{variant:"filter-group"},l().createElement(P,{categoryKey:"quick_date_range",value:t.quick_date_range,selectOptions:a,setValue:function(e){return r("quick_date_range",e)}}),t.quick_date_range&&t.quick_date_range.includes("custom")&&l().createElement(u.Split,{hasGutter:!0},l().createElement(u.SplitItem,null,l().createElement(P,{categoryKey:"start_date",value:i,setValue:function(e){r("start_date",e),n("start_date",e)},validators:[function(e){return"string"==typeof o&&e>R(o)?"Must not be after end date":""}]})),l().createElement(u.SplitItem,{style:{paddingTop:"6px"}},"to"),l().createElement(u.SplitItem,null,l().createElement(P,{categoryKey:"end_date",value:o,setValue:function(e){r("end_date",e),n("end_date",e)},validators:[function(e){return"string"==typeof i&&e<R(i)?"Must not be before start date":e>(0,q.Lg)()?"Must not be after today":""}]}))))};F.propTypes={filters:c().object.isRequired,handleSearch:c().func.isRequired,setFilters:c().func.isRequired,values:c().array.isRequired};const A=F;var L=n(59507),N=n(98702),M=function(e){var t=e.filters,n=e.handleSearch,r=e.setFilters,a=e.sort_options;return l().createElement(u.ToolbarGroup,{variant:"filter-group"},l().createElement(P,{categoryKey:"sort_options",value:t.sort_options,selectOptions:a,setValue:function(e){r("sort_options",e),n("sort_options",e)}}),l().createElement(u.Button,{variant:"control",onClick:function(){r("sort_order","asc"===t.sort_order?"desc":"asc"),n("sort_order","asc"===t.sort_order?"desc":"asc")}},"asc"===t.sort_order&&l().createElement(N.ZP,null),"desc"===t.sort_order&&l().createElement(L.ZP,null)))};M.propTypes={filters:c().object.isRequired,handleSearch:c().func.isRequired,setFilters:c().func.isRequired,sort_options:c().array.isRequired};const z=M;var Y=n(87673),W=n(33606),U=function(e){var t=e.filters,n=e.handleSearch,r=e.setFilters,a=e.settingsExpanded,o=e.setSettingsExpanded;return l().createElement(u.Card,{isFlat:!0,style:{backgroundColor:"#EEEEEE"}},l().createElement(u.CardHeader,null,l().createElement(u.CardActions,null,l().createElement(u.Button,{variant:"plain",onClick:function(){return o(!a)}},l().createElement(W.ZP,null))),l().createElement(u.CardTitle,null,"Settings")),l().createElement(u.CardBody,null,l().createElement(u.Switch,{id:"showRootWorkflowJobs",label:"Ignore nested workflows and jobs",labelOff:"Ignore nested workflows and jobs",isChecked:t.only_root_workflows_and_standalone_jobs,onChange:function(e){r("only_root_workflows_and_standalone_jobs",e),n("only_root_workflows_and_standalone_jobs",e)}}),l().createElement(u.Tooltip,{position:"top",content:l().createElement("div",null," ","If enabled, nested workflows and jobs will not be included in the overall totals. Enable this option to filter out duplicate entries.")},l().createElement(Y.ZP,null))))};U.propTypes={filters:c().object.isRequired,handleSearch:c().func.isRequired,setFilters:c().func.isRequired,settingsExpanded:c().bool.isRequired,setSettingsExpanded:c().func.isRequired};const G=U;var H=n(334),V=n(21048),K=["quick_date_range","sort_options"];function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var $=function(e){var t=e.categories,n=e.filters,s=e.qsConfig,c=e.setFilters,f=e.pagination,h=void 0===f?null:f,g=e.hasSettings,y=void 0!==g&&g,v=e.additionalControls,b=void 0===v?[]:v,E=e.hideQuickDateRange,_=void 0!==E&&E,x=e.hideSortOptions,k=void 0!==x&&x,T=(0,i.useState)(!1),w=(0,o.Z)(T,2),j=w[0],Z=w[1],C=t.quick_date_range,O=t.sort_options,S=(0,a.Z)(t,K),P=(0,H.useHistory)(),D=Object.keys(S).filter((function(e){return Object.keys(m).includes(e)})).reduce((function(e,t){return e[t]=S[t],e}),{}),q=function(e,t){var n=(0,V.dD)(s,P.location.search);n=(0,V.sM)(n,(0,r.Z)({},e,t)),n=(0,V.Zd)(n,(0,r.Z)({},e,t)),""!==t&&0!==t.length||(n=(0,V.mn)(s,n,(0,r.Z)({},e,n[e]))),I(n,s)},I=function(e,t){var n=P.location.pathname,r=(0,V.dD)({},P.location.search),a=(0,V.p9)(t,e,r);P.push(a?"".concat(n,"?").concat(a):n)};return l().createElement(l().Fragment,null,l().createElement(u.Toolbar,{id:"".concat(s.namespace,"-filterable-toolbar-with-chip-groups"),clearAllFilters:function(){(function(e){var t=(0,V.dD)(e,P.location.search),n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);delete n.limit,delete n.sort_by,I((0,V.mn)(e,t,n),e)})(s),c(null,null)},collapseListedFiltersBreakpoint:"xl"},l().createElement(u.ToolbarContent,null,l().createElement(u.Button,{variant:"control"},l().createElement(d.ZP,null)),Object.keys(D).length>0&&l().createElement(B,{filterCategories:D,filters:n,setFilters:c,handleSearch:q}),!_&&C&&l().createElement(A,{filters:n,setFilters:c,values:C,handleSearch:q}),!k&&O&&l().createElement(z,{filters:n,setFilters:c,sort_options:O,handleSearch:q}),y&&l().createElement(u.ToolbarItem,null,l().createElement(u.Button,{variant:"plain",onClick:function(){return Z(!j)},"aria-label":"settings",isActive:j},l().createElement(p.ZP,null))),b.length>0&&l().createElement(u.ToolbarGroup,null,b.map((function(e,t){return l().createElement(u.ToolbarItem,{key:t},e)}))),h&&l().createElement(u.ToolbarItem,{variant:"pagination",visibility:{default:"hidden",lg:"visible"}},h)),j&&l().createElement(G,{filters:n,setFilters:c,handleSearch:q,settingsExpanded:j,setSettingsExpanded:Z})))};$.propTypes={categories:c().object.isRequired,qsConfig:c().object.isRequired,filters:c().object.isRequired,setFilters:c().func.isRequired,pagination:c().object,hasSettings:c().bool,additionalControls:c().array,hideSortOptions:c().bool,hideQuickDateRange:c().bool};const Q=$},95735:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(48951).Z},1859:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_e});var r=n(92137),a=n(34699),o=n(96156),i=n(87757),l=n.n(i),s=n(92950),c=n.n(s),u=n(45697),d=n.n(u),p=n(86350),m=n(48716),f=n(39173),h=n(58788),g=n(94794),y=n(97853),v=n(2205),b=n(83160),E=n(95735),_=n(64866),x=n(53677),k=n(13784),T=n(14115),w=n(79886),j=n(77388),Z=n(21048),C=n(63349),O=n(10379),S=n(86089),P=n(77608),D=n(6610),B=n(5991),q=n(25914),I=n(87986),R=n(91354);var F=function(){function e(t){var n=this;(0,D.Z)(this,e),(0,o.Z)(this,"handleMouseOver",(function(e){var t,r,a,o,i=q.Ys("#d3-roi-chart-root").node().scrollLeft,l=q.Ba6.pageX-q.Ys(n.svg).node().getBoundingClientRect().x+10+i,s=q.Ba6.pageY-q.Ys(n.svg).node().getBoundingClientRect().y-30;if(e){r=(0,R.Z)(+e.delta),t=e.name,a=(0,R.Z)(+e.manualCost),o=(0,R.Z)(+e.automatedCost);var c=n.toolTipBase.node().getBoundingClientRect().width,u=q.Ys(n.svg+"> svg").node().getBoundingClientRect().width,d=100-c/u*100<l/u*100;n.name.text(""+t),n.savings.text("Total savings ".concat(r)),n.manualCost.text("Manual Cost ".concat(a)),n.automationCost.text("Automation Cost ".concat(o)),n.nameWidth=n.name.node().getComputedTextLength(),n.savingsWidth=n.savings.node().getComputedTextLength(),n.manualCostWidth=n.manualCost.node().getComputedTextLength(),n.automationCostWidth=n.automationCost.node().getComputedTextLength(),n.widestTextElem=q.Fp7([n.nameWidth,n.savingsWidth,n.automationCostWidth,n.manualCostWidth]);var p,m=n.widestTextElem/n.boxWidth*100,f=m/85;p=m>85?n.boxWidth*f:n.boxWidth,n.boundingBox.attr("width",p),n.toolTipBase.attr("transform","translate("+l+","+s+")"),d?(n.toolTipPoint.attr("transform","translate(-20, 15) rotate(45)"),n.boundingBox.attr("x",-p-20),n.name.attr("x",-(c-7)),n.savings.attr("x",-(c-7)),n.manualCost.attr("x",-(c-7)),n.automationCost.attr("x",-(c-7))):(n.toolTipPoint.attr("transform","translate(10, 15) rotate(45)"),n.boundingBox.attr("x",10),n.name.attr("x",20),n.savings.attr("x",20),n.manualCost.attr("x",20),n.automationCost.attr("x",20)),n.toolTipBase.style("opacity",1),n.toolTipBase.interrupt()}})),(0,o.Z)(this,"handleMouseOut",(function(){n.toolTipBase.transition().delay(15).style("opacity",0).style("pointer-events","none")})),this.svg=t.svg,this.draw()}return(0,B.Z)(e,[{key:"draw",value:function(){this.width=125,this.toolTipBase=q.Ys(this.svg+"> svg").append("g"),this.toolTipBase.attr("id","svg-chart-Tooltip-base-"+this.svg.slice(1)),this.toolTipBase.attr("overflow","visible"),this.toolTipBase.style("opacity",0),this.toolTipBase.style("pointer-events","none"),this.toolTipBase.attr("transform","translate(100, 100)"),this.boxWidth=125,this.textWidthThreshold=20,this.toolTipPoint=this.toolTipBase.append("rect").attr("transform","translate(10, 0) rotate(45)").attr("x",0).attr("y",0).attr("height",20).attr("width",20).attr("fill","#393f44"),this.boundingBox=this.toolTipBase.append("rect").attr("x",10).attr("y",-23).attr("rx",2).attr("height",92).attr("width",this.boxWidth).attr("fill","#393f44"),this.name=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",20).attr("y",-2).text("Template name"),this.savings=this.toolTipBase.append("text").attr("x",20).attr("y",52).attr("font-size",12).attr("font-weight","bold").attr("fill","white").text("Total savings $0"),this.manualCost=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",20).attr("y",16).text("Manual cost $0"),this.automationCost=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",20).attr("y",34).text("Automation cost $0")}}]),e}(),A=function(e){(0,O.Z)(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,P.Z)(t);if(n){var a=(0,P.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,S.Z)(this,e)});function a(e){var t;return(0,D.Z)(this,a),(t=r.call(this,e)).init=t.init.bind((0,C.Z)(t)),t.draw=t.draw.bind((0,C.Z)(t)),t.resize=t.resize.bind((0,C.Z)(t)),t.state={timeout:null},t}return(0,B.Z)(a,[{key:"resize",value:function(){var e=this,t=this.state.timeout;clearTimeout(t),this.setState({timeout:setTimeout((function(){e.init()}),500)})}},{key:"init",value:function(){this.draw()}},{key:"draw",value:function(){var e="#0066CC";q.td_("#"+this.props.id+" > *").remove();var t,n=this.props.data;t=n.length>=15?q.Ys(".automation-wrapper").node().getBoundingClientRect().width-this.props.margin.left-this.props.margin.right:this.props.getWidth();var r,a=this.props.getHeight(),o=q.tiA().rangeRound([0,t]).padding(.45),i=q.BYU().range([a,0]);r=n.map((function(e){return e.name}));var l=q.WUZ(".2s"),s=q.LLu(o).tickValues(r),c=q.y4O(i).ticks(8).tickFormat((function(e){return l(e).replace("G","B")})).tickSize(-t,0,0),u=q.Ys("#"+this.props.id).append("svg").attr("width",t+this.props.margin.left+this.props.margin.right).attr("height",a+this.props.margin.bottom+this.props.margin.top).append("g").attr("transform","translate("+this.props.margin.left+","+this.props.margin.top+")"),d=n.map((function(e){return e.name})),p=new F({svg:"#"+this.props.id});o.domain(d),i.domain([0,q.Fp7(n,(function(e){return 1.15*e.delta}))||8]),u.append("g").attr("class","y axis").call(c).selectAll("line").attr("stroke","#d7d7d7").append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").style("font-weight","bold").text("Value"),u.append("text").attr("transform","rotate(-90)").attr("y",0-this.props.margin.left).attr("x",0-a/2).attr("dy","1em").style("text-anchor","middle").text("Savings per template ($)"),u.append("g").attr("class","x-axis").attr("transform","translate(0,"+a+")").call(s).selectAll("text").style("text-anchor","start").attr("dx","0.75em").attr("dy",-o.bandwidth()/1.45-8).attr("transform","rotate(-90)"),u.selectAll(".x-axis line").attr("stroke","transparent"),u.selectAll(".bar").data(n).enter().append("rect").attr("x",(function(e){return o(e.name)})).attr("width",o.bandwidth()).attr("y",(function(e){return i(e.delta)})).style("fill",(function(){return e})).attr("height",(function(e){return a-i(e.delta)})).on("mouseover",(function(t){q.Ys(this).style("fill",q.B8C(e).darker(1)),p.handleMouseOver(t)})).on("mousemove",p.handleMouseOver).on("mouseout",(function(){q.Ys(this).style("fill",e),p.handleMouseOut()}))}},{key:"componentDidMount",value:function(){this.init(),window.addEventListener("resize",this.resize)}},{key:"componentWillUnmount",value:function(){var e=this.state.timeout;clearTimeout(e),window.removeEventListener("resize",this.resize)}},{key:"componentDidUpdate",value:function(){this.init()}},{key:"render",value:function(){return c().createElement("div",{id:this.props.id})}}]),a}(s.Component);A.propTypes={id:d().string,data:d().array,margin:d().object,getHeight:d().func,getWidth:d().func};const L=(0,I.Z)(A);var N,M=n(32465),z=n(29163),Y=(0,z.ZP)(h.CardTitle)(N||(N=(0,M.Z)(["\n  border-bottom: 1px solid #d7d7d7;\n  margin-bottom: 10px;\n"]))),W=function(e){var t=e.totalSavings,n=void 0===t?0:t;return c().createElement(h.Card,{style:{borderTop:"3px solid #2B9AF3"}},c().createElement(h.CardTitle,{style:{paddingBottom:"0"}},"Total savings"),c().createElement(h.CardBody,null,c().createElement(h.Title,{headingLevel:"h3",size:"4xl",style:{color:"var(--pf-global--success-color--200)"}},(0,R.Z)(n))))};W.propTypes={totalSavings:d().number};const U=W;var G,H=n(85111),V=z.ZP.div(G||(G=(0,M.Z)(["\n  flex: 1;\n"]))),K=function(e){var t=parseFloat(e);return t&&t>=0?e:""},J=function(e){var t=e.costManual,n=void 0===t?"0":t,r=e.setCostManual,a=void 0===r?function(){}:r,o=e.costAutomation,i=void 0===o?"0":o,l=e.setCostAutomation,s=void 0===l?function(){}:l;return c().createElement(h.Card,null,c().createElement(Y,null,"Calculate your automation"),c().createElement(h.CardBody,null,c().createElement(V,null,c().createElement("p",null,"Manual cost of automation"),c().createElement("em",{style:{color:"var(--pf-global--Color--dark-200)"}},"(e.g. average salary of mid-level Software Engineer)"),c().createElement(h.InputGroup,{style:{width:"50%"}},c().createElement(h.InputGroupText,null,c().createElement(H.ZP,null)),c().createElement(h.TextInput,{id:"manual-cost",type:"number","aria-label":"manual-cost",value:n,onChange:function(e){return a(K(e))}}),c().createElement(h.InputGroupText,null,"/hr"))),c().createElement(V,{style:{paddingTop:"10px"}},c().createElement("p",null,"Automated process cost"),c().createElement(h.InputGroup,{style:{width:"50%"}},c().createElement(h.InputGroupText,null,c().createElement(H.ZP,null)),c().createElement(h.TextInput,{id:"automation-cost",type:"number","aria-label":"automation-cost",value:i,onChange:function(e){return s(K(e))}}),c().createElement(h.InputGroupText,null,"/hr")))))};J.propTypes={costManual:d().string,setCostManual:d().func,costAutomation:d().string,setCostAutomation:d().func};const $=J,Q=function(){return c().createElement(h.Card,{style:{height:"100%"}},c().createElement(Y,null,"Automation formula"),c().createElement(h.CardBody,null,c().createElement("p",null,c().createElement("b",null,"Manual cost for template x")," =",c().createElement("em",null,"(time for a manual run on one host in hours * (sum of all hosts across all job runs) ) * cost per hour")),c().createElement("p",null,c().createElement("b",null,"Automation cost for template x")," =",c().createElement("em",null,"cost of automation per hour * sum of total elapsed hours for a template")),c().createElement("p",null,c().createElement("b",null,"Savings")," =",c().createElement("em",null,"Sum of (manual cost - automation cost) across all templates"))))};var X,ee,te,ne,re,ae=n(31369),oe=n(34238),ie=n(787),le=z.ZP.div(X||(X=(0,M.Z)(["\n  em {\n    display: block;\n    padding: 5px 0;\n  }\n\n  @media (max-width: 1490px) {\n    display: block;\n\n    em {\n      padding: 10px 0;\n      display: block;\n    }\n  }\n"]))),se=z.ZP.em(ee||(ee=(0,M.Z)(["\n  color: var(--pf-global--Color--dark-200);\n"]))),ce=z.ZP.div(te||(te=(0,M.Z)(["\n  p {\n    text-align: left;\n  }\n"]))),ue=z.ZP.div(ne||(ne=(0,M.Z)(["\n  & svg {\n    fill: var(--pf-global--Color--dark-200);\n\n    :hover {\n      cursor: pointer;\n    }\n\n    :first-of-type {\n      margin-right: 10px;\n      margin-left: 10px;\n\n      @media (max-width: 1350px) {\n        margin-left: 0;\n      }\n    }\n  }\n"]))),de=z.ZP.div(re||(re=(0,M.Z)(["\n  flex: 1;\n"]))),pe=function(e){var t=e.details;return c().createElement(h.Popover,{"aria-label":"template detail popover",position:"left",bodyContent:c().createElement(ce,null,Object.keys(t).map((function(e,n){return c().createElement("p",{key:n},c().createElement("b",null,(0,w.kC)(e.split("_").join(" "))),": ",t[e])})))},c().createElement(ae.ZP,null))};pe.propTypes={details:d().object};var me=function(e){var t=e.data,n=void 0===t?[]:t,r=e.sortBy,a=void 0===r?"":r,o=e.setDataRunTime,i=void 0===o?function(){}:o,l=e.setEnabled,s=void 0===l?function(){}:l,u=e.redirectToJobExplorer,d=void 0===u?function(){}:u;return c().createElement(h.Card,null,c().createElement(h.CardBody,null,c().createElement("p",null,"Enter the time it takes to run the following templates manually."),n.map((function(e){return c().createElement("div",{key:e.id},c().createElement(h.Tooltip,{content:"List of jobs for this template for past 30 days"},c().createElement(h.Button,{style:{padding:"15px 0 10px"},component:"a",onClick:function(){return d(e.id)},variant:"link"},e.name)),c().createElement(le,null,c().createElement(de,{key:e.id},c().createElement(h.InputGroup,null,c().createElement(h.TextInput,{id:e.id,type:"number","aria-label":"time run manually",value:(0,w.xb)(e.avgRunTime),onChange:function(t){return i((0,w.$$)(t),e.id)}}),c().createElement(h.InputGroupText,null,"min"))),c().createElement(se,null,"x ",e.successful_hosts_total," host runs"),function(e,t){var n=t.split(":")[0],r=Object.keys(e).map((function(t){return t===n?"".concat(e[t]):null}));return c().createElement(se,null,(0,w.kC)(n.split("_").join(" ")),": ",r)}(e,a),c().createElement(ue,null,c().createElement(pe,{details:e}),!e.enabled&&c().createElement(ie.ZP,{onClick:function(){return s(e.id)(!0)}}),e.enabled&&c().createElement(oe.ZP,{onClick:function(){return s(e.id)(!1)}}))),c().createElement("p",{style:{color:"#486B00"}},(0,R.Z)(+e.delta)))}))))};me.propTypes={data:d().array,setDataRunTime:d().func,redirectToJobExplorer:d().func,deselectedIds:d().array,setDeselectedIds:d().func,setEnabled:d().func,sortBy:d().string};const fe=me;function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(e){return e.filter((function(e){return e.enabled}))},ve=function(e,t,n){return e.map((function(e){var r=(0,w.B3)(e.avgRunTime)*e.successful_hosts_total*parseFloat(n),a=(0,w.B3)(e.successful_elapsed_total)*parseFloat(t),o=(0,w.YD)(a,r);return ge(ge({},e),{},{delta:o,manualCost:r,automatedCost:a})}))},be=(0,Z.Hm)("clusters",ge({},k.GL.defaultParams),["limit","offset"]),Ee=function(e){var t=e.history,n=(0,T.Z)(t,"jobExplorer"),o=(0,s.useState)("50"),i=(0,a.Z)(o,2),u=i[0],d=i[1],k=(0,s.useState)("20"),w=(0,a.Z)(k,2),Z=w[0],C=w[1],O=(0,x.K)(be),S=O.queryParams,P=O.setFromToolbar,D=(0,j.ZP)((0,s.useCallback)((function(){return(0,_.YU)()}),[])),B=D.error,q=D.request,I=(0,j.ZP)((0,s.useCallback)((function(){return(0,_.Yn)(S)}),[S]),{}),R=I.result,F=I.request,A=(0,j.ZP)((0,s.useCallback)((0,r.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.QJ)(S);case 2:return t=e.sent,e.abrupt("return",ve((void 0,(void 0===(n=t.items)?[]:n).map((function(e){return ge(ge({},e),{},{delta:0,avgRunTime:3600,manualCost:0,automatedCost:0,enabled:!0})}))),Z,u));case 4:case"end":return e.stop()}var n}),e)}))),[S]),[]),N=A.result,M=A.error,z=A.isLoading,W=A.isSuccess,G=A.request,H=A.setValue;(0,s.useEffect)((function(){q(),F()}),[]),(0,s.useEffect)((function(){H(ve(N,Z,u))}),[Z,u]),(0,s.useEffect)((function(){F(),G()}),[S]);var V;return c().createElement(c().Fragment,null,c().createElement(m.Z,null,c().createElement(f.Z,{title:"Automation Calculator"}),c().createElement(E.Z,{categories:R,filters:S,qsConfig:be,setFilters:P})),c().createElement(p.Z,null,B?c().createElement(v.Z,{preflightError:B}):z?c().createElement(g.Z,null):M?c().createElement(b.Z,{message:M.error}):W&&N.length<=0?c().createElement(y.Z,null):W&&N.length>0?c().createElement(h.Grid,{hasGutter:!0,className:"automation-wrapper"},c().createElement(h.GridItem,{span:9},c().createElement(h.Stack,{hasGutter:!0},c().createElement(h.StackItem,null,c().createElement(h.Card,null,c().createElement(Y,null,"Automation savings"),c().createElement(h.CardBody,null,c().createElement(L,{margin:{top:20,right:20,bottom:20,left:70},id:"d3-roi-chart-root",data:ye(N)}),c().createElement("p",{style:{textAlign:"center"}},"Templates")))),c().createElement(h.StackItem,{isFilled:!0},c().createElement(Q,null)))),c().createElement(h.GridItem,{span:3},c().createElement(h.Stack,{hasGutter:!0},c().createElement(h.StackItem,null,c().createElement(U,{totalSavings:(V=ye(N),V.reduce((function(e,t){return e+t.delta}),0))})),c().createElement(h.StackItem,null,c().createElement(h.Stack,null,c().createElement(h.StackItem,null,c().createElement($,{costManual:u,setCostManual:d,costAutomation:Z,setCostAutomation:C})),c().createElement(h.StackItem,{style:{overflow:"auto",maxHeight:"48vh"}},c().createElement(fe,{redirectToJobExplorer:function(e){n({"job-explorer.quick_date_range":"last_30_days","job-explorer.template_id":e})},data:N,setDataRunTime:function(e,t){var n=N.map((function(n){return n.id===t?(n.avgRunTime=e,ve([n],Z,u)[0]):n}));H(n)},setUnfilteredData:N,setEnabled:function(e){return function(t){H(N.map((function(n){return n.id===e?ge(ge({},n),{},{enabled:t}):n})))}},sortBy:S.sort_by}))))))):null))};Ee.propTypes={history:d().object};const _e=Ee},65086:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Se});var r=n(92137),a=n(96156),o=n(87757),i=n.n(o),l=n(92950),s=n.n(l),c=n(53677),u=n(94794),d=n(2205),p=n(64866),m=n(13784),f=n(86350),h=n(48716),g=n(39173),y=n(58788),v=n(6610),b=n(5991),E=n(63349),_=n(10379),x=n(86089),k=n(77608),T=n(87986),w=n(25914),j=n(45697),Z=n.n(j);const C=function(){function e(t){var n=this;(0,v.Z)(this,e),(0,a.Z)(this,"handleMouseOver",(function(e){var t=0,r=0,a=0,o=w.Ba6.pageX-w.Ys(n.svg).node().getBoundingClientRect().x+10,i=w.Ba6.pageY-w.Ys(n.svg).node().getBoundingClientRect().y-10,l=w.i$Z("%m/%d");if(e){var s=n.toolTipBase.node().getBoundingClientRect().width,c=w.Ys(n.svg+"> svg").node().getBoundingClientRect().width,u=100-s/c*100<o/c*100;e&&(t=e.RAN||0,r=e.FAIL||0,a=e.TOTAL||0,n.date.text(l(e.DATE||null))),e&&e.data&&(t=e.data.RAN||0,r=e.data.FAIL||0,a=e.data.TOTAL||0,n.date.text(l(e.data.DATE||null))),n.jobs.text(a+" jobs"),n.jobsWidth=n.jobs.node().getComputedTextLength(),n.failed.text(""+r),n.successful.text(""+t),n.successTextWidth=n.successful.node().getComputedTextLength(),n.failTextWidth=n.failed.node().getComputedTextLength();var d,p=n.jobsWidth/n.boxWidth*100,m=p/40;d=p>40?n.boxWidth*m:n.boxWidth,n.boundingBox.attr("width",d),n.toolTipBase.attr("transform","translate("+o+","+i+")"),u?(n.toolTipPoint.attr("transform","translate(-20, 0) rotate(45)"),n.boundingBox.attr("x",-d-20),n.circleSuccess.attr("cx",-d),n.circleFail.attr("cx",-d),n.failedIcon.attr("x",-d-7),n.successIcon.attr("x",-d-7),n.successText.attr("x",17-d),n.failText.attr("x",17-d),n.successful.attr("x",-n.successTextWidth-20-12),n.failed.attr("x",-n.failTextWidth-20-12),n.date.attr("x",-d-5),n.jobs.attr("x",-n.jobsWidth/2-7),n.clickMore.attr("x",-d)):(n.toolTipPoint.attr("transform","translate(10, 0) rotate(45)"),n.boundingBox.attr("x",10),n.circleSuccess.attr("cx",26),n.circleFail.attr("cx",26),n.failedIcon.attr("x",19),n.successIcon.attr("x",19),n.successText.attr("x",43),n.failText.attr("x",43),n.successful.attr("x",d-n.successTextWidth),n.failed.attr("x",d-n.failTextWidth),n.date.attr("x",20),n.jobs.attr("x",d),n.clickMore.attr("x",20)),n.toolTipBase.style("opacity",1),n.toolTipBase.interrupt()}})),(0,a.Z)(this,"handleMouseOut",(function(){n.toolTipBase.transition().delay(15).style("opacity",0).style("pointer-events","none")})),this.svg=t.svg,this.colors=t.colors,this.draw()}return(0,b.Z)(e,[{key:"draw",value:function(){this.toolTipBase=w.Ys(this.svg+"> svg").append("g"),this.toolTipBase.attr("id","svg-chart-Tooltip.base-"+this.svg.slice(1)),this.toolTipBase.attr("overflow","visible"),this.toolTipBase.style("opacity",0),this.toolTipBase.style("pointer-events","none"),this.toolTipBase.attr("transform","translate(100, 100)"),this.boxWidth=145,this.textWidthThreshold=20,this.toolTipPoint=this.toolTipBase.append("rect").attr("transform","translate(10, -10) rotate(45)").attr("x",0).attr("y",0).attr("height",20).attr("width",20).attr("fill","#393f44"),this.boundingBox=this.toolTipBase.append("rect").attr("x",10).attr("y",-41).attr("rx",2).attr("height",110).attr("width",this.boxWidth).attr("fill","#393f44"),this.circleSuccess=this.toolTipBase.append("circle").attr("cx",26).attr("cy",0).attr("r",8).attr("stroke","white").attr("fill","white"),this.circleFail=this.toolTipBase.append("circle").attr("cx",26).attr("cy",26).attr("r",8).attr("stroke","white").attr("fill","white"),this.successText=this.toolTipBase.append("text").attr("x",43).attr("y",4).attr("font-size",12).attr("fill","white").text("Successful"),this.failText=this.toolTipBase.append("text").attr("x",43).attr("y",28).attr("font-size",12).attr("fill","white").text("Failed"),this.successIcon=this.toolTipBase.append("text").attr("class","fas fa-sm").attr("fill",this.colors(1)).attr("x",19).attr("y",5).text(""),this.failedIcon=this.toolTipBase.append("text").attr("class","fas fa-sm").attr("fill",this.colors(0)).attr("x",20).attr("y",31).text(""),this.jobs=this.toolTipBase.append("text").attr("fill","white").attr("x",137).attr("y",-21).attr("font-size",12).attr("text-anchor","end").text("No jobs"),this.successful=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",122).attr("y",4).text("0"),this.failed=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",122).attr("y",28).text("0"),this.date=this.toolTipBase.append("text").attr("fill","white").attr("stroke","white").attr("x",20).attr("y",-21).attr("font-size",12).text("Never"),this.clickMore=this.toolTipBase.append("text").attr("fill","white").attr("x",20).attr("y",55).attr("font-size",12).text("Click for details")}}]),e}();var O=n(17563),S=n(20806),P=n(79886);var D=function(e){(0,_.Z)(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,k.Z)(t);if(n){var a=(0,k.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,x.Z)(this,e)});function a(e){var t;return(0,v.Z)(this,a),(t=r.call(this,e)).draw=t.draw.bind((0,E.Z)(t)),t.init=t.init.bind((0,E.Z)(t)),t.resize=t.resize.bind((0,E.Z)(t)),t.redirectToJobExplorer=t.redirectToJobExplorer.bind((0,E.Z)(t)),t.state={formattedData:[],timeout:null},t}return(0,b.Z)(a,[{key:"redirectToJobExplorer",value:function(e){var t=e.data.DATE,n=S.n.jobExplorer,r=(0,P.p6)(t),a={start_date:r,end_date:r,quick_date_range:"custom",status:["failed","successful"],template_id:this.props.queryParams.template_id,org_id:this.props.queryParams.org_id,job_type:this.props.queryParams.job_type},o=(0,O.stringify)(a,{arrayFormat:"bracket"});this.props.history.push({pathname:n,search:o})}},{key:"resize",value:function(){var e=this,t=this.state.timeout;clearTimeout(t),this.setState({timeout:setTimeout((function(){e.init()}),500)})}},{key:"init",value:function(){this.draw()}},{key:"draw",value:function(){w.td_("#"+this.props.id+" > *").remove();var e,t=w.Z1g("%Y-%m-%d"),n=this.props.data.reduce((function(e,n){var r=n.created_date,a=n.successful_count,o=n.failed_count,i=t(r)||new Date,l=+a||0,s=+o||0,c=+a+o||0;return e.concat({DATE:i,RAN:l,FAIL:s,TOTAL:c})}),[]),r=this.props.getWidth(),a=this.props.getHeight(),o=w.tiA().rangeRound([0,r]).padding(.35),i=w.BYU().range([a,0]),l=w.Ys("#"+this.props.id).append("svg").attr("width",r+this.props.margin.left+this.props.margin.right).attr("height",a+this.props.margin.top+this.props.margin.bottom).append("g").attr("transform","translate("+this.props.margin.left+","+this.props.margin.top+")"),s=w.PKp(["#6EC664","#A30000"]),c=new C({svg:"#"+this.props.id,colors:s}),u=w.knu().keys(["FAIL","RAN"]).order(w.Qxt).offset(w.HLf)(n);o.domain(u[0].map((function(e){return e.data.DATE}))),i.domain([0,w.Fp7(u[u.length-1],(function(e){return 1.15*e[1]}))||8]),l.append("g").attr("class","y-axis").call(w.y4O(i).tickSize(-r,0,0)).selectAll("line").attr("stroke","#d7d7d7"),l.selectAll(".y-axis .tick text").attr("x",-5),l.append("text").attr("transform","rotate(-90)").attr("y",0-this.props.margin.left).attr("x",0-a/2).attr("dy","1em").style("text-anchor","middle").text("Jobs across all clusters");var d=Math.round(n.length/(n.length/2));e=n.map((function(e){return e.DATE})),n.length>14&&(e=n.map((function(e,t){return t%d==0?e.DATE:void 0})).filter((function(e){return e}))),l.append("g").attr("class","x-axis").attr("transform","translate(0,"+a+")").call(w.LLu(o).tickValues(e).tickFormat(w.i$Z("%-m/%-d"))).selectAll("line").attr("stroke","#d7d7d7"),l.selectAll(".x-axis .tick text").attr("y",10),l.append("text").attr("transform","translate("+r/2+" ,"+(a+this.props.margin.top+20)+")").style("text-anchor","middle").text("Date");var p=l.selectAll("layer").data(u).enter().append("g").attr("class","layer").style("fill",(function(e,t){return s(t)}));p.selectAll("rect").data((function(e){return e})).enter().append("rect").attr("x",(function(e){return o(e.data.DATE)})).attr("y",(function(e){return i(e[0])})).attr("height",0).attr("width",o.bandwidth()-1).transition().duration(550).ease(w.LUP).attr("y",(function(e){return i(e[1])})).attr("height",(function(e){return i(e[0])-i(e[1])})),p.selectAll("rect").on("mouseover",c.handleMouseOver).on("mousemove",c.handleMouseOver).on("mouseout",c.handleMouseOut).on("click",this.redirectToJobExplorer)}},{key:"componentDidMount",value:function(){this.init(),window.addEventListener("resize",this.resize)}},{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&this.init()}},{key:"componentWillUnmount",value:function(){var e=this.state.timeout;clearTimeout(e),window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){return s().createElement("div",{id:this.props.id})}}]),a}(l.Component);D.propTypes={id:Z().string,queryParams:Z().object,data:Z().array,margin:Z().object,getHeight:Z().func,getWidth:Z().func,history:Z().object};const B=(0,T.Z)(D);var q=function(e){(0,_.Z)(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,k.Z)(t);if(n){var a=(0,k.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,x.Z)(this,e)});function a(e){var t;return(0,v.Z)(this,a),(t=r.call(this,e)).init=t.init.bind((0,E.Z)(t)),t.draw=t.draw.bind((0,E.Z)(t)),t.resize=t.resize.bind((0,E.Z)(t)),t.updateCluster=t.updateCluster.bind((0,E.Z)(t)),t.redirectToJobExplorer=t.redirectToJobExplorer.bind((0,E.Z)(t)),t.state={formattedData:[],timeout:null},t}return(0,b.Z)(a,[{key:"redirectToJobExplorer",value:function(e){var t=e.DATE,n=S.n.jobExplorer,r=(0,P.p6)(t),a={start_date:r,end_date:r,quick_date_range:"custom",status:["failed","successful"],cluster_id:this.props.queryParams.cluster_id,org_id:this.props.queryParams.org_id,template_id:this.props.queryParams.template_id,job_type:this.props.queryParams.job_type},o=(0,O.stringify)(a,{arrayFormat:"bracket"});this.props.history.push({pathname:n,search:o})}},{key:"resize",value:function(){var e=this,t=this.state.timeout;clearTimeout(t),this.setState({timeout:setTimeout((function(){e.init()}),500)})}},{key:"updateCluster",value:function(){this.init()}},{key:"init",value:function(){this.draw()}},{key:"draw",value:function(){w.td_("#"+this.props.id+" > *").remove();var e=this.props.getWidth(),t=this.props.getHeight();function n(e){e.transition().duration(1e3).attrTween("stroke-dasharray",r)}function r(){var e=this.getTotalLength(),t=w.ITZ("0,"+e,e+","+e);return function(e){return t(e)}}var a=w.Xf().rangeRound([0,e]),o=w.BYU().range([t,0]),i=w.PKp(["#6EC664","#A30000","#06C"]),l=w.Ys("#"+this.props.id).append("svg").attr("width",e+this.props.margin.left+this.props.margin.right).attr("height",t+this.props.margin.top+this.props.margin.bottom).attr("z",100).append("g").attr("transform","translate("+this.props.margin.left+","+this.props.margin.top+")"),s=new C({svg:"#"+this.props.id,colors:i}),c=this.props.data,u=w.Z1g("%Y-%m-%d"),d=c.reduce((function(e,t){var n=t.created_date,r=t.successful_count,a=t.failed_count,o=u(n)||new Date,i=+r||0,l=+a||0,s=+r+a||0;return e.concat({DATE:o,RAN:i,FAIL:l,TOTAL:s})}),[]);a.domain(w.Wem(d,(function(e){return e.DATE}))),o.domain([0,w.Fp7(d,(function(e){return 1.15*e.TOTAL||8}))]);var p,m=w.jvg().curve(w.FdL).x((function(e){return a(e.DATE)})).y((function(e){return o(e.RAN)})),f=w.jvg().defined((function(e){return!isNaN(e.FAIL)})).curve(w.FdL).x((function(e){return a(e.DATE)})).y((function(e){return o(e.FAIL)}));l.append("g").attr("class","y-axis").call(w.y4O(o).ticks(10).tickSize(-e)).selectAll("line").attr("stroke","#d7d7d7"),l.selectAll(".y-axis .tick text").attr("x",-5),l.append("text").attr("transform","rotate(-90)").attr("y",0-this.props.margin.left).attr("x",0-t/2).attr("dy","1em").style("text-anchor","middle").text("Job runs");var h=Math.round(d.length/(d.length/2));p=d.map((function(e){return e.DATE})),d.length>14&&(p=d.map((function(e,t){return t%h==0?e.DATE:void 0})).filter((function(e){return e}))),l.append("g").attr("class","x-axis").attr("transform","translate(0,"+t+")").call(w.LLu(a).tickValues(p).tickSize(-t).tickFormat(w.i$Z("%-m/%-d"))).selectAll("line").attr("stroke","#d7d7d7"),l.selectAll(".x-axis .tick text").attr("y",10),l.append("text").attr("transform","translate("+e/2+" ,"+(t+this.props.margin.top+20)+")").style("text-anchor","middle").text("Date");var g=l.append("path").attr("class","mouse-line").style("stroke","black").style("stroke-width","3px").style("stroke-dasharray","3, 3").style("opacity","0"),y=function(e){s.handleMouseOver(e),g.transition().style("opacity","1")},v=function(){var e=this.cx.baseVal.value;g.attr("d",(function(){return"M"+e+","+t+" "+e+",0"}))},b=function(){s.handleMouseOut(),g.transition().style("opacity",0)};l.append("path").data([d]).attr("class","line").style("fill","none").style("stroke",(function(){return i(1)})).attr("stroke-width",2).attr("d",m).call(n),l.append("path").data([d]).attr("class","line").style("fill","none").style("stroke",(function(){return i(0)})).attr("stroke-width",2).attr("d",f).call(n),l.selectAll("dot").data(d).enter().append("circle").attr("r",3).style("stroke",(function(){return i(1)})).style("fill",(function(){return i(1)})).attr("cx",(function(e){return a(e.DATE)})).attr("cy",(function(e){return o(e.RAN)})).on("mouseover",y).on("mousemove",v).on("mouseout",b).on("click",this.redirectToJobExplorer),l.selectAll("dot").data(d).enter().append("circle").attr("r",3).style("stroke",(function(){return i(0)})).style("fill",(function(){return i(0)})).attr("cx",(function(e){return a(e.DATE)})).attr("cy",(function(e){return o(e.FAIL)})).on("mouseover",y).on("mousemove",v).on("mouseout",b).on("click",this.redirectToJobExplorer)}},{key:"componentDidMount",value:function(){this.updateCluster(),window.addEventListener("resize",this.resize)}},{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&this.updateCluster()}},{key:"componentWillUnmount",value:function(){var e=this.state.timeout;clearTimeout(e),window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){return s().createElement("div",{id:this.props.id})}}]),a}(l.Component);q.propTypes={id:Z().string,queryParams:Z().object,data:Z().array,margin:Z().object,getHeight:Z().func,getWidth:Z().func,history:Z().object};const I=(0,T.Z)(q);var R,F,A,L=n(32465),N=n(29163),M=n(97853),z=(0,N.ZP)(y.DataListCell)(R||(R=(0,L.Z)(["\n  --pf-c-data-list__cell-cell--MarginRight: 0;\n"]))),Y=(0,N.ZP)(y.DataListItem)(F||(F=(0,L.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  padding: 0 15px 10px 15px;\n"]))),W=(0,N.ZP)(z)(A||(A=(0,L.Z)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]))),U=function(e){var t=e.modules,n=e.isLoading;return s().createElement(y.DataList,{"aria-label":"Top Modules",style:{maxHeight:"400px",overflow:"auto",height:"400px",background:"white"}},s().createElement(Y,{"aria-labelledby":"top-modules-header"},s().createElement(z,null,s().createElement("h3",null,"Top modules")),s().createElement(W,null,s().createElement("h3",null,"Usage"))),n&&s().createElement(y.DataListItem,{"aria-labelledby":"modules-loading",key:n,style:{border:"none"}},s().createElement(y.DataListCell,null,s().createElement(u.Z,null))),!n&&t.length<=0&&s().createElement(y.DataListItem,{"aria-labelledby":"modules-no-data",key:n,style:{border:"none"}},s().createElement(y.DataListCell,null,s().createElement(M.Z,null))),!n&&t.filter((function(e){return null!==e.name})).map((function(e,t){var n=e.name,r=e.host_task_count;return s().createElement(Y,{"aria-labelledby":"top-modules-detail",key:t},s().createElement(z,null,s().createElement("span",null,(0,P.mN)(n))),s().createElement(W,null,r))})))};U.propTypes={modules:Z().array,isLoading:Z().bool};const G=U;var H,V=n(34699),K=n(81253),J=n(334),$=n(83160),Q=n(26249),X=n(66088),ee=n(20272),te=n(29587),ne=n(94550),re=n(77388),ae=["result","request"],oe=["result","request"];function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=N.ZP.div(H||(H=(0,L.Z)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 2rem;\n"]))),ce=function(e){if(e){if(e&&e[0]){var t=Math.ceil(e[0].failed_count/e[0].total_failed_count*100);return"".concat(e[0].task_name," ").concat(t,"%")}return"Unavailable"}},ue=function(e,t){return Math.ceil(e/t*100)+"%"},de=function(e){var t,n,r,a,o,i,c,d=e.selectedId,m=e.isOpen,f=e.handleModal,h=e.qp,g=e.jobType,v=(0,re.ZP)((0,l.useCallback)((function(){return(0,p.Ij)(C)}),[d]),{}),b=v.result,E=v.request,_=(0,K.Z)(v,ae),x=(0,re.ZP)((0,l.useCallback)((function(){return(0,p.Ij)(Z)}),[d]),{}),k=x.result,T=x.request,w=(0,K.Z)(x,oe),j=(0,J.useHistory)(),Z=le(le({},h),{},{template_id:[d],attributes:["id","status","job_type","started","finished","elapsed","created","cluster_name","org_name"],group_by_time:!1,limit:5,sort_by:"created:desc",quick_date_range:h.quick_date_range?h.quick_date_range:"last_30_days",job_type:[g]}),C={group_by:"template",template_id:[d],attributes:["elapsed","job_type","successful_count","failed_count","error_count","waiting_count","pending_count","canceled_count","new_count","running_count","total_count","job"===g?"most_failed_tasks":"most_failed_steps"],status:h.status,quick_date_range:h.quick_date_range?h.quick_date_range:"last_30_days",job_type:[g]};(0,l.useEffect)((function(){T(),E()}),[d]);var D,B,q=null!==(t=_.isSuccess&&(null==b?void 0:b.items[0]))&&void 0!==t?t:null,I=q?{success:q.successful_count,cancelled:q.canceled_count,error:q.error_count,failed:q.failed_count,new:q.new_count,pending:q.pending_count,running:q.running_count,waiting:q.waiting_count}:null,R={success:te.global_palette_green_200.value,cancelled:te.global_palette_black_850.value,error:te.global_palette_orange_300.value,failed:te.global_palette_red_100.value,new:te.global_palette_cyan_200.value,pending:te.global_palette_purple_300.value,running:te.global_palette_blue_300.value,waiting:te.global_palette_light_green_200.value},F=q&&[{label:"Number of runs",id:"total-runs",value:null!==(n=q.total_count)&&void 0!==n?n:"Unavailable"},{label:"Total time",id:"total-time",value:q.elapsed?(0,P.yH)(q.elapsed):"Unavailable"},{label:"Average time",id:"avg-time",value:q.elapsed?(D=q.elapsed,B=q.total_count,new Date(1e3*Math.ceil(D/B)).toISOString().substr(11,8)):"Unavailable"},{label:"Type",id:"type",value:g?(0,P.GV)(g):"Unavailable"},{label:"Success rate",id:"success-rate",value:isNaN(q.successful_count)?"Unavailable":ue(q.successful_count,q.total_count)},{label:"Most failed task",id:"most-failed",value:q.most_failed_tasks?ce(q.most_failed_tasks):"Unavailable"}],A=function(){f(!1)};return s().createElement(y.Modal,{"aria-label":"modal",variant:y.ModalVariant.medium,title:w.isSuccess&&_.isSuccess&&(null==b||null===(r=b.items)||void 0===r?void 0:r.length)>0&&(null!==(a=null==b||null===(o=b.items[0])||void 0===o?void 0:o.name)&&void 0!==a?a:"No template name"),isOpen:m,onClose:A},(_.isLoading||w.isLoading)&&s().createElement(u.Z,null),(_.error||w.error)&&s().createElement($.Z,{message:w.error.error}),_.isSuccess&&w.isSuccess&&(null==k||null===(i=k.items)||void 0===i?void 0:i.length)<=0&&s().createElement(Q.Z,null),_.isSuccess&&w.isSuccess&&(null==k||null===(c=k.items)||void 0===c?void 0:c.length)>0&&s().createElement(s().Fragment,null,I&&s().createElement(X.Z,{categoryCount:I,categoryColor:R}),s().createElement(y.DescriptionList,{isHorizontal:!0,columnModifier:{lg:"3Col"}},F.map((function(e){var t=e.label,n=e.id,r=e.value;return s().createElement(y.DescriptionListGroup,{className:n,key:t},s().createElement(y.DescriptionListTerm,null,t),s().createElement(y.DescriptionListDescription,null,r))}))),s().createElement(y.Divider,{component:"div",style:{marginTop:"2rem",marginBottom:"1.5rem"}}),s().createElement("p",null,s().createElement("strong",null,"Last 5 jobs")),s().createElement(ne.TableComposable,{"aria-label":"Template information table",variant:"compact"},s().createElement(ne.Thead,null,s().createElement(ne.Tr,null,["Id/Name","Status","Cluster","Finished","Total time"].map((function(e,t){return s().createElement(ne.Th,{key:t},e)})))),s().createElement(ne.Tbody,null,k.items.map((function(e,t){return s().createElement(ne.Tr,{key:"job-detail-".concat(t)},s().createElement(ne.Td,null,"".concat(e.id.id," - ").concat(e.id.template_name)),s().createElement(ne.Td,null,s().createElement(ee.Z,{status:e.status})),s().createElement(ne.Td,null,e.cluster_name),s().createElement(ne.Td,null,(0,P.o0)(e.finished)),s().createElement(ne.Td,null,(0,P.yH)(e.elapsed)))}))))),s().createElement(se,null,s().createElement(y.Button,{key:"cancel",variant:"secondary",onClick:function(){A()}},"Close"),s().createElement(y.Button,{component:"a",onClick:function(){var e=S.n.jobExplorer,t={"job-explorer.template_id":d,"job-explorer.status":["successful","failed","new","pending","waiting","error","canceled","running"],"job-explorer.job_type":[g],"job-explorer.quick_date_range":"last_30_days"},n=(0,O.stringify)(t,{arrayFormat:"bracket"});j.push({pathname:e,search:n})},variant:"link"},"View all jobs")))};de.propTypes={selectedId:Z().number.isRequired,qp:Z().object.isRequired,jobType:Z().string.isRequired,isOpen:Z().bool.isRequired,handleModal:Z().func.isRequired};const pe=de;var me,fe,he,ge=(0,N.ZP)(y.DataListCell)(me||(me=(0,L.Z)(["\n  --pf-c-data-list__cell-cell--MarginRight: 0;\n"]))),ye=(0,N.ZP)(y.DataListItem)(fe||(fe=(0,L.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  padding: 0 15px 10px 15px;\n  justify-content: center;\n  align-items: center;\n"]))),ve=(0,N.ZP)(ge)(he||(he=(0,L.Z)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]))),be=function(e){var t=e.templates,n=e.isLoading,r=e.qp,a=e.title,o=e.jobType,i=(0,l.useState)(null),c=(0,V.Z)(i,2),d=c[0],p=c[1],m=(0,l.useState)(!1),f=(0,V.Z)(m,2),h=f[0],g=f[1],v=function(e){return"job"===e?"templates":"workflows"};return s().createElement(s().Fragment,null,s().createElement(y.DataList,{"aria-label":"Top ".concat(v(o)),style:{maxHeight:"400px",overflow:"auto",height:"400px",background:"white"}},s().createElement(ye,{"aria-labelledby":"top-".concat(v(o),"-header")},s().createElement(ge,null,s().createElement("h3",null,a)),s().createElement(ve,null,s().createElement("h3",null,"Usage"))),n&&s().createElement(y.DataListItem,{"aria-labelledby":"".concat(v(o),"-loading"),key:n,style:{border:"none"}},s().createElement(y.DataListCell,null,s().createElement(u.Z,null))),!n&&t.length<=0&&s().createElement(y.DataListItem,{"aria-labelledby":"".concat(v(o),"-no-data"),key:n,style:{border:"none"}},s().createElement(y.DataListCell,null,s().createElement(M.Z,null))),!n&&t.map((function(e,t){var n=e.name,r=e.total_count,a=e.id;return s().createElement(ye,{"aria-labelledby":"top-".concat(v(o),"-detail"),key:t},s().createElement(ge,null,s().createElement("a",{onClick:function(){g(!0),p(a)}},n)),s().createElement(ve,null,r))}))),d&&s().createElement(pe,{isOpen:h,handleModal:g,selectedId:d,qp:r,jobType:o}))};be.propTypes={templates:Z().array,isLoading:Z().bool,queryParams:Z().object,title:Z().string,qp:Z().object,jobType:Z().string};const Ee=be;var _e=n(95735),xe=n(21048);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we={group_by:"template",limit:10,job_type:["job"],group_by_time:!1,status:["successful","failed"]},je={group_by:"template",limit:10,job_type:["workflowjob"],group_by_time:!1,status:["successful","failed"]},Ze={group_by:"module",sort_by:"host_task_count:desc",limit:10},Ce={attributes:m.cY.attributes},Oe=(0,xe.Hm)("clusters",Te({},m.kK.defaultParams),["limit","offset"]);const Se=function(){var e=(0,re.ZP)((0,l.useCallback)((function(){return(0,p.YU)()}),[])),t=e.error,n=e.request,a=(0,c.K)(Ce),o=(0,c.K)(Oe),m=o.queryParams,v=o.setFromToolbar,b=(0,re.ZP)((0,l.useCallback)((function(){return(0,p.VU)(a)}),[a]),{}),E=b.result,_=b.error,x=b.request,k=(0,re.ZP)((0,l.useCallback)((0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Ij)(m);case 2:return t=e.sent,e.abrupt("return",t.items);case 4:case"end":return e.stop()}}),e)}))),[m]),[]),T=k.result,w=k.isLoading,j=k.isSuccess,Z=k.request,C=(0,re.ZP)((0,l.useCallback)((0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.wi)(ee);case 2:return t=e.sent,e.abrupt("return",t.items);case 4:case"end":return e.stop()}}),e)}))),[m]),[]),O=C.result,S=C.isLoading,P=C.request,D=(0,re.ZP)((0,l.useCallback)((0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Ij)(Q);case 2:return t=e.sent,e.abrupt("return",t.items);case 4:case"end":return e.stop()}}),e)}))),[m]),[]),q=D.result,R=D.isLoading,F=D.request,A=(0,re.ZP)((0,l.useCallback)((0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Ij)(X);case 2:return t=e.sent,e.abrupt("return",t.items);case 4:case"end":return e.stop()}}),e)}))),[m]),[]),L=A.result,N=A.isLoading,M=A.request;(0,l.useEffect)((function(){n(),x(),Z(),P(),F(),M()}),[m]);var z,Y,W=m.cluster_id,U=m.org_id,H=m.template_id,V=m.quick_date_range,K=m.start_date,J=m.end_date,Q=Te({cluster_id:W,org_id:U,template_id:H,quick_date_range:V,start_date:K,end_date:J},we),X=Te({cluster_id:W,org_id:U,template_id:H,quick_date_range:V,start_date:K,end_date:J},je),ee=Te({cluster_id:W,org_id:U,template_id:H,quick_date_range:V,start_date:K,end_date:J},Ze);return t?s().createElement(d.Z,{preflightError:t}):_?s().createElement($.Z,{message:_.error}):s().createElement(s().Fragment,null,s().createElement(h.Z,null,s().createElement(g.Z,{title:"Clusters"}),s().createElement(_e.Z,{categories:E,qsConfig:Oe,filters:m,setFilters:v})),s().createElement(f.Z,null,s().createElement(y.Grid,{hasGutter:!0},s().createElement(y.GridItem,{span:12},s().createElement(y.Card,null,s().createElement(y.CardTitle,null,s().createElement("h2",null,"Job status")),s().createElement(y.CardBody,null,w&&s().createElement(u.Z,null),(!m.cluster_id||(null===(z=m.cluster_id)||void 0===z?void 0:z.length)<=0)&&j&&s().createElement(B,{margin:{top:20,right:20,bottom:50,left:70},id:"d3-bar-chart-root",data:T,queryParams:m}),(null===(Y=m.cluster_id)||void 0===Y?void 0:Y.length)>0&&j&&s().createElement(I,{margin:{top:20,right:20,bottom:50,left:70},id:"d3-line-chart-root",data:T,queryParams:m})))),s().createElement(y.GridItem,{span:4},s().createElement(Ee,{qp:m,templates:L,isLoading:N,title:"Top workflows",jobType:"workflowjob"})),s().createElement(y.GridItem,{span:4},s().createElement(Ee,{qp:m,templates:q,isLoading:R,title:"Top templates",jobType:"job"})),s().createElement(y.GridItem,{span:4},s().createElement(G,{modules:O,isLoading:S})))))}},84823:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>W});var r=n(96156),a=n(92950),o=n.n(a),i=n(45697),l=n.n(i),s=n(53677),c=n(77388),u=n(94794),d=n(2205),p=n(26249),m=n(83160),f=n(12613),h=n(64866),g=n(13784),y=n(86350),v=n(48716),b=n(39173),E=n(58788),_=n(22122),x=n(34699),k=n(94550),T=n(79886),w=n(20272),j=n(66088),Z=n(29587),C={ok:Z.global_palette_green_300.value,passed:Z.global_palette_green_300.value,unreachable:Z.global_palette_black_400.value,changed:Z.global_palette_gold_300.value,failed:Z.global_palette_red_100.value,skipped:Z.global_palette_blue_300.value},O=function(e){var t,n,r,i,l,s,c,u=e.job,d=(0,a.useState)(!1),p=(0,x.Z)(d,2),m=p[0],f=p[1],h=u?{ok:null!==(t=null==u?void 0:u.ok_host_count)&&void 0!==t?t:0,skipped:null!==(n=null==u?void 0:u.skipped_host_count)&&void 0!==n?n:0,changed:null!==(r=null==u?void 0:u.changed_host_count)&&void 0!==r?r:0,failed:null!==(i=null==u?void 0:u.failed_host_count)&&void 0!==i?i:0,unreachable:null!==(l=null==u?void 0:u.unreachable_host_count)&&void 0!==l?l:0}:null,g=[{label:"Created",value:u.created?(0,T.o0)(u.created):"Unavailable"},{label:"Started",value:u.created?(0,T.o0)(u.started):"Unavailable"},{label:"Finished",value:u.created?(0,T.o0)(u.finished):"Unavailable"},{label:"Tasks",value:null!==(s=u.host_task_count)&&void 0!==s?s:0}];return o().createElement(o().Fragment,null,o().createElement(k.Tr,null,o().createElement(k.Td,{expand:{rowIndex:u.id.id,isExpanded:m,onToggle:function(){f(!m)}}}),o().createElement(k.Td,{href:u.id.tower_link},"".concat(u.id.id," - ").concat(u.id.template_name)),o().createElement(k.Td,null,o().createElement(w.Z,{status:null==u?void 0:u.status})),o().createElement(k.Td,null,null==u?void 0:u.cluster_name),o().createElement(k.Td,null,null==u?void 0:u.org_name),o().createElement(k.Td,null,(0,T.GV)(null==u?void 0:u.job_type))),o().createElement(k.Tr,{isExpanded:m},o().createElement(k.Td,{colSpan:6},o().createElement(k.ExpandableRowContent,null,o().createElement(E.Flex,null,o().createElement(E.FlexItem,null,o().createElement("strong",null,"Host status")),o().createElement(E.FlexItem,{align:{default:"alignRight"}},o().createElement("strong",null,"Hosts"),"  ",null!==(c=null==u?void 0:u.host_count)&&void 0!==c?c:0)),o().createElement(j.Z,{categoryCount:h,categoryColor:C,showPercent:!0}),function(e){var t=(0,a.useState)(!1),n=(0,x.Z)(t,2),r=n[0],i=n[1];if(null!=e)return o().createElement(o().Fragment,null,o().createElement("p",null,o().createElement("strong",null,"Top failed tasks")),o().createElement(E.Grid,{hasGutter:!0},e.slice(0,r?e.length:2).map((function(e,t){var n,r,a,i={passed:null!==(n=null==e?void 0:e.passed_host_count)&&void 0!==n?n:0,failed:null!==(r=null==e?void 0:e.failed_host_count)&&void 0!==r?r:0,unreachable:null!==(a=null==e?void 0:e.unreachable_host_count)&&void 0!==a?a:0};return o().createElement(E.GridItem,{lg:6,md:12,key:"most-failed-".concat(t)},o().createElement(E.Flex,null,o().createElement(E.FlexItem,null,o().createElement("strong",null,"Task name ")," ",null==e?void 0:e.task_name),o().createElement(E.FlexItem,{align:{default:"alignRight"}},o().createElement("strong",null,"Module name ")," ",null==e?void 0:e.module_name)),o().createElement(j.Z,{categoryCount:i,categoryColor:C,showPercent:!0}))}))),e.length>2?function(e,t){return o().createElement(E.Flex,{className:"pf-u-mb-md"},o().createElement(E.FlexItem,{align:{default:"alignRight"}},o().createElement(E.Button,{variant:"secondary",onClick:function(){t(!e)},fullWidth:{default:"fullWidth"}},e?"Show less":"Show more")))}(r,i):null)}(u.most_failed_tasks),o().createElement(E.DescriptionList,{isHorizontal:!0,columnModifier:{lg:"3Col"}},g.map((function(e){var t=e.label,n=e.value;return o().createElement(E.DescriptionListGroup,{key:t},o().createElement(E.DescriptionListTerm,null,t),o().createElement(E.DescriptionListDescription,null,n))})))))))};O.propTypes={job:l().object.isRequired};const S=O;var P=["Id/Name","Status","Cluster","Organization","Type"],D=["Id/Name","Status","Type"],B={0:"id",1:"status",4:"job_type"},q={id:0,status:1,job_type:4},I=function(e){var t=e.jobs,n=e.queryParams,r=e.queryParamsDispatch,i=(0,a.useState)(-1),l=(0,x.Z)(i,2),s=l[0],c=l[1],u=(0,a.useState)("none"),d=(0,x.Z)(u,2),p=d[0],m=d[1];(0,a.useEffect)((function(){(null==n?void 0:n.sort_options)in q?(c(q[n.sort_options]),m(null==n||!n.sort_order||"desc"!==n.sort_order&&"asc"!==n.sort_order?"desc":n.sort_order)):(c(-1),m("none"))}),[n]);var f=function(e,t,n){t!==s&&(c(t),r({type:"SET_SORT_OPTIONS",value:{sort_options:B[t]}})),n!==p&&(m(n),r({type:"SET_SORT_ORDER",value:{sort_order:n}}))};return o().createElement(k.TableComposable,{"aria-label":"Job Explorer Table",variant:"compact"},o().createElement(k.Thead,null,o().createElement(k.Tr,null,o().createElement(k.Th,null),P.map((function(e,t){var n=D.includes(e)?{sort:{sortBy:{index:s,direction:p},onSort:f,columnIndex:t}}:{};return o().createElement(k.Th,(0,_.Z)({key:"col-".concat(t)},n),e)})))),o().createElement(k.Tbody,null,t.map((function(e){return o().createElement(S,{job:e,key:e.id.id})}))))};I.propTypes={jobs:l().array.isRequired,queryParams:l().object.isRequired,queryParamsDispatch:l().func.isRequired};const R=I;var F=n(95735),A=n(21048);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=N(N({},g.cY.defaultParams),{},{attributes:g.cY.attributes}),z=(0,A.Hm)("job-explorer",N({},M),["limit","offset"]),Y=function(){var e=(0,c.ZP)((0,a.useCallback)((function(){return(0,h.YU)()}),[])),t=e.error,n=e.request,r=(0,s.K)(z),i=r.queryParams,l=r.setFromPagination,g=r.setFromToolbar,_=r.dispatch,x=(0,c.ZP)((0,a.useCallback)((function(){return(0,h.ZW)(i)}),[i]),{}),k=x.result,T=x.error,w=x.request,j=(0,c.ZP)((0,a.useCallback)((function(){return(0,h.Ij)(i)}),[i]),{items:[],meta:{}}),Z=j.result,C=Z.items,O=Z.meta,S=j.isLoading,P=j.isSuccess,D=j.request;return(0,a.useEffect)((function(){insights.chrome.appNavClick({id:"job-explorer",secondaryNav:!0}),n()}),[]),(0,a.useEffect)((function(){w(),D()}),[i]),t?o().createElement(d.Z,{preflightError:t}):T?o().createElement(m.Z,{message:T.error}):o().createElement(o().Fragment,null,o().createElement(v.Z,null,o().createElement(b.Z,{title:"Job Explorer"})),!t&&o().createElement(y.Z,null,o().createElement(E.Card,null,o().createElement(E.CardBody,null,o().createElement(F.Z,{categories:k,filters:i,qsConfig:z,setFilters:g,pagination:o().createElement(f.Z,{count:null==O?void 0:O.count,params:{limit:parseInt(i.limit),offset:parseInt(i.offset)},qsConfig:z,setPagination:l,isCompact:!0}),hasSettings:!0}),S&&o().createElement(u.Z,null),P&&C.length<=0&&o().createElement(p.Z,null),P&&C.length>0&&o().createElement(R,{jobs:C,queryParams:i,queryParamsDispatch:_}),o().createElement(f.Z,{count:null==O?void 0:O.count,params:{limit:parseInt(i.limit),offset:parseInt(i.offset)},qsConfig:z,setPagination:l,variant:E.PaginationVariant.bottom})))))};Y.propTypes={location:l().object,history:l().object};const W=Y},24704:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>J});var r,a,o,i=n(92137),l=n(34699),s=n(96156),c=n(32465),u=n(87757),d=n.n(u),p=n(92950),m=n.n(p),f=n(53677),h=n(29163),g=n(94794),y=n(2205),v=n(97853),b=n(64866),E=n(86350),_=n(48716),x=n(39173),k=n(58788),T=n(45697),w=n.n(T),j=n(30381),Z=n.n(j),C=n(50470),O=n(79886),S=(0,h.ZP)(C.ZP)(r||(r=(0,c.Z)(["\n  margin-left: 7px;\n  color: var(--pf-global--Color--400);\n  font-size: 14px;\n"]))),P=(0,h.ZP)(k.NotificationDrawerListItem)(a||(a=(0,c.Z)(["\n  border-top: 1px solid var(--pf-global--BorderColor--light-100\n    );\n  border-bottom::nth-child(odd): 1px solid var(--pf-global--BorderColor--light-100\n    );\n  box-shadow: none;\n  &:focus {\n    outline: none;\n  }\n"]))),D=(0,h.ZP)(k.NotificationDrawerList)(o||(o=(0,c.Z)(["\n  &:last-child {\n    border-bottom: 1px solid var(--pf-global--BorderColor--light-100);\n  }\n"]))),B=function(e){var t=Z()(e),n=Z()().utc();return n.isAfter(t)?"".concat(n.diff(t,"days")," day(s) ago."):t.isSame(n,"day")?t.valueOf()>36e5?"".concat(t.diff(n,"hours")," hour(s) ago."):"".concat(n.diff(t,"minutes")," minute(s) ago."):void 0},q=function(e){return e.notifications.map((function(e){var t=e.date,n=e.message,r=e.label,a=e.notification_id,o=e.tower_url;return""===r||"notice"===r?m().createElement(P,{variant:"info",key:t+"-"+a},m().createElement(k.NotificationDrawerListItemHeader,{variant:"info",title:m().createElement(m().Fragment,null,o?m().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:o},(0,O.kC)(r),m().createElement(S,null)):(0,O.kC)(r))}),m().createElement(k.NotificationDrawerListItemBody,null,n," ")):"error"===r?m().createElement(P,{variant:"danger",key:t+"-"+a},m().createElement(k.NotificationDrawerListItemHeader,{variant:"danger",title:m().createElement(m().Fragment,null,o?m().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:o},(0,O.kC)(r),m().createElement(S,null)):(0,O.kC)(r))}),m().createElement(k.NotificationDrawerListItemBody,{timestamp:B(t)},n," ")):"warning"===r?m().createElement(P,{variant:"warning",key:t+"-"+a},m().createElement(k.NotificationDrawerListItemHeader,{variant:"warning",title:m().createElement(m().Fragment,null,o?m().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:o},(0,O.kC)(r),m().createElement(S,null)):(0,O.kC)(r))}),m().createElement(k.NotificationDrawerListItemBody,{timestamp:B(t)},n," ")):void 0}))},I=function(e){return e.notifications.filter((function(e){return"error"===e.label})).map((function(e){var t=e.message,n=e.date,r=e.label,a=e.notification_id,o=e.tower_url;return m().createElement(P,{variant:"danger",key:n+"-"+a},m().createElement(k.NotificationDrawerListItemHeader,{variant:"danger",title:m().createElement(m().Fragment,null,o?m().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:o},(0,O.kC)(r),m().createElement(S,null)):(0,O.kC)(r))}),m().createElement(k.NotificationDrawerListItemBody,{timestamp:B(n)},t," "))}))},R=function(e){return e.notifications.filter((function(e){return"notice"===e.label})).map((function(e){var t=e.message,n=e.date,r=e.label,a=e.notification_id,o=e.tower_url;return m().createElement(P,{variant:"info",key:n+"-"+a},m().createElement(k.NotificationDrawerListItemHeader,{variant:"info",title:m().createElement(m().Fragment,null,o?m().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:o},(0,O.kC)(r),m().createElement(S,null)):(0,O.kC)(r))}),m().createElement(k.NotificationDrawerListItemBody,{timestamp:B(n)},t," "))}))},F=function(e){return e.notifications.filter((function(e){return"warning"===e.label})).map((function(e){var t=e.message,n=e.date,r=e.label,a=e.notification_id,o=e.tower_url;return m().createElement(P,{variant:"warning",key:n+"-"+a},m().createElement(k.NotificationDrawerListItemHeader,{variant:"warning",title:m().createElement(m().Fragment,null,o?m().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:o},(0,O.kC)(r),m().createElement(S,null)):(0,O.kC)(r))}),m().createElement(k.NotificationDrawerListItemBody,{timestamp:B(n)},t," "))}))},A=function(e){var t=e.filterBy,n=e.notifications;return m().createElement(m().Fragment,null,m().createElement(D,null,n.length<=0&&m().createElement(g.Z,null),""===t&&m().createElement(q,{notifications:n}),"notice"===t&&m().createElement(R,{notifications:n}),"error"===t&&m().createElement(I,{notifications:n}),"warning"===t&&m().createElement(F,{notifications:n})))};q.propTypes={notifications:w().array},I.propTypes={notifications:w().array},F.propTypes={notifications:w().array},A.propTypes={notifications:w().array,filterBy:w().string};const L=A;var N,M,z=n(12613),Y=n(21048);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var U=(0,h.ZP)(k.CardTitle)(N||(N=(0,c.Z)(["\n  display: flex;\n  justify-content: space-between;\n\n  @media screen and (max-width: 1035px) {\n    display: block;\n  }\n"]))),G=h.ZP.div(M||(M=(0,c.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n\n  @media screen and (max-width: 1035px) {\n    display: block;\n  }\n\n  select {\n    margin: 0 10px;\n    width: 150px;\n\n    @media screen and (max-width: 1035px) {\n      margin: 10px 10px 0 0;\n    }\n\n    @media screen and (max-width: 865px) {\n      width: 100%;\n    }\n  }\n"]))),H=[{value:"please choose",label:"Select Notification Severity",disabled:!0},{value:"error",label:"View Critical",disabled:!1},{value:"warning",label:"View Warning",disabled:!1},{value:"notice",label:"View Notice",disabled:!1},{value:"",label:"View All",disabled:!1}];function V(e){return e.reduce((function(e,t){var n=t.label,r=t.cluster_id,a=t.install_uuid;return 0===n.length?e.push({value:r,label:a,disabled:!1}):e.push({value:r,label:n,disabled:!1}),e}),[{value:"please choose",label:"Select cluster",disabled:!0},{value:"",label:"All Clusters",disabled:!1},{value:-1,label:"Unassociated",disabled:!1}])}var K=(0,Y.Hm)("notifications",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{limit:5,offset:0}),["limit","offset"]);const J=function(){var e=(0,p.useState)(null),t=(0,l.Z)(e,2),n=t[0],r=t[1],a=(0,p.useState)([]),o=(0,l.Z)(a,2),s=o[0],c=o[1],u=(0,p.useState)([]),h=(0,l.Z)(u,2),T=h[0],w=h[1],j=(0,p.useState)(""),Z=(0,l.Z)(j,2),C=Z[0],O=Z[1],S=(0,p.useState)(!0),P=(0,l.Z)(S,2),D=P[0],B=P[1],q=(0,p.useState)(!0),I=(0,l.Z)(q,2),R=I[0],F=I[1],A=(0,p.useState)({}),N=(0,l.Z)(A,2),M=N[0],Y=N[1],W=(0,f.K)(K),J=W.queryParams,$=W.setId,Q=W.setFromPagination,X=W.setSeverity;return(0,p.useEffect)((function(){D||(F(!0),(0,b.A7)(J).then((function(e){var t=e.notifications,n=void 0===t?[]:t,r=e.meta;c(n),Y(r),F(!1)})))}),[J]),(0,p.useEffect)((function(){insights.chrome.appNavClick({id:"notifications",secondaryNav:!0});var e=!1,t=function(){return Promise.all([(0,b.hD)(),(0,b.A7)(J)].map((function(e){return e.catch((function(){return[]}))})))};function n(){return(n=(0,i.Z)(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return F(!0),n.next=3,(0,b.YU)().catch((function(e){r(e)}));case 3:t().then((function(t){var n=(0,l.Z)(t,2),r=n[0].templates,a=void 0===r?[]:r,o=n[1],i=o.notifications,s=void 0===i?[]:i,u=o.meta;if(!e){var d=V(a);w(d),c(s),Y(u),B(!1),F(!1)}}));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){return e=!0}}),[J]),n?m().createElement(y.Z,{preflightError:n}):m().createElement(m().Fragment,null,m().createElement(_.Z,null,m().createElement(x.Z,{title:"Notifications"})),m().createElement(m().Fragment,null,m().createElement(E.Z,null,m().createElement(k.Card,null,m().createElement(U,null,m().createElement(G,null,m().createElement(k.FormSelect,{name:"selectedCluster",value:C,onChange:function(e){O(e),$(e),Q(0)},"aria-label":"Select Cluster"},T.map((function(e,t){var n=e.value,r=e.label,a=e.disabled;return m().createElement(k.FormSelectOption,{isDisabled:a,key:t,value:n,label:r})}))),m().createElement(k.FormSelect,{name:"selectedNotification",value:J.severity||"",onChange:function(e){X(e),Q(0)},"aria-label":"Select Notification Type"},H.map((function(e,t){var n=e.disabled,r=e.value,a=e.label;return m().createElement(k.FormSelectOption,{isDisabled:n,key:t,value:r,label:a})})))),m().createElement(z.Z,{count:null==M?void 0:M.count,qsConfig:K,params:{limit:J.limit,offset:J.offset},setPagination:Q,isCompact:!0})),m().createElement(k.CardBody,null,R&&m().createElement(g.Z,null),!R&&s.length<=0&&m().createElement(v.Z,null),!R&&s.length>0&&m().createElement(k.NotificationDrawer,null,m().createElement(L,{filterBy:J.severity||"",options:H,notifications:s})),m().createElement(z.Z,{count:null==M?void 0:M.count,qsConfig:K,params:{limit:J.limit,offset:J.offset},setPagination:Q,variant:k.PaginationVariant.bottom}))))))}},15691:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>xe});var r,a,o,i,l,s,c=n(92137),u=n(34699),d=n(81253),p=n(96156),m=n(32465),f=n(87757),h=n.n(f),g=n(92950),y=n.n(g),v=n(45697),b=n.n(v),E=n(29163),_=n(53677),x=n(14115),k=n(79886),T=n(2205),w=n(64866),j=n(86350),Z=n(48716),C=n(39173),O=n(58788),S=n(87329),P=n(25914),D=n(87986),B=E.ZP.div(r||(r=(0,m.Z)(["\n  margin-top: 20px;\n  margin-bottom: 20px;\n  overflow: auto;\n  width: 100%;\n  height: ",";\n"])),(function(e){return e.height})),q=E.ZP.div(a||(a=(0,m.Z)(["\n  display: flex;\n  padding: 7.5px 15px;\n  align-items: center;\n  justify-content: space-between;\n"]))),I=E.ZP.div(o||(o=(0,m.Z)(["\n  display: flex;\n  align-items: center;\n  overflow: auto;\n"]))),R=E.ZP.div.attrs((function(e){return{color:e.color||"black"}}))(i||(i=(0,m.Z)(["\n  min-width: 12px;\n  height: 12px;\n  background: ",";\n  margin-right: 20px;\n"])),(function(e){return e.color})),F=E.ZP.span(l||(l=(0,m.Z)(["\n  font-size: 15px;\n  display: inline-block;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: left;\n"]))),A=E.ZP.span(s||(s=(0,m.Z)(["\n  font-size: 15px;\n  margin-left: auto;\n  margin-right: 0;\n  padding-right: 10px;\n"]))),L=function(e){var t=e.data,n=e.selected,r=e.height,a=e.onToggle,o=e.chartName;return y().createElement(B,{height:r},t.map((function(e,t){var r=e.name,i=e.value,l=e.id,s=e.count;return y().createElement(q,{key:t},y().createElement(I,null,y().createElement(R,{color:i}),y().createElement(F,null,r)),s&&y().createElement(A,null,s),n&&y().createElement(O.Switch,{isChecked:n.some((function(e){return e===l})),onChange:function(){return a(l)},"aria-label":"".concat(o,"-").concat(r),value:l,key:t}))})))};L.propTypes={data:b().array.isRequired,selected:b().array.isRequired,onToggle:b().func.isRequired,height:b().string.isRequired,chartName:b().string.isRequired};const N=L;var M,z=["onClick","TooltipClass","legend"],Y=E.ZP.div(M||(M=(0,m.Z)(["\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: nowrap;\n  flex-shrink: 0;\n"]))),W=function(e){var t=e.split("-");return"".concat(t[1],"/").concat(t[2])},U=function(e){var t=e.onClick,n=void 0===t?null:t,r=e.TooltipClass,a=e.legend,o=(0,d.Z)(e,z),i=a.map((function(e){var t=e.id;return{name:e.name,value:o.colorFunc(t),id:t}})),l=(0,g.useState)(a.map((function(e){return e.id})).slice(0,8)),s=(0,u.Z)(l,2),c=s[0],p=s[1],m=null,f=function(){P.td_("#"+o.id+" > *").remove();var e=o.data.reduce((function(e,t){var n=t.date,r=t.items.filter((function(e){var t=e.id;return c.includes(t)}));return e.concat({date:n,selectedOrgs:r})}),[]),t=o.getWidth(),a=o.getHeight(),i=P.tiA().range([0,t]).padding(.35),l=P.tiA(),s=P.BYU().range([a,0]),u=Math.round(e.length/(e.length/2)),d=Math.round(e.length/(e.length/4)),p=e.map((function(e){return e.date}));e.length>14&&(p=e.map((function(t,n){return n%(e.length>31?d:u)==0?t.date:void 0})).filter((function(e){return e})));var m=P.LLu(i).tickValues(p).tickFormat(W),f=P.y4O(s).ticks(8).tickSize(-t,0,0),h=P.Ys("#"+o.id).append("svg").attr("width",t+o.margin.left+o.margin.right).attr("height",a+o.margin.bottom+o.margin.top).append("g").attr("transform","translate("+o.margin.left+","+o.margin.top+")"),g=e.map((function(e){return e.date})),y=new r({svg:"#"+o.id});i.domain(g),l.domain(c).range([0,i.bandwidth()]),s.domain([0,P.Fp7(e,(function(e){return P.Fp7(e.selectedOrgs,(function(e){return 1.15*e.value}))}))||8]),h.append("g").attr("class","y axis").call(f).selectAll("line").attr("stroke","#d7d7d7").append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").style("font-weight","bold").text("Value"),h.append("text").attr("transform","rotate(-90)").attr("y",0-o.margin.left).attr("x",0-a/2).attr("dy","1em").style("text-anchor","middle").text(o.yLabel),h.append("g").attr("class","x axis").attr("transform","translate(0,"+a+")").call(m).selectAll("line").attr("stroke","#d7d7d7"),h.append("text").attr("transform","translate("+t/2+" ,"+(a+o.margin.top+25)+")").style("text-anchor","middle").text("Date");var v=h.selectAll(".slice").data(e);v.exit().remove();var b=v.enter().append("g").attr("class","g foo").attr("transform",(function(e){return"translate("+i(e.date)+",0)"})),E=(v=v.merge(b)).selectAll("rect").data((function(e){return e.selectedOrgs}));E.exit().remove();var _=o.colorFunc,x=E.enter().append("rect").attr("width",l.bandwidth()).attr("x",(function(e){return l(e.id)})).style("fill",(function(e){return _(e.id)})).attr("y",(function(e){return s(e.value)})).attr("height",(function(e){return a-s(e.value)})).on("mouseover",(function(e){e.moreDetail=!e.name.endsWith("Others"),P.Ys(this).style("cursor",n&&e.moreDetail?"pointer":"default"),P.Ys(this).style("fill",P.B8C(_(e.id)).darker(1)),y.handleMouseOver(e)})).on("mousemove",y.handleMouseOver).on("mouseout",(function(e){P.Ys(this).style("fill",_(e.id)),y.handleMouseOut()})).on("click",n);E=E.merge(x)},h=function(){clearTimeout(m),m=setTimeout((function(){f()}),500)};return(0,g.useEffect)((function(){return f(),window.addEventListener("resize",h),function(){clearTimeout(m),window.removeEventListener("resize",h)}}),[]),(0,g.useEffect)((function(){f()}),[o.data,c]),y().createElement(Y,null,y().createElement("div",{id:o.id}),i.length>0&&y().createElement(N,{id:"".concat(o.id,"-legend"),data:i,selected:c,onToggle:function(e){c.includes(e)?p(c.filter((function(t){return t!==e}))):p([].concat((0,S.Z)(c),[e]))},height:"350px",chartName:"".concat(o.id,"-legend")}))};U.propTypes={id:b().string,data:b().array,legend:b().array,margin:b().object,getHeight:b().func,getWidth:b().func,colorFunc:b().func,yLabel:b().string,onClick:b().func,TooltipClass:b().any.isRequired},U.defaultProps={legend:[]};const G=(0,D.Z)(U);var H,V=n(6610),K=n(5991),J=function(e){var t=e.split("-");return"".concat(t[1],"/").concat(t[2])},$=function(){function e(t){var n=this;(0,V.Z)(this,e),(0,p.Z)(this,"handleMouseOver",(function(e){var t,r,a,o=P.Ba6.pageX-P.Ys(n.svg).node().getBoundingClientRect().x+10,i=P.Ba6.pageY-P.Ys(n.svg).node().getBoundingClientRect().y-10;if(e){t=e.date,r=e.name,a=e.value,e.name.length>16&&(r=e.name.slice(0,16).concat("...")),e.moreDetail?(n.boundingBox.attr("height",68),n.boundingBox.attr("y",-23),n.date.attr("y",14),n.jobs.attr("y",14),n.orgName.attr("y",-1),n.clickMore.text("Click for details")):(n.boundingBox.attr("height",50),n.boundingBox.attr("y",-12),n.date.attr("y",25),n.jobs.attr("y",25),n.orgName.attr("y",10),n.clickMore.text(""));var l=J,s=n.toolTipBase.node().getBoundingClientRect().width,c=P.Ys(n.svg+"> svg").node().getBoundingClientRect().width,u=100-s/c*100<o/c*100;n.date.text(""+l(t)),n.orgName.text(""+r),n.jobs.text(a+" Jobs"),n.jobsWidth=n.jobs.node().getComputedTextLength();var d,p=n.jobsWidth/n.boxWidth*100,m=p/45;d=p>45?n.boxWidth*m:n.boxWidth,n.boundingBox.attr("width",d),n.toolTipBase.attr("transform","translate("+o+","+i+")"),u?(n.toolTipPoint.attr("transform","translate(-20, 0) rotate(45)"),n.boundingBox.attr("x",-d-20),n.jobs.attr("x",-n.jobsWidth-20-7),n.orgName.attr("x",-d-7),n.date.attr("x",-d-7),n.clickMore.attr("x",-d-7)):(n.toolTipPoint.attr("transform","translate(10, 0) rotate(45)"),n.boundingBox.attr("x",10),n.orgName.attr("x",20),n.jobs.attr("x",d/2),n.date.attr("x",20),n.clickMore.attr("x",20)),n.toolTipBase.style("opacity",1),n.toolTipBase.interrupt()}})),(0,p.Z)(this,"handleMouseOut",(function(){n.toolTipBase.transition().delay(15).style("opacity",0).style("pointer-events","none")})),this.svg=t.svg,this.draw()}return(0,K.Z)(e,[{key:"draw",value:function(){this.width=125,this.toolTipBase=P.Ys(this.svg+"> svg").append("g"),this.toolTipBase.attr("id","svg-chart-Tooltip.base-"+this.svg.slice(1)),this.toolTipBase.attr("overflow","visible"),this.toolTipBase.style("opacity",0),this.toolTipBase.style("pointer-events","none"),this.toolTipBase.attr("transform","translate(100, 100)"),this.boxWidth=125,this.textWidthThreshold=20,this.toolTipPoint=this.toolTipBase.append("rect").attr("transform","translate(10, -10) rotate(45)").attr("x",0).attr("y",0).attr("height",20).attr("width",20).attr("fill","#393f44"),this.boundingBox=this.toolTipBase.append("rect").attr("x",10).attr("y",-12).attr("rx",2).attr("height",50).attr("width",this.boxWidth).attr("fill","#393f44"),this.date=this.toolTipBase.append("text").attr("x",20).attr("y",25).attr("font-size",12).attr("fill","white").text("Date"),this.jobs=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",72).attr("y",25).text("0 Jobs"),this.orgName=this.toolTipBase.append("text").attr("fill","white").attr("font-weight",800).attr("x",20).attr("y",10).attr("font-size",12).text("Org"),this.clickMore=this.toolTipBase.append("text").attr("fill","white").attr("x",20).attr("y",30).attr("font-size",12).text("")}}]),e}(),Q=function(e){var t=e.split("-");return"".concat(t[1],"/").concat(t[2])},X=function(){function e(t){var n=this;(0,V.Z)(this,e),(0,p.Z)(this,"handleMouseOver",(function(e){var t,r,a,o=P.Ba6.pageX-P.Ys(n.svg).node().getBoundingClientRect().x+10,i=P.Ba6.pageY-P.Ys(n.svg).node().getBoundingClientRect().y-10;if(e){t=e.date,r=e.name,a=e.value,e.name.length>16&&(r=e.name.slice(0,16).concat("..."));var l=Q,s=n.toolTipBase.node().getBoundingClientRect().width,c=P.Ys(n.svg+"> svg").node().getBoundingClientRect().width,u=100-s/c*100<o/c*100;n.date.text(""+l(t)),n.orgName.text(""+r),n.jobs.text(a+" Hosts"),n.jobsWidth=n.jobs.node().getComputedTextLength();var d,p=n.jobsWidth/n.boxWidth*100,m=p/45;d=p>45?n.boxWidth*m:n.boxWidth,n.boundingBox.attr("width",d),n.toolTipBase.attr("transform","translate("+o+","+i+")"),u?(n.toolTipPoint.attr("transform","translate(-20, 0) rotate(45)"),n.boundingBox.attr("x",-d-20),n.jobs.attr("x",-n.jobsWidth-20-7),n.orgName.attr("x",-d-7),n.date.attr("x",-d-7)):(n.toolTipPoint.attr("transform","translate(10, 0) rotate(45)"),n.boundingBox.attr("x",10),n.orgName.attr("x",20),n.jobs.attr("x",d/2),n.date.attr("x",20)),n.toolTipBase.style("opacity",1),n.toolTipBase.interrupt()}})),(0,p.Z)(this,"handleMouseOut",(function(){n.toolTipBase.transition().delay(15).style("opacity",0).style("pointer-events","none")})),this.svg=t.svg,this.draw()}return(0,K.Z)(e,[{key:"draw",value:function(){this.width=125,this.toolTipBase=P.Ys(this.svg+"> svg").append("g"),this.toolTipBase.attr("id","svg-chart-Tooltip.base-"+this.svg.slice(1)),this.toolTipBase.attr("overflow","visible"),this.toolTipBase.style("opacity",0),this.toolTipBase.style("pointer-events","none"),this.toolTipBase.attr("transform","translate(100, 100)"),this.boxWidth=125,this.textWidthThreshold=20,this.toolTipPoint=this.toolTipBase.append("rect").attr("transform","translate(10, -10) rotate(45)").attr("x",0).attr("y",0).attr("height",20).attr("width",20).attr("fill","#393f44"),this.boundingBox=this.toolTipBase.append("rect").attr("x",10).attr("y",-12).attr("rx",2).attr("height",50).attr("width",this.boxWidth).attr("fill","#393f44"),this.date=this.toolTipBase.append("text").attr("x",20).attr("y",25).attr("font-size",12).attr("fill","white").text("Date"),this.jobs=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",72).attr("y",25).text("0 Jobs"),this.orgName=this.toolTipBase.append("text").attr("fill","white").attr("font-weight",800).attr("x",20).attr("y",10).attr("font-size",12).text("Org")}}]),e}(),ee=E.ZP.div(H||(H=(0,m.Z)(["\n  display: flex;\n  flex-wrap: nowrap;\n  flex-shrink: 0;\n"]))),te=function(){function e(t){var n=this;(0,V.Z)(this,e),(0,p.Z)(this,"handleMouseOver",(function(e){var t,r,a;!0!==n.drawn&&(n.draw(e),n.drawn=!0);var o=P.Ba6.pageX-P.Ys(n.svg).node().getBoundingClientRect().x+10,i=P.Ba6.pageY-P.Ys(n.svg).node().getBoundingClientRect().y-10;if(e){e&&e.data&&(t=e.data.percent,r=e.data.success_rate,a=e.data.name,e.data.name.length>16&&(a=e.data.name.slice(0,13).concat("...")));var l=n.toolTipBase.node().getBoundingClientRect().width,s=P.Ys(n.svg+"> svg").node().getBoundingClientRect().width,c=100-l/s*100<o/s*100;n.percentageTotal.text(t+"%"),r&&n.percentageSuccess&&n.percentageSuccess.text("("+r+"% successful)"),n.orgName.text(" "+a),n.toolTipBase.attr("transform","translate("+o+","+i+")"),c?(n.toolTipPoint.attr("transform","translate(-20, -10) rotate(45)"),n.boundingBOx.attr("x",-125),n.orgName.attr("x",-112),n.percentageTotal.attr("x",-112),n.showSuccess&&n.percentageSuccess.attr("x",-112)):(n.toolTipPoint.attr("transform","translate(10, -10) rotate(45)"),n.boundingBOx.attr("x",10),n.orgName.attr("x",20),n.percentageTotal.attr("x",20),n.showSuccess&&n.percentageSuccess.attr("x",20)),n.toolTipBase.style("opacity",1),n.toolTipBase.interrupt()}})),(0,p.Z)(this,"handleMouseOut",(function(){n.toolTipBase.transition().delay(15).style("opacity",0).style("pointer-events","none")})),this.svg=t.svg,this.drawn=!1,this.showSuccess=!1}return(0,K.Z)(e,[{key:"draw",value:function(e){this.showSuccess=!!(e&&e.data&&"success_rate"in e.data);var t=this.showSuccess?70:52,n=this.showSuccess?120:108;this.toolTipBase=P.Ys(this.svg+"> svg").append("g"),this.toolTipBase.attr("id","svg-chart-Tooltip.base-"+this.svg.slice(1)),this.toolTipBase.attr("overflow","visible"),this.toolTipBase.style("opacity",0),this.toolTipBase.style("pointer-events","none"),this.toolTipBase.attr("transform","translate(100, 100)"),this.toolTipPoint=this.toolTipBase.append("rect").attr("transform","translate(10, -10) rotate(45)").attr("x",0).attr("y",0).attr("height",20).attr("width",20).attr("fill","#393f44"),this.boundingBOx=this.toolTipBase.append("rect").attr("x",10).attr("y",-23).attr("rx",2).attr("height",t).attr("width",n).attr("fill","#393f44"),this.orgName=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("font-weight",800).attr("x",20).attr("y",0).text("Organization"),this.percentageTotal=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("font-weight",800).attr("x",20).attr("y",16).text("0"),this.percentageSuccess=null,this.showSuccess&&(this.percentageSuccess=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("font-weight",800).attr("x",20).attr("y",30).text(""))}}]),e}(),ne=function(e){var t=e.data,n=e.id,r=e.colorFunc,a=e.margin,o=e.getWidth,i=e.getHeight,l=t.map((function(e){var t=e.id,n=e.name,a=e.count;return{id:t,name:n,value:r(t),count:Math.round(a)}})).sort((function(e,t){return e.count>t.count?1:t.count>e.count?-1:0})),s=(0,g.useState)(t.map((function(e){return e.id})).slice(0,8)),c=(0,u.Z)(s,2),d=c[0],p=c[1],m=null,f=function(){P.td_("#"+n+" > *").remove();var e=o(),l=i(),s=P.Ys("#"+n).append("svg").attr("width",e+a.left+a.right).attr("height",l+a.bottom).append("g");s.append("g").attr("class","slices"),s.append("g").attr("class","labels"),s.append("g").attr("class","lines");var c=Math.min(e,l)/2,u=t.filter((function(e){var t=e.id;return d.includes(t)})),p=(0,k.NU)(u);u.forEach((function(e){e.count=+e.count,e.percent=+Math.round(e.count/p*100)}));var m=new te({svg:"#"+n}),f=P.ve8().sort(null).value((function(e){return e.count})),h=P.Nb1().outerRadius(c-10).innerRadius(0);s.attr("transform","translate("+(e+a.left+a.right)/2+","+(l+a.top+a.bottom)/2+")"),s.selectAll("path").data(f(u)).enter().append("path").attr("d",h).attr("fill",(function(e){return r(e.data.id)})),s.selectAll("path").on("mouseover",(function(e){P.Ys(this).style("fill",P.B8C(r(e.data.id)).darker(1)),m.handleMouseOver(e)})).on("mouseout",(function(e){P.Ys(this).style("fill",r(e.data.id)),m.handleMouseOut()})).on("mousemove",m.handleMouseOver),s.append("g").classed("labels",!0),s.append("g").classed("lines",!0)},h=function(){clearTimeout(m),m=setTimeout((function(){f()}),500)};return(0,g.useEffect)((function(){return f(),window.addEventListener("resize",h),function(){clearTimeout(m),window.removeEventListener("resize",h)}}),[]),(0,g.useEffect)((function(){f()}),[t,d]),y().createElement(ee,null,y().createElement("div",{id:n}),l.length>0&&y().createElement(N,{id:"".concat(n,"-legend"),data:l,selected:d,onToggle:function(e){d.includes(e)?p(d.filter((function(t){return t!==e}))):p([].concat((0,S.Z)(d),[e]))},height:"300px",chartName:"".concat(n,"-legend")}))};ne.propTypes={id:b().string,data:b().array,margin:b().object,getHeight:b().func,getWidth:b().func,colorFunc:b().func};const re=(0,D.Z)(ne);var ae,oe=n(95735),ie=n(13784),le=n(77388),se=n(21048),ce=n(83160),ue=n(94794),de=n(97853),pe=["sort_by"];function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=(0,E.ZP)("hr")(ae||(ae=(0,m.Z)(["\n  border: 1px solid #ebebeb;\n"]))),ge=(0,P.PKp)(["#06C","#4CB140","#009596","#5752D1","#F4C145","#EC7A08","#8BC1F7","#23511E","#A2D9D9","#2A265F","#F9E0A2","#8F4700","#002F5D"]),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=e.map((function(e){var t=e.date,r=e.items;return{date:t,items:r.map((function(e){var r=e.id,a=e[n],o=e.name;return{id:r,date:t,value:a,name:o||"No organization"}}))}}));return t.legend.map((function(e){return fe(fe({},e),{},{name:e.name||"No organization"})})),r},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.map((function(e){return{id:e.id,count:e[t],name:e.name||"No organization"}}));return n},be=[{api:w.Ij,attr:"total_count",label:"Jobs across organizations",onClick:function(e,t){return function(n){var r=n.date,a=n.id;if(-1!==a){t.sort_by;var o=(0,d.Z)(t,pe),i=(0,k.p6)(r),l=fe(fe({},o),{},{"job-explorer.quick_date_range":"custom","job-explorer.start_date":i,"job-explorer.end_date":i,"job-explorer.status":["successful","failed","new","pending","waiting","error","canceled","running"],"job-explorer.org_id":[a]});e(l)}}},tooltip:$},{api:w.og,attr:"total_unique_host_count",label:"Hosts across organizations",onClick:function(){return null},tooltip:X}],Ee=(0,se.Hm)("organization-statistics",fe({},ie.wC.defaultParams),["limit","offset"]),_e=function(e){var t,n,r,a,o,i,l=e.history,s=(0,x.Z)(l,"jobExplorer"),d=(0,g.useState)(0),p=(0,u.Z)(d,2),m=p[0],f=p[1],v=(0,_.K)(Ee),b=v.queryParams,E=v.setFromToolbar,k=(0,le.ZP)((0,g.useCallback)((function(){return(0,w.YU)()}),[])),S=k.error,P=k.request,D=(0,le.ZP)((0,g.useCallback)((0,c.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,w.Ij)(te));case 1:case"end":return e.stop()}}),e)}))),[te]),[]),B=D.result,q=D.error,I=D.isLoading,R=D.isSuccess,F=D.request,A=(0,le.ZP)((0,g.useCallback)((0,c.Z)(h().mark((function e(){var t,n=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n.length>0&&void 0!==n[0]?n[0]:0)){e.next=7;break}return e.next=4,(0,w.Ij)(ne);case 4:t=e.sent,e.next=10;break;case 7:return e.next=9,(0,w.og)(ae);case 9:t=e.sent;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)}))),[ae,ne]),[]),L=A.result,N=A.error,M=A.isLoading,z=A.isSuccess,Y=A.request,W=(0,le.ZP)((0,g.useCallback)((function(){return(0,w.wp)(b)}),[b]),{}),U=W.result,H=W.request,V=(0,le.ZP)((0,g.useCallback)((0,c.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,w.Ij)(ee));case 1:case"end":return e.stop()}}),e)}))),[ee]),[]),K=V.result,J=V.error,$=V.isLoading,Q=V.isSuccess,X=V.request,ee=fe(fe({},b),{},{attributes:["host_task_count"],group_by:"org",include_others:!0,sort_by:"host_task_count:desc"}),te=fe(fe({},b),{},{attributes:["total_count"],group_by:"org",include_others:!0,sort_by:"total_count:desc"}),ne=fe(fe({},b),{},{attributes:["total_count"],group_by:"org",group_by_time:!0,sort_by:"total_count:desc"}),ae=fe(fe({},b),{},{attributes:["total_unique_host_count"],group_by:"org",group_by_time:!0,sort_by:"host_task_count:desc"});return(0,g.useEffect)((function(){insights.chrome.appNavClick({id:"organization-statistics",secondaryNav:!0}),P()}),[]),(0,g.useEffect)((function(){Y(m)}),[m]),(0,g.useEffect)((function(){Y(),X(),H(),F()}),[b]),y().createElement(y().Fragment,null,y().createElement(Z.Z,null,y().createElement(C.Z,{title:"Organization Statistics"}),y().createElement(oe.Z,{categories:U,filters:b,setFilters:E,qsConfig:Ee})),y().createElement(j.Z,null,S?y().createElement(T.Z,{preflightError:S}):S?"":y().createElement(O.Grid,{hasGutter:!0},y().createElement(O.GridItem,{span:12},y().createElement(O.Card,null,y().createElement(O.Tabs,{activeKey:m,onSelect:function(e,t){f(t)}},y().createElement(O.Tab,{eventKey:0,title:"Jobs"}),y().createElement(O.Tab,{eventKey:1,title:"Hosts"})),y().createElement(O.CardBody,null,M&&y().createElement(ue.Z,null),N&&y().createElement(ce.Z,{message:N.error}),z&&(null===(t=L.dates)||void 0===t?void 0:t.length)<=0&&y().createElement(de.Z,null),z&&(null===(n=L.dates)||void 0===n?void 0:n.length)>0&&y().createElement(G,{margin:{top:20,right:20,bottom:50,left:50},id:"d3-grouped-bar-chart-root",data:ye(L.dates,L.meta,be[m].attr),legend:L.meta.legend,history:l,colorFunc:ge,yLabel:be[m].label,onClick:be[m].onClick(s,b),TooltipClass:be[m].tooltip})))),y().createElement(O.GridItem,{span:6},y().createElement(O.Card,null,y().createElement(O.CardTitle,null,y().createElement("h2",null,"Job Runs by Organization")),y().createElement(he,null),y().createElement(O.CardBody,null,I&&y().createElement(ue.Z,null),q&&y().createElement(ce.Z,{message:q.error}),R&&(null===(r=B.items)||void 0===r?void 0:r.length)<=0&&y().createElement(de.Z,null),R&&(null===(a=B.items)||void 0===a?void 0:a.length)>0&&y().createElement(re,{margin:{top:20,right:20,bottom:0,left:20},id:"d3-donut-1-chart-root",data:ve(B.items,"total_count"),colorFunc:ge})))),y().createElement(O.GridItem,{span:6},y().createElement(O.Card,null,y().createElement(O.CardTitle,null,y().createElement("h2",null,"Usage by Organization (Tasks)")),y().createElement(he,null),y().createElement(O.CardBody,null,$&&y().createElement(ue.Z,null),J&&y().createElement(ce.Z,{message:J.error}),Q&&(null===(o=K.items)||void 0===o?void 0:o.length)<=0&&y().createElement(de.Z,null),Q&&(null===(i=K.items)||void 0===i?void 0:i.length)>0&&y().createElement(re,{margin:{top:20,right:20,bottom:0,left:20},id:"d3-donut-2-chart-root",data:ve(K.items,"host_task_count"),colorFunc:ge})))))))};_e.propTypes={history:b().object};const xe=_e},60415:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>V});var r=n(92950),a=n.n(r),o=n(334),i=n(29163),l=n(58788),s=n(86350),c=n(48716),u=n(39173),d=n(69595),p=n(45697),m=n.n(p),f=n(35397),h=n(94550),g=n(12613),y=n(53677),v=n(77388),b=n(79886),E=n(29587),_=n(83160),x=n(94794),k=n(97853),T=function(e){var t=e.api,n=e.children;return!t||t.isLoading?a().createElement(x.Z,null):t.error?a().createElement(_.Z,{message:t.error.error}):t.isSuccess?Array.isArray(t.result)&&0===t.result.length||0===Object.keys(t.result).length?a().createElement(k.Z,null):a().createElement(a().Fragment,null,n):null};T.propTypes={api:m().any.isRequired,children:m().node.isRequired};const w=T;var j=n(48951),Z=n(91354),C=n(21048),O=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},S=function(){return(S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},P=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},D=(0,i.ZP)(l.CardBody)(M||(M=O(["\n  & .pf-c-toolbar,\n  & .pf-c-toolbar__content {\n    padding: 0;\n  }\n"],["\n  & .pf-c-toolbar,\n  & .pf-c-toolbar__content {\n    padding: 0;\n  }\n"]))),B=(0,i.ZP)(h.Tr)(z||(z=O(["\n  & td:first-child {\n    width: 50px;\n  }\n"],["\n  & td:first-child {\n    width: 50px;\n  }\n"]))),q=[{title:"4",value:4},{title:"6",value:6},{title:"8",value:8},{title:"10",value:10}],I=["elapsed"],R=[],F=function(e,t){return"id"===t&&-1===e[t]},A=function(e,t){return F(e,t)?{backgroundColor:E.global_disabled_color_300.value}:{}},L=function(e){var t,n,o,i,s,c,u=e.defaultParams,d=e.extraAttributes,p=e.readData,m=e.readOptions,E=e.schemaFnc,_=(0,C.Hm)("non-unique-report",u,["limit","offset"]),x=(0,y.K)(_),k=x.queryParams,T=x.setFromPagination,O=x.setFromToolbar,L=(0,v.ZP)((0,r.useCallback)((function(){return p(k)}),[k]),{}),N=L.request,M=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(L,["request"]),z=(0,v.ZP)((0,r.useCallback)((function(){return m(k)}),[k]),[]),Y=z.result,W=z.request,U=(0,r.useState)([]),G=U[0],H=U[1];(0,r.useEffect)((function(){Y.sort_options&&H(P(P([],d),Y.sort_options))}),[Y,d]);var V=E((null===(t=G.find((function(e){return e.key===k.sort_options})))||void 0===t?void 0:t.value)||"Label Y",k.sort_options);(0,r.useEffect)((function(){N(),W()}),[k]);var K,J=function(e,t,n){var r;O("sort_order",n),O("sort_options",null===(r=G[t])||void 0===r?void 0:r.key)};return a().createElement(l.Card,null,a().createElement(D,null,a().createElement(j.Z,{categories:Y,filters:k,qsConfig:_,setFilters:O,pagination:a().createElement(g.Z,{count:null===(o=null===(n=M.result)||void 0===n?void 0:n.meta)||void 0===o?void 0:o.count,perPageOptions:q,params:{limit:k.limit,offset:k.offset},qsConfig:_.defaultParams,setPagination:T,isCompact:!0})}),a().createElement(w,{api:M},a().createElement(f.ZP,{schema:V,functions:(K=M.result,S(S({},f.wk),{fetchFnc:function(){return new Promise((function(e){e(K)}))}}))}),a().createElement(h.TableComposable,{"aria-label":"Report Table",variant:h.TableVariant.compact},a().createElement(h.Thead,null,a().createElement(B,null,G.map((function(e){var t=e.key,n=e.value;return a().createElement(h.Th,S({key:t},function(e){var t;return(null===(t=null==Y?void 0:Y.sort_options)||void 0===t?void 0:t.map((function(e){return e.key}))).includes(e)?{sort:{sortBy:{index:G.findIndex((function(e){return e.key===k.sort_options}))||0,direction:k.sort_order||"none"},onSort:J,columnIndex:G.findIndex((function(t){return t.key===e}))}}:{}}(t)),n)})))),a().createElement(h.Tbody,null,null===(i=M.result.meta)||void 0===i?void 0:i.legend.map((function(e){return a().createElement(B,{key:e.id,style:A(e,"id")},G.map((function(t){var n=t.key;return a().createElement(h.Td,{key:e.id+"-"+n},function(e,t){return F(e,t)?"-":I.includes(t)?(0,b.yH)(e[t]):R.includes(t)?(0,Z.Z)(+e[t]):""+e[t]}(e,n))})))})))))),a().createElement(l.CardFooter,null,a().createElement(g.Z,{count:null===(c=null===(s=M.result)||void 0===s?void 0:s.meta)||void 0===c?void 0:c.count,perPageOptions:q,params:{limit:k.limit,offset:k.offset},qsConfig:_.defaultParams,setPagination:T,variant:l.PaginationVariant.bottom})))};L.propTypes={defaultParams:m().any,extraAttributes:m().arrayOf(m().exact({key:m().string.isRequired,value:m().string.isRequired}).isRequired).isRequired,readData:m().func.isRequired,readOptions:m().func.isRequired,schemaFnc:m().func.isRequired};const N=L;var M,z,Y,W,U=n(18854),G=function(){return(G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},H=i.ZP.p(K||(Y=["\n  max-width: 70em;\n  padding-top: 8px;\n"],W=["\n  max-width: 70em;\n  padding-top: 8px;\n"],Object.defineProperty?Object.defineProperty(Y,"raw",{value:W}):Y.raw=W,K=Y));const V=function(){var e=(0,o.useParams)().id,t=(0,U.Q)(+e),n=t.name,r=t.description,i=t.report;return a().createElement(a().Fragment,null,a().createElement(c.Z,null,a().createElement(d.Z,{items:[{title:"Reports",navigate:"/reports"}]}),a().createElement(u.Z,{title:n}),a().createElement(H,null,r)),a().createElement(s.Z,null,a().createElement(l.Card,null,i&&a().createElement(N,G({},i)))))};var K},68522:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Z});var r,a,o,i=n(32465),l=n(92950),s=n.n(l),c=n(29163),u=n(86350),d=n(48716),p=n(39173),m=n(58788),f=n(334),h=n(45697),g=n.n(h),y=(0,c.ZP)(m.CardTitle)(r||(r=(0,i.Z)(["\n  word-break: break-word;\n"]))),v=c.ZP.small(a||(a=(0,i.Z)(["\n  display: block;\n  margin-bottom: 10px;\n  color: #6a6e73;\n  white-space: pre-line;\n"]))),b=(0,c.ZP)(m.Label)(o||(o=(0,i.Z)(["\n  margin-right: 10px;\n"]))),E=function(e){var t=e.report,n=t.id,r=t.description,a=t.name,o=t.categories,i=(0,f.useRouteMatch)();return s().createElement(m.Card,null,s().createElement(m.CardHeader,null,s().createElement(m.CardHeaderMain,null,s().createElement(y,null,s().createElement(f.Link,{to:"".concat(i.url,"/").concat(n)},a)))),s().createElement(m.CardBody,null,r?s().createElement(v,null,r):null),s().createElement(m.CardFooter,null,o.map((function(e,t){return s().createElement(b,{key:t},e)}))))};E.propTypes={report:g().object};const _=E;var x,k,T=n(18854),w=c.ZP.div(x||(x=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 76px);\n"]))),j=(0,c.ZP)(u.Z)(k||(k=(0,i.Z)(["\n  flex-grow: 1;\n"])));const Z=function(){return s().createElement(w,null,s().createElement(d.Z,null,s().createElement(p.Z,{title:"Reports"})),s().createElement(j,null,s().createElement(m.Gallery,{hasGutter:!0,minWidths:{sm:"307px",md:"307px",lg:"307px",xl:"307px","2xl":"307px"}},T.Z.map((function(e){return s().createElement(_,{key:e.id,report:e})})))))}},53210:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(92950),a=n.n(r),o=n(334),i=n(58788),l=n(86350),s=n(48716),c=n(39173),u=n(69595),d=n(64866),p=n(80922),m=n(20806),f=n(77388);const h=function(){var e,t,n,h,g,y,v=(0,f.ZP)((0,r.useCallback)((function(){return(0,d.nE)()}),[]),{}),b=v.result,E=v.isSuccess,_=v.request;(0,r.useEffect)((function(){_()}),[_]);var x=E&&(!0===(null===(e=b.meta)||void 0===e||null===(t=e.rbac)||void 0===t||null===(n=t.perms)||void 0===n?void 0:n.write)||!0===(null===(h=b.meta)||void 0===h||null===(g=h.rbac)||void 0===g||null===(y=g.perms)||void 0===y?void 0:y.all)),k="Create new plan";return E?x?a().createElement(a().Fragment,null,a().createElement(s.Z,null,a().createElement(u.Z,{items:[{title:"Savings Planner",navigate:"/savings-planner"}]}),a().createElement(c.Z,{title:k})),a().createElement(l.Z,null,a().createElement(i.Card,null,a().createElement(i.CardBody,null,a().createElement(p.Z,{title:k,options:b}))))):a().createElement(o.Redirect,{to:m.n.savingsPlanner}):null}},35945:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>he});var r,a=n(92950),o=n.n(a),i=n(334),l=n(83264),s=n(58788),c=n(86350),u=n(92137),d=n(32465),p=n(87757),m=n.n(p),f=n(45697),h=n.n(f),g=n(29163),y=n(20806),v=n(17563),b=g.ZP.div(r||(r=(0,d.Z)(["\n  margin-top: 20px;\n  --pf-c-card__actions--PaddingLeft: 0;\n"]))),E=function(e){var t=e.children;return o().createElement(b,null,o().createElement(s.CardActions,null,t))};E.propTypes={children:h().node};const _=E;var x,k,T=n(64866),w=n(77388),j=n(34699),Z=n(55411),C=n(96183),O=n(23071),S=(0,g.ZP)(s.Alert)(x||(x=(0,d.Z)(["\n  margin-top: 10px;\n"]))),P=g.ZP.span(k||(k=(0,d.Z)(["\n  && {\n    margin-right: 10px;\n  }\n"]))),D=function(e){var t=e.onConfirm,n=e.modalTitle,r=void 0===n?"Delete":n,i=e.name,l=void 0===i?"":i,c=e.variant,d=void 0===c?"secondary":c,p=e.isDisabled,f=void 0!==p&&p,h=e.ouiaId,g=void 0===h?null:h,y=e.deleteMessage,v=void 0===y?"Delete?":y,b=e.deleteDetailsRequests,E=void 0===b?[]:b,_=e.disabledTooltip,x=void 0===_?"This item cannot be deleted":_,k=e.children,T=(0,a.useState)(!1),w=(0,j.Z)(T,2),D=w[0],B=w[1],q=(0,a.useState)(),I=(0,j.Z)(q,2),R=I[0],F=I[1],A=(0,a.useState)({}),L=(0,j.Z)(A,2),N=L[0],M=L[1],z=(0,a.useState)(!1),Y=(0,j.Z)(z,2),W=Y[0],U=Y[1],G=function(){var e=(0,u.Z)(m().mark((function e(t){var n,r,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U(!0),!(E.length>0&&t)){e.next=8;break}return e.next=4,(0,C.U)(E);case 4:n=e.sent,r=n.results,(a=n.error)?F(a):M(r);case 8:U(!1),B(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return R?o().createElement(Z.Z,{isOpen:!!R,variant:"error",title:"Error!",onClose:function(){G(!1),F()}},o().createElement(O.Z,{error:R.detail})):o().createElement(o().Fragment,null,x?o().createElement(s.Tooltip,{content:x,position:"top"},o().createElement("div",null,o().createElement(s.Button,{spinnerAriaValueText:W?"Loading":void 0,variant:d||"secondary","aria-label":"Delete",isDisabled:f,onClick:function(){return G(!0)},ouiaId:g},k||"Delete"))):o().createElement(s.Button,{ouiaId:g,spinnerAriaValueText:W?"Loading":void 0,variant:d||"secondary","aria-label":"Delete",isDisabled:f,onClick:function(){return G(!0)}},k||"Delete"),o().createElement(Z.Z,{isOpen:D,title:r,variant:"danger",onClose:function(){return G(!1)},actions:[o().createElement(s.Button,{ouiaId:"delete-modal-confirm",key:"delete",variant:"danger","aria-label":"Confirm Delete",isDisabled:f,onClick:function(){t(),G(!1)}},"Delete"),o().createElement(s.Button,{ouiaId:"delete-modal-cancel",key:"cancel",variant:"link","aria-label":"Cancel",onClick:function(){return G(!1)}},"Cancel")]},"Are you sure you want to delete:",o().createElement("br",null),o().createElement("strong",null,l),Object.values(N).length>0&&o().createElement(S,{variant:"warning",isInline:!0,title:o().createElement("div",null,o().createElement("div",{"aria-label":v},v),o().createElement("br",null),Object.entries(N).map((function(e){var t=(0,j.Z)(e,2),n=t[0],r=t[1];return o().createElement("div",{"aria-label":"".concat(n,": ").concat(r),key:n},o().createElement(P,null,n)," ",o().createElement(s.Badge,null,r))})))})))};D.propTypes={onConfirm:h().func.isRequired,modalTitle:h().string,name:h().string,variant:h().object,isDisabled:h().bool,ouiaId:h().string,deleteMessage:h().string,deleteDetailsRequests:h().array,disabledTooltip:h().bool,children:h().node};const B=D;var q=n(84564),I=n(79886),R=function(e){var t=e.tabsArray,n=e.defaultTabId,r=(0,i.useHistory)(),a=(0,i.useLocation)();return o().createElement(s.Tabs,{activeKey:function(e){var n;return(null===(n=t.find((function(e){return e.link===a.pathname})))||void 0===n?void 0:n.id)||e}(n),onSelect:function(e,n){var a=t.find((function(e){return e.id===n}));a&&r.push(a.link)}},t.map((function(e){return o().createElement(s.Tab,{"aria-label":"string"==typeof e.name?e.name:"".concat(e.id," tab"),eventKey:e.id,key:e.id,link:e.link,title:o().createElement(s.TabTitleText,null,e.name),role:"tab"})})))};R.propTypes={defaultTabId:h().number,tabsArray:(0,f.arrayOf)((0,f.shape)({id:f.number.isRequired,link:f.string.isRequired,name:(0,f.oneOfType)([f.string.isRequired,f.node.isRequired])})).isRequired},R.defaultProps={defaultTabId:1};const F=R;var A,L,N=n(81672),M=n(62923),z=n(20272),Y=(0,g.ZP)(s.CardBody)(A||(A=(0,d.Z)(["\n  min-height: 500px;\n  padding: 0;\n  padding-bottom: 20px;\n\n  &:first-child {\n    padding-top: 0;\n  }\n"]))),W=(0,g.ZP)(s.Divider)(L||(L=(0,d.Z)(["\n  padding-top: 24px;\n"]))),U=function(e){var t=e.tabsArray,n=e.plan,r=e.canWrite,l=e.options,c=(0,i.useLocation)().pathname,d=(0,i.useHistory)(),p=n.id,f=n.automation_status,h=n.category,g=n.description,b=n.frequency_period,E=n.hosts,x=n.manual_time,k=n.modified,j=n.name,Z=n.tasks,C=n.template_details,O=n.template_id,S=function(e,t){return((l[e]||[]).find((function(e){return e.key===t}))||{}).value},P={Name:j||void 0,"Automation type":h?S("category",h):void 0,Description:g||void 0,"Manual time":x?S("manual_time",x):void 0,"Run on hosts":E||void 0,Frequency:b?S("frequency_period",b):void 0,Template:O?function(e){if(e.id)return o().createElement("a",{onClick:function(){return t=e.id,n=y.n.jobExplorer,r={"job-explorer.quick_date_range":"last_30_days","job-explorer.status":["failed","successful"],"job-explorer.template_id":t},a=(0,v.stringify)(r,{arrayFormat:"bracket"}),void d.push({pathname:n,search:a});var t,n,r,a}},e.name)}(C):void 0,"Last job status":f.status&&"None"!==f.status?o().createElement(z.Z,{status:f.status}):o().createElement(s.Label,{variant:"outline",color:"red",icon:o().createElement(q.ZP,null)},"Not Running"),"Last updated":k?o().createElement("span",null,(0,I.o0)(k)):void 0},D=(0,w.ZP)((0,a.useCallback)((0,u.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,T.Kh)({id:p});case 2:d.push("/savings-planner");case 3:case"end":return e.stop()}}),e)}))),[p,d])),R=D.request,A=D.error,L=(0,w.pF)(A),U=L.error,G=L.dismissError;return o().createElement(o().Fragment,null,n&&o().createElement(o().Fragment,null,o().createElement(Y,null,o().createElement(F,{tabsArray:t}),o().createElement("div",{style:{padding:"1rem"}},o().createElement(s.DescriptionList,{isHorizontal:!0,columnModifier:{lg:"3Col"}},Object.keys(P).map((function(e,t){return void 0!==P[e]&&o().createElement(s.DescriptionListGroup,{key:t},o().createElement(s.DescriptionListTerm,null,e),o().createElement(s.DescriptionListDescription,null,P[e]))}))),Z.length>0&&o().createElement(s.DescriptionList,null,o().createElement(W,{component:"div"}),o().createElement(s.DescriptionListGroup,{key:Z},o().createElement(s.DescriptionListTerm,null,"Tasks"),o().createElement(s.DescriptionListDescription,null,o().createElement(s.List,{component:"ol",type:"1"},Z.map((function(e){var t=e.id,n=e.task;return o().createElement(s.ListItem,{key:t},n)})))))))),r&&o().createElement(s.CardFooter,null,o().createElement(_,null,o().createElement(s.Button,{key:"edit-plan-button",variant:"primary","aria-label":"Edit plan",onClick:function(){d.push({pathname:"".concat(c.split("/details")[0],"/edit")})}},"Edit"),o().createElement(B,{key:"delete-plan-button",name:j,modalTitle:"Delete Plan",onConfirm:R},"Delete")),U&&o().createElement(N.Z,{isOpen:!!U,onClose:G,title:"Error",variant:"error"},o().createElement(M.Z,{error:U.detail})))))};U.propTypes={plan:h().object,tabsArray:h().array,canWrite:h().bool.isRequired,options:h().object.isRequired};const G=U;var H=n(90952),V=n(35397),K=n(91354);const J=function(e){return(+e.toFixed(0)).toLocaleString()+" hours"};var $=function(e){var t=e.value,n=void 0===t?0:t,r=e.isMoney,a=void 0===r||r;return o().createElement(s.Card,{isPlain:!0},o().createElement(s.CardTitle,{style:{paddingBottom:"0"}},"Total savings"),o().createElement(s.CardBody,null,o().createElement(s.Title,{headingLevel:"h3",size:"4xl",style:{color:a?"#81C46B":"#0063CF"}},a?""+(0,K.Z)(n):""+J(n))))};$.propTypes={value:h().number,isMoney:h().bool};const Q=$;var X=n(53688),ee=function(){return o().createElement(o().Fragment,null,o().createElement("p",null,o().createElement("strong",null,"Cost")),o().createElement("p",null,"The cost includes the hours spent in implementation, deployment, training and other expenditures for creating, maintaining and running the automation. These hours (cost of investment) are usually higher at the onset, and will be greatly reduced once the automation has been created and only maintenance is required."),o().createElement("br",null),o().createElement("p",null,"For the initial period and the first year, we assume approximately 10 hours spent on each host, as well as some buffer time and a 40% risk adjustment to account for unforeseen situations."),o().createElement("br",null),o().createElement("p",null,"For the next two years after the first year, we assume 4 hours spent on each host, as well as a 40% risk adjustment to account for unforeseen situations."),o().createElement("br",null),o().createElement("p",null,"The formula used to calculate cost for the initial period and year 1:"),o().createElement(s.CodeBlock,null,o().createElement(s.CodeBlockCode,null,"C1 = (time for a manual run on one host in hours * 10) + buffer time\nC2 = C1 * 40% risk adjustment\ninitial cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)\nyear 1 cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)")),o().createElement("br",null),o().createElement("p",null,"The formula used to calculate cost for years 2 and 3:"),o().createElement(s.CodeBlock,null,o().createElement(s.CodeBlockCode,null,"C1 = (time for a manual run on one host in hours * 4)\nC2 = C1 * 40% risk adjustment\nyear 2 cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)\nyear 3 cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)")))},te=function(){return o().createElement(o().Fragment,null,o().createElement("p",null,o().createElement("strong",null,"Savings")),o().createElement("p",null,"The savings indicates the time and money saved as a result of automating the plan."),o().createElement("br",null),o().createElement("p",null,"We assume 50% productivity recapture to account for the productivity that is usually gained by repeated manual implementation of a task over a period of time. We also add a -5% risk adjustment for unforeseen situations that might arise and need to be handled. We also assume a 15% year over year growth in savings."),o().createElement("br",null),o().createElement("p",null,"Money savings for the initial period is 0, so there is no formula necessary."),o().createElement("br",null),o().createElement("p",null,"The formula used to calculate savings for year 0:"),o().createElement(s.CodeBlock,null,o().createElement(s.CodeBlockCode,null,"initial period savings = 0 - initial cost")),o().createElement("br",null),o().createElement("p",null,"The formula used for savings for year 1:"),o().createElement(s.CodeBlock,null,o().createElement(s.CodeBlockCode,null,"S1 = (number of hosts * (manual time in minutes / 60) * yearly frequency of automation)\nS2 = S1 * 50% productivity recapture\nS3 = S2 * 5% risk adjustment * (cost per hour in USD if applicable, based on display)\nyear 1 savings = S2 - S3 - year 1 cost")),o().createElement("br",null),o().createElement("p",null,"The formula used to calculate savings for year 2:"),o().createElement(s.CodeBlock,null,o().createElement(s.CodeBlockCode,null,"S1 = year 1 savings * 15% growth\nyear 2 savings = year 1 savings + S1 - year 2 cost")),o().createElement("br",null),o().createElement("p",null,"The formula used to calculate savings for year 3:"),o().createElement(s.CodeBlock,null,o().createElement(s.CodeBlockCode,null,"S2 = year 2 savings * 15% growth\nyear 3 savings = year 2 savings + S2 - year 3 cost")))};const ne=function(){var e=(0,a.useState)(!1),t=e[0],n=e[1];return o().createElement(o().Fragment,null,o().createElement(s.Button,{variant:"link",onClick:function(){return n(!0)},icon:o().createElement(X.uM,null)},"Automation formula"),o().createElement(s.Modal,{title:"Automation formula",isOpen:t,onClose:function(){return n(!1)},variant:s.ModalVariant.medium,actions:[o().createElement(s.Button,{key:"cancel",variant:s.ButtonVariant.primary,onClick:function(){return n(!1)}},"Close")]},o().createElement("p",null,"We use risk-adjusted factors to create the 3-year projection of cost and savings related to automation. While we aim to provide as accurate an account of the cost and savings as possible, actual values may differ in practice. The following information breaks down where we get the data, the risk-adjustment factors we use, the assumptions we make, and the formula used to compute the values as displayed in the chart."),o().createElement("br",null),o().createElement(ee,null),o().createElement("br",null),o().createElement(te,null)))};var re=function(){return(re=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ae={initial:"Initial",year1:"Year 1",year2:"Year 2",year3:"Year 3"},oe=function(e){return{cost:{key:e?"total_costs":"total_hours_spent_risk_adjusted",color:"#8B8D8F"},benefit:{key:e?"total_benefits":"total_hours_saved",color:e?"#81C46B":"#0063CF"},net:{key:e?"cumulative_net_benefits":"cumulative_time_net_benefits",color:"#EE7A00"}}},ie=function(e){var t,n=e.tabsArray,r=e.plan,i=(0,a.useState)(!0),l=i[0],c=i[1],u={charts:[{id:1e3,kind:V.$v.wrapper,type:V.yD.chart,parent:null,props:{height:600,domainPadding:{x:100},padding:{bottom:60,left:80},themeColor:V.nz.gray},tooltip:{cursor:!0,stickToAxis:"x",mouseFollow:!0,legendTooltip:{legendData:[{childName:oe(l).benefit.key,name:"Savings",symbol:{fill:oe(l).benefit.color}},{childName:oe(l).cost.key,name:"Costs",symbol:{fill:oe(l).cost.color}},{childName:oe(l).net.key,name:"Cumulative savings",symbol:{fill:oe(l).net.color}}],titleProperyForLegend:"year"},customFnc:function(e){return l?(0,K.Z)(+e.y):J(+e.y)}},xAxis:{label:"Time"},yAxis:{label:l?"Money Saved":"Hours Saved",tickFormat:"formatNumberAsK",style:{grid:{stroke:"#D2D2D2"},axisLabel:{padding:60}}}},{id:1001,kind:V.$v.stack,parent:1e3,props:{}},{id:1102,kind:V.$v.simple,type:V.oX.bar,name:oe(l).benefit.key,parent:1001,props:{x:"year",y:oe(l).benefit.key,barRatio:.8,barWidth:0,style:{data:{fill:oe(l).benefit.color,width:120}}},tooltip:{labelName:""}},{id:1101,kind:V.$v.simple,type:V.oX.bar,name:oe(l).cost.key,parent:1001,props:{x:"year",y:oe(l).cost.key,barRatio:.8,barWidth:0,style:{data:{fill:oe(l).cost.color,width:120}}},tooltip:{labelName:""}},{id:1002,kind:V.$v.simple,type:V.oX.line,name:oe(l).net.key,parent:1e3,props:{x:"year",y:oe(l).net.key,style:{data:{stroke:oe(l).net.color,strokeWidth:5}}},tooltip:{labelName:""}}],functions:re(re({},V.wk),{fetchFnc:function(){return new Promise((function(e){var t;e((t=r,{items:Object.keys(ae).map((function(e){return{year:ae[e],total_costs:-1*+t.projections.monetary_stats.total_costs[e],total_benefits:+t.projections.monetary_stats.total_benefits[e],cumulative_net_benefits:+t.projections.monetary_stats.cumulative_net_benefits[e],total_hours_spent_risk_adjusted:-1*+t.projections.time_stats.total_hours_spent_risk_adjusted[e],total_hours_saved:+t.projections.time_stats.total_hours_saved[e],cumulative_time_net_benefits:+t.projections.time_stats.cumulative_time_net_benefits[e]}})),type:V.Ii.nonGrouped,response_type:""}))}))}})};return o().createElement(s.Card,null,o().createElement(F,{tabsArray:n}),o().createElement(s.Grid,null,o().createElement(s.GridItem,{span:9},o().createElement(s.Card,{isPlain:!0},o().createElement(s.CardHeader,null,o().createElement(s.CardActions,null,o().createElement(s.ToggleGroup,{"aria-label":"toggleButton"},o().createElement(s.ToggleGroupItem,{text:"Money",buttonId:"money",isSelected:l,onChange:function(){return c(!0)}}),o().createElement(s.ToggleGroupItem,{text:"Time",buttonId:"time",isSelected:!l,onChange:function(){return c(!1)}}))),o().createElement(s.CardTitle,null,r.name)),o().createElement(s.CardBody,null,o().createElement(V.ZP,{schema:u.charts,functions:u.functions})))),o().createElement(s.GridItem,{span:3},o().createElement(o().Fragment,null,o().createElement(Q,{value:(t=r,l?t.projections.monetary_stats.cumulative_net_benefits.year3:t.projections.time_stats.cumulative_time_net_benefits.year3),isMoney:l}),o().createElement(s.Card,{isPlain:!0},o().createElement(s.CardBody,null,o().createElement(s.List,{isPlain:!0},o().createElement(s.ListItem,{icon:o().createElement(H.fU,{color:oe(l).benefit.color})},"Savings from automating this plan"),o().createElement(s.ListItem,{icon:o().createElement(H.fU,{color:oe(l).cost.color})},"Costs from creating, maintaining and running the automation"),o().createElement(s.ListItem,{icon:o().createElement(H.fU,{color:oe(l).net.color})},"Cumulative savings over time")))),o().createElement(ne,null)))))};ie.propTypes={plan:h().object.isRequired,tabsArray:h().arrayOf(h().shape({id:h().number.isRequired,link:h().string.isRequired,name:h().node.isRequired}).isRequired).isRequired};const le=ie;var se=n(83160),ce=n(48716),ue=n(39173),de=n(69595),pe=n(80922),me=function(e){var t,n,r,l,s,c,u=e.data,d=(0,i.useParams)().id,p=(0,w.ZP)((0,a.useCallback)((function(){return(0,T.nE)()}),[]),{}),m=p.result,f=p.isSuccess,h=p.request;(0,a.useEffect)((function(){h()}),[h]);var g=f&&(!0===(null==m||null===(t=m.meta)||void 0===t||null===(n=t.rbac)||void 0===n||null===(r=n.perms)||void 0===r?void 0:r.write)||!0===(null==m||null===(l=m.meta)||void 0===l||null===(s=l.rbac)||void 0===s||null===(c=s.perms)||void 0===c?void 0:c.all));return f?g?o().createElement(pe.Z,{title:"Edit plan",options:m,data:u}):o().createElement(i.Redirect,{to:"".concat(y.n.savingsPlanner,"/").concat(d)}):null};me.propTypes={data:h().object.isRequired};const fe=me,he=function(){var e,t,n=(0,i.useParams)().id,r=(0,i.useLocation)(),u=(0,i.useHistory)(),d={id:[n]},p="Details";-1!==r.pathname.indexOf("/statistics")?p="Statistics":-1!==r.pathname.indexOf("/edit")&&(p="Edit plan");var m=(0,w.ZP)((0,a.useCallback)((function(){return(0,T.YU)()}),[])),f=m.error,h=m.request,g=(0,w.ZP)((function(){return(0,T.nE)()}),{}),y=g.result,v=g.error,b=g.request,E=(0,w.ZP)((0,a.useCallback)((function(){return(0,T.wD)(n)}),[n]),{plan:{},rbac:[]}),_=E.result,x=_.rbac,k=_.plan,j=E.isSuccess,Z=E.request;(0,a.useEffect)((function(){return b(),h(),u.listen((function(e){e.pathname.includes("/edit")||Z()}))}),[]),(0,a.useEffect)((function(){Z()}),[n]);var C=j&&(!0===(null===(e=x.perms)||void 0===e?void 0:e.write)||!0===(null===(t=x.perms)||void 0===t?void 0:t.all)),O=[{id:0,name:o().createElement(o().Fragment,null,o().createElement(l.ZP,null),"Back to Plans"),link:"/savings-planner"},{id:1,name:"Details",link:"/savings-planner/".concat(n,"/details")},{id:2,name:"Statistics",link:"/savings-planner/".concat(n,"/statistics")}],S="/savings-planner/".concat(n),P=j?[{title:"Savings Planner",navigate:"/savings-planner"},{title:k.name,navigate:S}]:[];return f?o().createElement(s.EmptyState,{preflightError:f}):o().createElement(o().Fragment,null,v&&o().createElement(se.Z,{message:v.error}),j&&o().createElement(o().Fragment,null,o().createElement(ce.Z,null,o().createElement(de.Z,{items:P}),o().createElement(ue.Z,{title:p})),o().createElement(c.Z,null,o().createElement(s.Card,null,o().createElement(i.Switch,null,o().createElement(i.Route,{exact:!0,path:"/savings-planner/:id/edit"},o().createElement(fe,{data:k})),o().createElement(i.Route,{exact:!0,path:"/savings-planner/:id/statistics"},o().createElement(le,{tabsArray:O,plan:k,queryParams:d})),o().createElement(i.Route,{exact:!0,path:["/savings-planner/:id","/savings-planner/:id/details"]},o().createElement(G,{plan:k,tabsArray:O,canWrite:C,options:y})))))))}},97761:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>me});var r=n(87329),a=n(92137),o=n(96156),i=n(32465),l=n(87757),s=n.n(l),c=n(92950),u=n.n(c),d=n(29163),p=n(334),m=n(86350),f=n(48716),h=n(39173),g=n(58788),y=n(64866),v=n(95735),b=n(83160),E=n(94794),_=n(2205),x=n(45697),k=n.n(x),T=n(25811),w=n(71070),j=function(e){var t=e.label,n=void 0===t?"":t,r=e.title,a=void 0===r?"No items found.":r,o=e.message,i=void 0===o?"":o,l=e.canAdd,s=void 0!==l&&l,c=e.path,d=(0,p.useHistory)();return u().createElement(g.EmptyState,{variant:"full"},u().createElement(g.EmptyStateIcon,{icon:s?T.ZP:w.ZP}),u().createElement(g.Title,{size:"lg",headingLevel:"h3"},a),u().createElement(g.EmptyStateBody,null,i),s&&u().createElement(g.Button,{key:"add-item-button",variant:"primary","aria-label":n,onClick:function(){d.push({pathname:c})}},n))};j.propTypes={canAdd:k().bool,label:k().string,message:k().string,title:k().string,path:k().string.isRequired};const Z=j;var C,O,S,P,D,B=n(12613),q=n(34699),I=n(17563),R=n(84564),F=n(20806),A=n(91354),L=n(79886),N=n(20272),M=(0,d.ZP)(g.CardTitle)(C||(C=(0,i.Z)(["\n  word-break: break-word;\n"]))),z=d.ZP.span(O||(O=(0,i.Z)(["\n  margin-right: 5px;\n  font-weight: bold;\n"]))),Y=d.ZP.small(S||(S=(0,i.Z)(["\n  display: block;\n  margin-bottom: 10px;\n  color: #6a6e73;\n"]))),W=(0,d.ZP)(g.Checkbox)(P||(P=(0,i.Z)(["\n  &.pf-c-check.pf-m-standalone {\n    margin-top: -3px;\n  }\n"]))),U=d.ZP.div(D||(D=(0,i.Z)(["\n  display: flex;\n  min-height: 30px;\n  align-items: center;\n"]))),G=function(e){var t,n,r,a=e.isSuccess,o=e.plan,i=e.selected,l=void 0===i?[]:i,s=e.handleSelect,d=void 0===s?function(){}:s,m=e.canWrite,f=e.options,h=o.id,y=o.automation_status,v=o.category,b=o.description,E=o.frequency_period,_=o.modified,x=o.name,k=o.template_details,T=o.projections,w=null==T||null===(t=T.monetary_stats)||void 0===t||null===(n=t.cumulative_net_benefits)||void 0===n?void 0:n.year3,j=(0,c.useState)(!1),Z=(0,q.Z)(j,2),C=Z[0],O=Z[1],S=(0,p.useRouteMatch)(),P=(0,p.useHistory)(),D=function(e,t){return f[e].find((function(e){return e.key===t})).value},B=[u().createElement(u().Fragment,{key:h},u().createElement(g.DropdownItem,{key:"edit",onClick:function(){return P.push("".concat(S.url,"/").concat(h,"/edit"))},position:"right"},"Edit"),u().createElement(g.DropdownItem,{key:"link",onClick:function(){return P.push("".concat(S.url,"/").concat(h,"/edit#tasks"))},position:"right"},"Manage tasks"),u().createElement(g.DropdownItem,{key:"link",onClick:function(){return P.push("".concat(S.url,"/").concat(h,"/edit#link_template"))},position:"right"},"Link template"))];return u().createElement(g.Card,null,u().createElement(g.CardHeader,null,u().createElement(g.CardHeaderMain,null,u().createElement(M,null,u().createElement(p.Link,{to:"".concat(S.url,"/").concat(h)},x))),m&&u().createElement(g.CardActions,null,u().createElement(g.Dropdown,{onSelect:function(){},toggle:u().createElement(g.KebabToggle,{onToggle:function(){return O(!C)}}),isOpen:C,isPlain:!0,dropdownItems:B,position:"right"}),u().createElement(W,{onChange:function(){return d(o)},isChecked:l.some((function(e){return e.id===o.id})),"aria-label":"card checkbox",id:"check-1",name:"check1"}))),u().createElement(g.CardBody,null,b?u().createElement(Y,null,b):null,u().createElement(U,null,u().createElement(z,null,"Frequency")," ",E?D("frequency_period",E):u().createElement("span",null,"None")),u().createElement(U,null,u().createElement(z,null,"Template")," ",0!==Object.keys(k||{}).length?(r=k)&&a?u().createElement("a",{onClick:function(){return e=r.id,t=F.n.jobExplorer,n={"job-explorer.quick_date_range":"last_30_days","job-explorer.status":["failed","successful"],"job-explorer.template_id":e},a=(0,I.stringify)(n,{arrayFormat:"bracket"}),void P.push({pathname:t,search:a});var e,t,n,a}},r.name):null:u().createElement("span",null,"None -"," ",u().createElement("a",{onClick:function(){return P.push("".concat(S.url,"/").concat(h,"/edit#link_template"))}},"Link template"))),u().createElement(U,null,u().createElement(z,null,"Last job status"),"None"!==y.status?u().createElement(N.Z,{status:y.status}):u().createElement(g.Label,{variant:"outline",color:"red",icon:u().createElement(R.ZP,null)},"Not Running")),w&&u().createElement(U,null,u().createElement(z,null,"Projected savings"),u().createElement("a",{onClick:function(){return P.push("".concat(S.url,"/").concat(h,"/statistics"))}},(0,A.Z)(+w))),u().createElement(U,null,u().createElement(z,null,"Last updated")," ",u().createElement("span",null,(0,L.o0)(_)))),u().createElement(g.CardFooter,null,u().createElement(g.Label,null,D("category",v))))};G.propTypes={isSuccess:k().bool.isRequired,canWrite:k().bool.isRequired,selected:k().array,handleSelect:k().func,plan:k().object,options:k().object};const H=G;var V=n(53677),K=n(13784),J=n(55411),$=n(96183),Q=n(23071),X=function(e){var t=e.name,n=e.username,r=e.image;return t||n||r?(t&&k().checkPropTypes({name:k().string},{name:e.name},"prop","ItemToDelete"),n&&k().checkPropTypes({username:k().string},{username:e.username},"prop","ItemToDelete"),r&&k().checkPropTypes({image:k().string},{image:e.image},"prop","ItemToDelete"),null):new Error("One of 'name', 'username' or 'image' is required by ItemToDelete component.")},ee=function(e){var t,n=e.itemsToDelete,r=e.pluralizedItemName,o=void 0===r?"Items":r,i=e.onDelete,l=e.errorMessage,d=void 0===l?"Error while deleting":l,p=e.deleteDetailsRequests,m=void 0===p?[]:p,f=e.cannotDelete,h=void 0===f?function(e){return!e}:f,y=(0,c.useState)(!1),v=(0,q.Z)(y,2),b=v[0],E=v[1],_=(0,c.useState)(null),x=(0,q.Z)(_,2),k=x[0],T=x[1],w=(0,c.useState)(!1),j=(0,q.Z)(w,2),Z=j[0],C=j[1],O=(0,c.useState)(""),S=(0,q.Z)(O,2),P=S[0],D=S[1],B=function(){var e=(0,a.Z)(s().mark((function e(t){var r,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(!0),T(null),!(t&&1===n.length&&(null==m?void 0:m.length)>0)){e.next=9;break}return e.next=5,(0,$.U)(m);case 5:r=e.sent,a=r.results,(o=r.error)?D(o):T(a);case 9:C(!1),E(t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I="Delete ".concat(o,"?"),R=0===n.length||n.some(h);return P?u().createElement(J.Z,{isOpen:!!P,title:"Error!",onClose:function(){B(!1),D()}},u().createElement(Q.Z,{error:P.detail})):u().createElement(u().Fragment,null,u().createElement(g.Tooltip,{content:(t=n.filter(h).map((function(e){return e.name||e.username})).join(", "),n.some(h)?u().createElement("div",null,d?u().createElement(u().Fragment,null,u().createElement("span",null,d),u().createElement("span",null,": ".concat(t))):"You do not have permission to delete ".concat(o,": ").concat(t)):n.length?"Delete":"Select a plan to delete"),position:"top"},u().createElement("div",null,u().createElement(g.Button,{variant:"secondary",ouiaId:"delete-button",spinnerAriaValueText:Z?"Loading":void 0,"aria-label":"Delete",onClick:function(){return B(!0)},isDisabled:R},"Delete"))),b&&u().createElement(J.Z,{variant:"danger",title:I,isOpen:b,onClose:function(){return B(!1)},actions:[u().createElement(g.Button,{ouiaId:"delete-modal-confirm",key:"delete",variant:"danger","aria-label":"confirm delete",isDisabled:Boolean(k),onClick:function(){i(),B()}},"Delete"),u().createElement(g.Button,{key:"cancel",variant:"link","aria-label":"cancel delete",onClick:function(){return B(!1)}},"Cancel")]},u().createElement("div",null,"This action will delete the following:"),n.map((function(e){return u().createElement("span",{key:e.id},u().createElement("strong",null,e.name||e.username||e.image),u().createElement("br",null))}))))};ee.propTypes={itemsToDelete:k().arrayOf(k().shape({id:k().number.isRequired,name:X,username:X,image:X})).isRequired,pluralizedItemName:k().string,onDelete:k().func.isRequired,errorMessage:k().string,warningMessage:k().node,deleteDetailsRequests:k().array,cannotDelete:k().func,deleteMessage:k().string};const te=ee;var ne,re,ae,oe=n(77388),ie=n(21048);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce=d.ZP.div(ne||(ne=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 76px);\n"]))),ue=d.ZP.div(re||(re=(0,i.Z)(["\n  flex-shrink: 0;\n"]))),de=(0,d.ZP)(m.Z)(ae||(ae=(0,i.Z)(["\n  flex-grow: 1;\n"]))),pe=(0,ie.Hm)("savings-planner",se({},K.bE.defaultParams),["limit","offset"]);const me=function(){var e,t,n=(0,p.useHistory)(),o=(0,p.useLocation)().pathname,i=(0,V.K)(pe),l=i.queryParams,d=i.setFromPagination,m=i.setFromToolbar,x=(0,oe.ZP)((0,c.useCallback)((function(){return(0,y.YU)()}),[])),k=x.error,T=x.request,w=(0,oe.ZP)((0,c.useCallback)((function(){return(0,y.nE)()}),[l]),{}),j=w.result,C=w.error,O=w.isSuccess,S=w.request,P=(0,oe.ZP)((0,c.useCallback)((0,a.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.Wu)(l);case 2:return t=e.sent,e.abrupt("return",{data:t.items,rbac:t.rbac,total_count:t.meta.total_count});case 4:case"end":return e.stop()}}),e)}))),[l]),{data:[],rbac:{},total_count:0}),D=P.result,I=D.data,R=D.rbac,F=D.total_count,A=P.isLoading,L=P.isSuccess,N=P.request,M=se(se({},j),{},{name:[{key:"name",value:null}]});(0,c.useEffect)((function(){T()}),[]),(0,c.useEffect)((function(){S(),N()}),[l]);var z=L&&(!0===(null==R||null===(e=R.perms)||void 0===e?void 0:e.write)||!0===(null==R||null===(t=R.perms)||void 0===t?void 0:t.all)),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,c.useState)([]),n=(0,q.Z)(t,2),a=n[0],o=n[1],i=a.length>0&&a.length===e.length,l=function(e){a.some((function(t){return t.id===e.id}))?o((function(t){return(0,r.Z)(t.filter((function(t){return t.id!==e.id})))})):o((function(t){return[].concat((0,r.Z)(t),[e])}))};return{selected:a,isAllSelected:i,handleSelect:l,setSelected:o}}(I),W=Y.selected,U=Y.handleSelect,G=Y.setSelected,K=(0,oe.px)((0,c.useCallback)((function(){return Promise.all(W.map((function(e){return(0,y.Kh)({id:e.id})})),[W])})),{}),$=K.isLoading,X=K.deletionError,ee=K.deleteItems,ne=K.clearDeletionError,re=function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:G([]),N();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u().createElement(ce,null,u().createElement(f.Z,null,u().createElement(h.Z,{title:"Savings Planner"}),u().createElement(v.Z,{categories:M,filters:l,qsConfig:pe,setFilters:m,additionalControls:[].concat((0,r.Z)(z?[u().createElement(g.Button,{key:"add-plan-button",variant:"primary","aria-label":"Add plan",onClick:function(){n.push({pathname:"".concat(o,"/add")})}},"Add plan")]:[]),[z&&O&&I.length>0&&u().createElement(te,{key:"delete-plan-button",onDelete:re,itemsToDelete:W,pluralizedItemName:"Savings plan"})]),pagination:L&&I.length>0?u().createElement(B.Z,{count:F,params:{limit:parseInt(l.limit),offset:parseInt(l.offset)},qsConfig:pe,setPagination:d,isCompact:!0}):u().createElement("div",null)})),u().createElement(de,null,k?u().createElement(_.Z,{preflightError:k}):C?u().createElement(b.Z,{message:C.error}):A||$?u().createElement(E.Z,null):!L||0!==I.length||A||$?!L||A||$?u().createElement(u().Fragment,null):u().createElement(g.Gallery,{hasGutter:!0,minWidths:{sm:"307px",md:"307px",lg:"307px",xl:"307px","2xl":"307px"}},O&&L&&I.map((function(e){return u().createElement(H,{key:e.id,isSuccess:L,selected:W,plan:e,handleSelect:U,canWrite:z,options:j})}))):u().createElement(Z,{label:"Add plan",title:"No plans found",message:z?"Update the applied filters or add a new plan.":"Update the applied filters.",canAdd:z,path:"".concat(o,"/add")})),I.length>0&&!(A||$)&&u().createElement(ue,null,u().createElement(B.Z,{count:F,params:{limit:parseInt(l.limit),offset:parseInt(l.offset)},qsConfig:pe,setPagination:d,variant:g.PaginationVariant.bottom})),X&&u().createElement(J.Z,{"aria-label":"Deletion error",isOpen:X,onClose:ne,title:"Error",variant:"error"},"Failed to delete one or more plans.",u().createElement(Q.Z,{error:X.detail})))}},80922:(e,t,n)=>{"use strict";n.d(t,{Z:()=>he});var r=n(34699),a=n(92950),o=n.n(a),i=n(45697),l=n.n(i),s=n(334),c=n(58788),u=n(20806),d=n(77388),p=n(96156),m="SET_NAME",f="SET_CATEGORY",h="SET_DESCRIPTION",g="SET_MANUAL_TIME",y="SET_HOSTS",v="SET_FREQUENCY_PERIOD",b="SET_TASKS",E="SET_TEMPLATE_ID";function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(null!=e&&e.length)return e.sort((function(e,t){return e.task_order-t.task_order})).map((function(e){return e.task}))};var T=n(64866),w=n(81672),j=n(62923),Z=n(79886),C=function(e){var t,n,i,l=e.options,s=e.formData,u=e.dispatch,d=s.name,p=s.category,b=s.description,E=s.manual_time,_=s.hosts,x=s.frequency_period,k=(0,a.useState)(!1),T=(0,r.Z)(k,2),w=T[0],j=T[1],C=(0,a.useState)(!1),O=(0,r.Z)(C,2),S=O[0],P=O[1],D=(0,a.useState)(!1),B=(0,r.Z)(D,2),q=B[0],I=B[1];return o().createElement(c.Form,null,l&&o().createElement(c.Grid,{hasGutter:!0,md:6},o().createElement(c.FormGroup,{label:"What do you want to automate?",isRequired:!0,fieldId:"name-field"},o().createElement(c.TextInput,{isRequired:!0,placeholder:"Example: Provision NGINX server",type:"text",id:"name-field",name:"name",value:d,onChange:function(e){return u({type:m,value:e})}})),o().createElement(c.FormGroup,{label:"What type of task is it?",fieldId:"category-field"},o().createElement(c.Select,{id:"category-field",isOpen:w,variant:"single","aria-label":"Plan category selector",maxHeight:390,onToggle:function(){return j(!w)},onSelect:function(e,t){u({type:f,value:t}),j(!1)},selections:p},((null===(t=l.data)||void 0===t?void 0:t.category)||[]).map((function(e){var t=e.key,n=e.value;return o().createElement(c.SelectOption,{key:t,value:t},n)})))),o().createElement(c.FormGroup,{label:"Enter a description of your automation plan",fieldId:"description-field"},o().createElement(c.TextInput,{type:"text",placeholder:"Place description here",id:"description-field",name:"description",value:b,onChange:function(e){return u({type:h,value:e})}})),o().createElement(c.FormGroup,{label:"How long does it take to do this manually?",fieldId:"manual-time-field"},o().createElement(c.Select,{id:"manual-time-field",isOpen:S,variant:"single",placeholderText:"Select amount","aria-label":"Plan time selector",onToggle:function(){return P(!S)},onSelect:function(e,t){u({type:g,value:t}),P(!1)},selections:E},((null===(n=l.data)||void 0===n?void 0:n.manual_time)||[]).map((function(e){var t=e.key,n=e.value;return o().createElement(c.SelectOption,{key:t,value:t},n)})))),o().createElement(c.FormGroup,{label:"How many hosts do you plan to run this on?",fieldId:"hosts-field"},o().createElement(c.NumberInput,{inputAriaLabel:"Number of hosts",widthChars:8,onChange:function(e){((0,Z.i_)(e.target.value)||0===e.target.value.length)&&u({type:y,value:parseInt(e.target.value)})},onMinus:function(){return u({type:y,value:(0,Z.i_)(_)?_-1:0})},onPlus:function(){return u({type:y,value:(0,Z.i_)(_)?_+1:1})},id:"hosts-field",name:"hosts",value:_,min:0})),o().createElement(c.FormGroup,{label:"How often do you do this?",fieldId:"frequency-period-field"},o().createElement(c.Select,{id:"frequency-period-field",isOpen:q,variant:"single",placeholderText:"Select frequency period","aria-label":"Plan frequency period selector",onToggle:function(){I(!q)},onSelect:function(e,t){u({type:v,value:t}),I(!1)},selections:x},((null===(i=l.data)||void 0===i?void 0:i.frequency_period)||[]).map((function(e){var t=e.key,n=e.value;return o().createElement(c.SelectOption,{key:t,value:t},n)}))))))};C.propTypes={options:l().object.isRequired,formData:l().object.isRequired,dispatch:l().func.isRequired};const O=C;var S,P,D,B,q,I=n(87329),R=n(32465),F=n(29163),A=n(12294),L=n(33606),N=F.ZP.div(S||(S=(0,R.Z)(["\n  margin-top: 20px;\n"]))),M=(0,F.ZP)(c.Title)(P||(P=(0,R.Z)(["\n  margin-bottom: 10px;\n"]))),z=(0,F.ZP)(c.Button)(D||(D=(0,R.Z)(["\n  padding: 0 16px;\n"]))),Y=(0,F.ZP)(c.DataListAction)(B||(B=(0,R.Z)(["\n  padding: 6px 0;\n"]))),W=(0,F.ZP)(c.DataListItemRow)(q||(q=(0,R.Z)(["\n  align-items: center;\n"]))),U=function(e){var t=e.tasks,n=e.dispatch,i=function(e){n({type:b,value:e})},l=(0,a.useState)(""),s=(0,r.Z)(l,2),u=s[0],d=s[1],p=(0,a.useState)(""),m=(0,r.Z)(p,2),f=m[0],h=m[1],g=(0,a.useState)(""),y=(0,r.Z)(g,2),v=y[0],E=y[1],_=function(){var e=u.trim();""!==e&&(i([].concat((0,I.Z)(t),[e])),d(""))};return o().createElement(o().Fragment,null,o().createElement(c.Form,null,o().createElement(c.Grid,{hasGutter:!0,md:6},o().createElement(c.FormGroup,{label:"What tasks do you need to accomplish this plan?",fieldId:"task-field"},o().createElement(c.InputGroup,null,o().createElement(c.TextInput,{placeholder:"Enter a description of each task",type:"text",id:"task-field",name:"task",value:u,onChange:function(e){return d(e)},onKeyDown:function(e){e.key&&"Enter"===e.key&&(e.preventDefault(),_())}}),o().createElement(c.Button,{onClick:_,isDisabled:""===u.trim(),variant:"control","aria-label":"Add task"},o().createElement(A.ZP,null)))))),t.length>0&&o().createElement(N,null,o().createElement(M,{headingLevel:"h4",size:"xl"},"Tasks"),o().createElement(c.DataList,{"aria-label":"Draggable list to reorder and remove tasks.",isCompact:!0,onDragFinish:function(e){h("Dragging finished"),i(e.map((function(e){return e.split("-").slice(0,-1).join("-")})))},onDragStart:function(e){E(e),h("Dragging started for task ".concat(e,"."))},onDragMove:function(e,t){h("Dragging task ".concat(v,".  Task ").concat(e," is now task ").concat(t,"."))},onDragCancel:function(){h("Dragging cancelled. Tasks list order is unchanged.")},itemOrder:t.map((function(e,t){return"".concat(e,"-").concat(t)}))},t.map((function(e,n){return o().createElement(c.DataListItem,{"aria-labelledby":"cell-".concat(n+1),id:"".concat(e,"-").concat(n),key:n+1},o().createElement(W,null,o().createElement(c.DataListControl,null,o().createElement(c.DataListDragButton,{"aria-label":"Reorder","aria-labelledby":"cell-".concat(n+1),"aria-describedby":"Press space or enter to begin dragging, and use the arrow keys to navigate up or down. Press enter to confirm the drag, or any other key to cancel the drag operation.","aria-pressed":"false"})),o().createElement(c.DataListItemCells,{dataListCells:[o().createElement(c.DataListCell,{key:n+1},o().createElement("span",{id:"cell-".concat(n+1)},"".concat(n+1,". ").concat(e)))]}),o().createElement(Y,{"aria-label":"Actions"},o().createElement(z,{onClick:function(){return function(e){i(t.filter((function(t,n){return n!==e})))}(n)},variant:"plain","aria-label":"Delete"},o().createElement(L.ZP,null)))))})))),o().createElement("div",{className:"pf-screen-reader","aria-live":"assertive"},f))};U.propTypes={tasks:l().array.isRequired,dispatch:l().func.isRequired};const G=U;var H,V=n(92137),K=n(87757),J=n.n(K),$=n(17563),Q=n(94550),X=n(94794),ee=n(2205),te=n(26249),ne=n(83160),re=n(12613),ae=n(53677),oe=n(21048),ie=n(95735);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce=F.ZP.div(H||(H=(0,R.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),ue={group_by:"template",limit:10,group_by_time:!1,offset:0,sort_options:"name",sort_order:"asc",sort_by:"name:asc"},de=(0,oe.Hm)("job-explorer",se({},ue),["limit","offset"]),pe=function(e){var t=e.template_id,n=e.dispatch,r=(0,s.useLocation)(),i=r.pathname,l=r.hash,u=r.search,p=(0,s.useHistory)(),m=(0,ae.K)(de),f=m.queryParams,h=m.setFromPagination,g=m.setFromToolbar,y=m.dispatch,v=(0,d.ZP)((0,a.useCallback)((function(){return(0,T.YU)()}),[])),b=v.error,_=v.request,x=(0,d.ZP)((0,a.useCallback)((function(){return(0,T.ZW)(f)}),[f]),{}),k=x.result,w=x.error,j=x.isSuccess,Z=x.request,C=(0,d.ZP)((0,a.useCallback)((0,V.Z)(J().mark((function e(){var t;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,T.Ij)(f);case 2:return t=e.sent,e.abrupt("return",{templates:t.items,count:t.meta.count});case 4:case"end":return e.stop()}}),e)}))),[f]),{templates:[],count:0}),O=C.result,S=O.templates,P=O.count,D=C.isLoading,B=C.isSuccess,q=C.request,I={sort:{sortBy:{direction:f.sort_order},onSort:function(e,t,n){y({type:"SET_SORT_ORDER",value:{sort_order:n}})}}};(0,a.useEffect)((function(){insights.chrome.appNavClick({id:"savings-planner",secondaryNav:!0}),_()}),[]);var R=(0,$.parse)(u,{arrayFormat:"bracket",parseBooleans:!0,parseNumbers:!0});return(0,a.useEffect)((function(){p.replace({pathname:i,hash:l,search:(0,$.stringify)(se(se({},ue),R),{arrayFormat:"bracket"})})}),[]),(0,a.useEffect)((function(){Z(),q()}),[f]),o().createElement(o().Fragment,null,b&&o().createElement(ee.Z,{preflightError:b}),j&&o().createElement(c.Form,null,o().createElement(c.FormGroup,{label:"Link a template to this plan:",fieldId:"template-link-field"},o().createElement(ie.Z,{hideQuickDateRange:!0,hideSortOptions:!0,categories:k,filters:f,qsConfig:de,setFilters:g,pagination:o().createElement(re.Z,{count:P,params:{limit:f.limit,offset:f.offset},qsConfig:de,setPagination:h,isCompact:!0})}),w&&o().createElement(ne.Z,{message:w.error}),D&&o().createElement(X.Z,null),B&&S.length<=0&&o().createElement(te.Z,null),B&&S.length>0&&o().createElement(Q.TableComposable,{"aria-label":"Template link table",variant:"compact"},o().createElement(Q.Thead,null,o().createElement(Q.Tr,null,o().createElement(Q.Th,null),o().createElement(Q.Th,I,"Name"))),o().createElement(Q.Tbody,null,S.map((function(e){var r=e.id,a=e.name;return o().createElement(Q.Tr,{key:"template-detail-".concat(r)},o().createElement(Q.Td,{"data-testid":"radio-".concat(r),key:"template-detail-".concat(r,"-radio-td"),select:{rowIndex:r,onSelect:function(e,t,r){return n({type:E,value:r})},isSelected:t===r,variant:"radio"}}),o().createElement(Q.Td,null,a))})))),o().createElement(ce,null,o().createElement("div",null,-2!==t&&o().createElement(c.Button,{key:"clear-selection-button",variant:"link","aria-label":"Clear selection",onClick:function(){n({type:E,value:-2})}},"Clear selection")),o().createElement(re.Z,{count:P,params:{limit:f.limit,offset:f.offset},qsConfig:de,setPagination:h,variant:c.PaginationVariant.bottom})))))};pe.propTypes={template_id:l().number.isRequired,dispatch:l().func.isRequired};const me=pe;var fe=function(e){var t=e.title,n=e.options,i=e.data,l=void 0===i?{}:i,p=(0,s.useHistory)(),_=(0,s.useLocation)(),Z=_.hash,C=_.pathname,S=(0,a.useState)(null),P=(0,r.Z)(S,2),D=P[0],B=P[1],q=(0,d.ZP)((0,a.useCallback)((function(e,t){return e?t?(0,T.Vs)(t,e):(0,T.he)(e):{}}),[]),l),I=q.result,R=q.error,F=q.request,A=function(e){var t,n=(0,a.useReducer)((function(e,t){var n=t.type,r=t.value;switch(n){case m:return x(x({},e),{},{name:r});case f:return x(x({},e),{},{category:r});case h:return x(x({},e),{},{description:r});case g:return x(x({},e),{},{manual_time:r});case y:return x(x({},e),{},{hosts:r});case v:return x(x({},e),{},{frequency_period:r});case b:return x(x({},e),{},{tasks:r});case E:return x(x({},e),{},{template_id:r});default:throw new Error("usePlanData reducer action type ".concat(n," was not found."))}}),{name:(null==e?void 0:e.name)||"",category:(null==e?void 0:e.category)||"system",description:(null==e?void 0:e.description)||"",manual_time:(null==e?void 0:e.manual_time)||240,hosts:(null==e?void 0:e.hosts)||1,frequency_period:(null==e?void 0:e.frequency_period)||"weekly",tasks:k(null==e?void 0:e.tasks)||[],template_id:(null==e?void 0:e.template_id)||-2}),o=(0,r.Z)(n,2),i=o[0],l=o[1];return{formData:i,requestPayload:(t=x({},i),t.tasks=t.tasks.map((function(e,t){return{task:e,task_order:t+1}})),t.hosts&&""!==t.hosts||(t.hosts=1),t.hourly_rate=50,t.frequency_per_period=1,t),dispatch:l}}(l),L=A.formData,N=A.requestPayload,M=A.dispatch,z=[{step_number:1,id:"details",name:"Details",component:o().createElement(O,{options:n,formData:L,dispatch:M})},{step_number:2,id:"tasks",name:"Tasks",component:o().createElement(G,{tasks:L.tasks,dispatch:M})},{step_number:3,id:"link_template",name:"Link template",component:o().createElement(me,{template_id:L.template_id,dispatch:M}),nextButtonText:"Save"}],Y=o().createElement(c.WizardFooter,null,o().createElement(c.WizardContextConsumer,null,(function(e){var t=e.activeStep,n=e.onNext,r=e.onBack,a=e.onClose;return 3!==t.step_number?o().createElement(o().Fragment,null,o().createElement(c.Button,{variant:"primary",type:"submit",onClick:n},"Next"),1!==t.step_number&&o().createElement(c.Button,{variant:"secondary",onClick:r},"Back"),o().createElement(c.Button,{variant:"link",onClick:a},"Cancel")):o().createElement(o().Fragment,null,o().createElement(c.Tooltip,{content:L.name&&""!==!L.name?"Save this plan":"In order to save this plan, you must enter a name in the details step",position:"top"},o().createElement("div",null,o().createElement(c.Button,{variant:"primary",type:"submit",onClick:U,isDisabled:!L.name||""===!L.name},"Save"))),o().createElement(c.Button,{variant:"secondary",onClick:r},"Back"),o().createElement(c.Button,{variant:"link",onClick:a},"Cancel"))})));(0,a.useEffect)((function(){-1===C.indexOf("/add")&&Z?B(z.find((function(e){return"#".concat(e.id)===Z})).step_number):(p.replace({hash:"details"}),B(1))}),[]);var W=function(e){p.replace({hash:e.id})},U=function(){F(N,null==l?void 0:l.id)};return o().createElement(o().Fragment,null,!R&&(null==I?void 0:I.plan_created)&&o().createElement(s.Redirect,{to:{pathname:"".concat(u.n.savingsPlanner,"/").concat(I.id||I.plan_created.id),state:{reload:!0}}}),D&&o().createElement(c.Wizard,{navAriaLabel:"".concat(t," steps"),mainAriaLabel:"".concat(t," content"),steps:z,onGoToStep:W,onNext:W,onBack:W,onSave:U,onClose:function(){-1!==location.pathname.indexOf("/edit")?p.push({pathname:"".concat(u.n.savingsPlanner,"/").concat(null==l?void 0:l.id)}):p.push({pathname:u.n.savingsPlanner})},footer:Y,startAtStep:D,height:"calc(100vh - 240px)"}),R&&o().createElement(w.Z,{isOpen:!!R,onClose:function(){F()},title:"Error",variant:"error"},"There was an error saving the plan.",o().createElement(j.Z,{error:R.detail})))};fe.propTypes={title:l().string.isRequired,options:l().object.isRequired,data:l().object},fe.defaultProps={data:{}};const he=fe},13784:(e,t,n)=>{"use strict";n.d(t,{cY:()=>r,GL:()=>a,wC:()=>o,kK:()=>i,bE:()=>l,dR:()=>s,It:()=>c});var r={attributes:["id","status","job_type","started","finished","elapsed","created","cluster_name","org_name","most_failed_tasks","host_count","host_task_count","failed_host_count","unreachable_host_count","changed_host_count","ok_host_count","skipped_host_count"],defaultParams:{status:["successful","failed"],quick_date_range:"last_30_days",job_type:["workflowjob","job"],org_id:[],cluster_id:[],template_id:[],inventory_id:[],sort_by:"created:desc",sort_options:"created",sort_order:"desc",only_root_workflows_and_standalone_jobs:!1,limit:5,offset:0}},a={defaultParams:{status:["successful"],org_id:[],cluster_id:[],template_id:[],inventory_id:[],quick_date_range:"roi_last_year",job_type:["job"],sort_options:"template_productivity_score",sort_order:"desc",start_date:null,end_date:null,limit:25,only_root_workflows_and_standalone_jobs:!0,attributes:["successful_hosts_total","successful_elapsed_total","total_org_count","total_cluster_count"],group_by:"template",group_by_time:!1}},o={defaultParams:{status:[],org_id:[],quick_date_range:"last_30_days",limit:5,offset:0,job_type:["workflowjob","job"],cluster_id:[],template_id:[],inventory_id:[],start_date:null,end_date:null}},i={defaultParams:{status:["successful","failed"],quick_date_range:"last_30_days",job_type:["workflowjob","job"],group_by_time:!0,org_id:[],cluster_id:[],template_id:[],inventory_id:[],only_root_workflows_and_standalone_jobs:!1}},l={defaultParams:{template_id:[],inventory_id:[],automation_status:[],category:[],frequency_period:[],name:"",limit:10,offset:0,sort_options:"modified",sort_order:"desc",sort_by:"modified:desc"}},s={title:"RBAC Access Denied",description:"User does not have privileges to perform this action. Contact your organization adminstrator(s) for more information."},c=["automation_status","attributes","cluster_id","category","frequency_period","host_id","host_status","inventory_id","job_type","status","org_id","template_id"]},96183:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(92137),a=n(87757),o=n.n(a);function i(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(o().mark((function e(t){var n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},a=null,i=!1,e.prev=3,e.next=6,Promise.all(t.map(function(){var e=(0,r.Z)(o().mark((function e(t){var r,a,l,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.request,a=t.label,e.next=3,r();case 3:l=e.sent,(s=l.items.count)>0&&(n[a]=s,i=!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),a=e.t0;case 11:return e.abrupt("return",{results:i&&n,error:a});case 12:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}},79886:(e,t,n)=>{"use strict";n.d(t,{i_:()=>i,mN:()=>l,yH:()=>s,o0:()=>c,p6:()=>u,NU:()=>d,kC:()=>p,YD:()=>m,Lg:()=>f,xb:()=>h,$$:()=>g,B3:()=>y,GV:()=>v});var r=n(30381),a=n.n(r);function o(e){return 0===e||"0"===e||!!parseInt(e)||!!parseFloat(e)}function i(e){return/^\d+$/.test(e)}function l(e){return e.toString().replace(/['"]+/g,"")}function s(e){return new Date(1e3*e).toISOString().substr(11,8)}function c(e){return a()(new Date(e).toISOString()).format("M/D/YYYY h:mm:ssa")}function u(e){return a()(e).format("YYYY-MM-DD")}function d(e){if(e){var t=0;return e.forEach((function(e){t+=parseInt(e.count)})),t}}var p=function(e){return"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)};function m(e,t){return o(e)&&o(t)?t-e<0?0:t-e:0}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date;return t.setDate(t.getDate()+e),t.setHours(0,0,0,0),t}function h(e){return parseInt(e)?e/60:0}function g(e){return!parseInt(e)||parseInt(e)<0?0:60*+parseInt(e)}function y(e){return parseInt(e)?e/3600:0}function v(e){return"job"===e?"Playbook run":"Workflow job"}},21048:(e,t,n)=>{"use strict";n.d(t,{Hm:()=>c,dD:()=>u,p9:()=>m,mn:()=>h,Zd:()=>y,sM:()=>b});var r=n(87329),a=n(96156),o=n(34699),i=n(13784);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{offset:1,limit:5,sort_by:"name"},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["offset","limit"],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["modified","created"];if(!e)throw new Error("a QS namespace is required");return{namespace:e,defaultParams:t,integerFields:n,dateFields:r}}function u(e,t){if(!t)return e.defaultParams||{};var n=function(e,t){var n={};return t.replace(/^\?/,"").split("&").map((function(e){return e.split("=")})).forEach((function(r){var a=(0,o.Z)(r,2),l=a[0],s=a[1];if(l&&d(e.namespace,l)){var c=e.namespace?decodeURIComponent(l.substr(e.namespace.length+1)):decodeURIComponent(l),u=function(e,t,n,r){var a=new URLSearchParams(r);if(e.integerFields&&e.integerFields.some((function(e){return e===t})))return parseInt(n,10);if(i.It&&i.It.some((function(e){return e===t}))){var o="".concat(e.namespace,".").concat(t),l=a.getAll(o).filter((function(e,t,n){return n.indexOf(e)===t}));return a.delete[o],l}return decodeURIComponent(n)}(e,c,s,t);n[c]=v(n[c],u)}})),n}(e,t);return function(e,t){return s(s({},e.defaultParams),t)}(e,n)}var d=function(e,t){return e?t.startsWith("".concat(e,".")):!t.includes(".")},p=function(e){return e?Object.keys(e).sort().filter((function(t){return null!==e[t]})).map((function(t){return[t,e[t]]})).map((function(e){var t,n,r=(0,o.Z)(e,2);return t=r[0],n=r[1],Array.isArray(n)?n.map((function(e){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e))})).join("&"):"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n))})).join("&"):""},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return"";var r=h({},t,e.defaultParams);return p(s(s({},f(e.namespace,r)),n))},f=function(e,t){if(!e)return t;var n={};return Object.keys(t).forEach((function(r){n["".concat(e,".").concat(r)]=t[r]})),n};function h(e,t,n){var r=s({},e.defaultParams);return Object.keys(t).forEach((function(e){var a=g(t[e],n[e]);null!==a&&(r[e]=a)})),r}function g(e,t){if(e===t)return null;if(Array.isArray(t))return t.reduce(g,e);if(Array.isArray(e)){var n=e.indexOf(t);if(n>-1&&e.splice(n,1),1===e.length)return e[0]}return e}function y(e,t){var n={};return Object.keys(e).forEach((function(r){n[r]=v(e[r],t[r])})),Object.keys(t).forEach((function(e){n[e]||(n[e]=t[e])})),n}function v(e,t){return t||""===t?e||""===e?(n=Array.isArray(e)?e.concat(t):[e].concat(t),1===(a=(0,r.Z)(new Set(n))).length?a[0]:a):t:e;var n,a}function b(e,t){return s(s({},e),t)}},53677:(e,t,n)=>{"use strict";n.d(t,{K:()=>g});var r=n(34699),a=n(81253),o=n(96156),i=n(92950),l=n(30381),s=n.n(l),c=n(334),u=n(79886),d=n(21048),p=["id"],m=["severity"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t=(0,c.useHistory)(),n=h(h({},e),e.sort_options&&e.sort_order&&{sort_by:"".concat(e.sort_options,":").concat(e.sort_order)}),l="undefined"!==t&&null!=t&&t.location?(0,d.dD)(n,t.location.search):n,f=(0,i.useReducer)((function(e,t){var n=t.type,o=t.value;switch(n){case"SET_STARTDATE":return h(h({},e),{},{startDate:o});case"SET_ENDDATE":return h(h({},e),{},{endDate:o});case"SET_ID":return parseInt(o)?h(h({},e),{},{id:parseInt(o)}):(e.id,(0,a.Z)(e,p));case"SET_SEVERITY":return""===o.severity?(e.severity,(0,a.Z)(e,m)):h(h({},e),o);case"SET_LIMIT":return isNaN(o)?h(h({},e),{},{limit:5}):h(h({},e),{},{limit:parseInt(o)});case"SET_OFFSET":return isNaN(o)?h(h({},e),{},{offset:0}):h(h({},e),{},{offset:parseInt(o)});case"SET_ATTRIBUTES":case"SET_JOB_TYPE":case"SET_STATUS":case"SET_ORG":case"SET_CLUSTER":case"SET_TEMPLATE":case"SET_AUTOMATION_STATUS":case"SET_CATEGORY":case"SET_FREQUENCY":case"SET_NAME":case"SET_ROOT_WORKFLOWS_AND_JOBS":case"SET_INVENTORY":return h(h({},e),o);case"SET_QUICK_DATE_RANGE":var i=h({},e);return"custom"!==o&&(i=h(h({},i),{},{start_date:null,end_date:null})),h(h({},i),o);case"SET_START_DATE":case"SET_END_DATE":var s={};return Object.entries(o).forEach((function(e){var t=(0,r.Z)(e,2),n=t[0],a=t[1];s[n]=(0,u.p6)(a)})),h(h({},e),s);case"SET_SORT_OPTIONS":return h(h({},e),{},{sort_options:o.sort_options},e.sort_order&&{sort_by:"".concat(o.sort_options,":").concat(e.sort_order)});case"SET_SORT_ORDER":return h(h({},e),{},{sort_order:o.sort_order},e.sort_options&&{sort_by:"".concat(e.sort_options,":").concat(o.sort_order)});case"REINITIALIZE":return h({},o);case"RESET_FILTER":return h({},l);default:throw new Error("The query params reducer action (".concat(n,") not found."))}}),h({},l)),g=(0,r.Z)(f,2),y=g[0],v=g[1],b={status:"SET_STATUS",quick_date_range:"SET_QUICK_DATE_RANGE",job_type:"SET_JOB_TYPE",org_id:"SET_ORG",cluster_id:"SET_CLUSTER",template_id:"SET_TEMPLATE",sort_order:"SET_SORT_ORDER",sort_options:"SET_SORT_OPTIONS",start_date:"SET_START_DATE",end_date:"SET_END_DATE",automation_status:"SET_AUTOMATION_STATUS",category:"SET_CATEGORY",frequency_period:"SET_FREQUENCY",name:"SET_NAME",only_root_workflows_and_standalone_jobs:"SET_ROOT_WORKFLOWS_AND_JOBS",inventory_id:"SET_INVENTORY"};return{queryParams:y,dispatch:v,setFromToolbar:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v(e?{type:b[e],value:(0,o.Z)({},e,t)}:{type:"RESET_FILTER"})},setFromPagination:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v({type:"SET_OFFSET",value:e}),t&&v({type:"SET_LIMIT",value:t})},setSeverity:function(e){return v({type:"SET_SEVERITY",value:{severity:e}})},setEndDate:function(){var e=s()().format("YYYY-MM-DD");v({type:"SET_ENDDATE",value:e})},setId:function(e){return v({type:"SET_ID",value:e})},setStartDate:function(e){var t;7===e&&(t=s()().subtract(1,"week").format("YYYY-MM-DD")),14===e&&(t=s()().subtract(2,"weeks").format("YYYY-MM-DD")),t=31===e?s()().subtract(1,"month").format("YYYY-MM-DD"):s()().subtract(e,"days").format("YYYY-MM-DD"),v({type:"SET_STARTDATE",value:t})},setStartDateAsString:function(e){return v({type:"SET_STARTDATE",value:e})}}}},14115:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(20806),a=n(17563);const o=function(e,t){return function(n){var o=(0,a.stringify)(n,{arrayFormat:"bracket"});e.push({pathname:r.n[t],search:o})}}},46700:(e,t,n)=>{var r={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=46700},12613:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(92950),a=n.n(r),o=n(45697),i=n.n(o),l=n(58788),s=n(21048),c=n(334),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},d=[{title:"5",value:5},{title:"10",value:10},{title:"15",value:15},{title:"20",value:20},{title:"25",value:25}],p=function(e){var t=e.count,n=void 0===t?0:t,r=e.qsConfig,o=e.perPageOptions,i=void 0===o?null:o,p=e.params,m=e.setPagination,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["count","qsConfig","perPageOptions","params","setPagination"]),h=p.offset,g=p.limit,y=Math.floor(h/g+1),v=function(e){return(e-1)*g},b=(0,c.useHistory)(),E=function(e){void 0===e&&(e={});var t=b.location,n=t.pathname,a=t.search,o=(0,s.dD)({},a),i=(0,s.p9)(r,e,o);b.push(i?n+"?"+i:n)};return a().createElement(l.Pagination,u({itemCount:n,widgetId:"aa-pagination",perPageOptions:null!=i?i:d,perPage:g,page:y,onPerPageSelect:function(e,t,n){var a,o;m(v(n),t),a=t,o=(0,s.dD)(r,b.location.search),E(u(u({},o),{limit:a}))},onSetPage:function(e,t){m(v(t)),function(e,t){var n=(0,s.dD)(r,b.location.search);E(u(u({},n),{offset:t}))}(0,v(t))}},f))};p.propTypes={count:i().number,qsConfig:i().any,params:i().exact({offset:i().number.isRequired,limit:i().number.isRequired}).isRequired,setPagination:i().func.isRequired,perPageOptions:i().arrayOf(i().exact({title:i().string.isRequired,value:i().number.isRequired}).isRequired)};const m=p},18854:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m,Q:()=>p});var r=n(35397),a=n(64866),o="Executive";const i={name:"Hosts changed by job template",description:"The number of hosts changed by a job template in a specified time window.\n\nYou can use this report to find discrepancies in the host change rate at a particular time, helping you drill down to when and why hosts were unreachable at a particular time.",categories:[o],report:{defaultParams:{limit:6,offset:0,attributes:["total_unique_host_count","total_unique_host_changed_count"],group_by:"template",group_by_time:!0,granularity:"monthly",sort_options:"total_unique_host_count",sort_order:"desc"},extraAttributes:[{key:"id",value:"ID"},{key:"name",value:"Template name"}],readData:a.og,readOptions:a.FW,schemaFnc:function(e,t){return[{id:1,kind:r.$v.wrapper,type:r.yD.chart,parent:null,props:{height:400,padding:{top:10,right:100},themeColor:r.nz.multiOrdered},xAxis:{label:"Date",tickFormat:"formatDateAsDayMonth"},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:55}}},api:{url:"",params:{}},legend:{interactive:!0,orientation:r.nw.vertical,position:r.St.right}},{id:2,kind:r.$v.group,parent:1,template:{id:0,kind:r.$v.simple,type:r.oX.bar,parent:0,props:{x:"created_date",y:t},tooltip:{standalone:!0}}}]}}},l={name:"Changes made by job template",description:"The total count of changes made by each job template in a specified time window.\n\nYou can use this report to ensure the correct number of changes are made per hostname, as well as see which job templates are doing the most changes to your infrastructure.",categories:[o],report:{defaultParams:{limit:6,offset:0,attributes:["host_count","changed_host_count","host_task_count","host_task_changed_count"],group_by:"template",group_by_time:!0,granularity:"monthly",sort_options:"changed_host_count",sort_order:"desc"},extraAttributes:[{key:"id",value:"ID"},{key:"name",value:"Template name"}],readData:a.Ij,readOptions:a.ZW,schemaFnc:function(e,t){return[{id:1,kind:r.$v.wrapper,type:r.yD.chart,parent:null,props:{height:400,padding:{top:10,right:100},themeColor:r.nz.multiOrdered},xAxis:{label:"Date",tickFormat:"formatDateAsDayMonth"},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:55}}},api:{url:"",params:{}},legend:{interactive:!0,orientation:r.nw.vertical,position:r.St.right}},{id:2,kind:r.$v.group,parent:1,template:{id:0,kind:r.$v.simple,type:r.oX.bar,parent:0,props:{x:"created_date",y:t},tooltip:{standalone:!0}}}]}}};var s={name:"Job template run rate",description:"The number of times a job template has ran in a specified time window.\n\nYou can use this report to be able to tell which playbooks are running most frequently, allowing you to see which groups in your organization are running Ansible the most.",categories:[o],report:{defaultParams:{limit:6,offset:0,attributes:["failed_count","successful_count","total_count"],group_by:"template",group_by_time:!0,granularity:"monthly",sort_options:"total_count",sort_order:"desc"},extraAttributes:[{key:"id",value:"ID"},{key:"name",value:"Template name"}],readData:a.Ij,readOptions:a.ZW,schemaFnc:function(e,t){return[{id:1,kind:r.$v.wrapper,type:r.yD.chart,parent:null,props:{height:400,padding:{top:10,right:100},themeColor:r.nz.multiOrdered},xAxis:{label:"Date",tickFormat:"formatDateAsDayMonth"},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:55}}},api:{url:"",params:{}},legend:{interactive:!0,orientation:r.nw.vertical,position:r.St.right}},{id:2,kind:r.$v.group,parent:1,template:{id:0,kind:r.$v.simple,type:r.oX.bar,parent:0,props:{x:"created_date",y:t},tooltip:{standalone:!0}}}]}}},c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},u=[i,l,s].map((function(e,t){return c({id:t+1},e)})),d={name:"Unknown",description:"Unknown",categories:[]},p=function(e){var t;return null!==(t=u.find((function(t){return t.id===e})))&&void 0!==t?t:d};const m=u},91354:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}},77388:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>u,px:()=>c,pF:()=>s});var r=n(92950);var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},o=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},l=function(e,t){var n=(0,r.useState)({result:t,error:null,isLoading:!1,isSuccess:!1}),l=n[0],s=n[1],c=function(){var e=(0,r.useRef)({});return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}})),e}();return a(a({},l),{request:(0,r.useCallback)((function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return o(void 0,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:s(a(a({},l),{isSuccess:!1,isLoading:!0})),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.apply(void 0,n)];case 2:return r=i.sent(),c.current&&s({isLoading:!1,result:r,error:null,isSuccess:!0}),[3,4];case 3:return o=i.sent(),c.current&&s({isSuccess:!1,isLoading:!1,error:o,result:t}),[3,4];case 4:return[2]}}))}))}),[e]),setValue:function(e){return s(a(a({},l),{result:e}))}})},s=function(e){var t=(0,r.useState)(!1),n=t[0],a=t[1];return(0,r.useEffect)((function(){e&&a(!0)}),[e]),{error:n?e:null,dismissError:function(){a(!1)}}},c=function(e){var t=l(e,null),n=t.error,r=t.isLoading,a=t.request,o=s(n);return{isLoading:r,deleteItems:a,deletionError:o.error,clearDeletionError:o.dismissError}};const u=l}}]);
//# sourceMappingURL=../sourcemaps/automation_analytics.d074456dee5e8e9bc2ec.js.map