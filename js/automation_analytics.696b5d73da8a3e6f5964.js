(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[188],{22022:(e,t,n)=>{"use strict";n.d(t,{YU:()=>s,Ij:()=>c,wi:()=>u,QJ:()=>d,og:()=>p,Wu:()=>m,he:()=>f,Kh:()=>g,Vs:()=>h,wD:()=>y,VU:()=>v,wp:()=>E,Yn:()=>b,nE:()=>_,hD:()=>x,A7:()=>T,ZW:()=>w});var a=n(17563),r="/api/tower-analytics/v1/plans/",i="/api/tower-analytics/v1/plan/";function o(e){return e.json().then((function(t){return e.ok?t:404===e.status||401===e.status?Promise.reject({status:e.status,message:t}):403===e.status?Promise.reject({status:e.status,error:"RBAC access denied"}):Promise.reject(t)}))}function l(e,t){return window.insights.chrome.auth.getUser().then((function(){return fetch(e,t)}))}var s=function(){return l("/api/tower-analytics/v0/authorized/").then(o)},c=function(e){var t=e.params,n=void 0===t?{}:t,r={limit:n.limit,offset:n.offset,sort_by:n.sort_by},i=(0,a.stringify)(r),s=new URL("/api/tower-analytics/v1/job_explorer/",window.location.origin);return s.search=i,l(s,{method:"POST",body:JSON.stringify(n)}).then(o)},u=function(e){var t=e.params,n=void 0===t?{}:t,r={limit:n.limit,offset:n.offset,sort_by:n.sort_by},i=(0,a.stringify)(r),s=new URL("/api/tower-analytics/v1/event_explorer/",window.location.origin);return s.search=i,l(s,{method:"POST",body:JSON.stringify(n)}).then(o)},d=function(e){var t=e.params,n=void 0===t?{}:t,r={limit:n.limit,offset:n.offset,sort_by:n.sort_by},i=(0,a.stringify)(r),s=new URL("/api/tower-analytics/v1/roi_templates/",window.location.origin);return s.search=i,l(s,{method:"POST",body:JSON.stringify(n)}).then(o)},p=function(e){var t=e.params,n=void 0===t?{}:t,r={limit:n.limit,offset:n.offset,sort_by:n.sort_by},i=(0,a.stringify)(r),s=new URL("/api/tower-analytics/v1/host_explorer/",window.location.origin);return s.search=i,l(s,{method:"POST",body:JSON.stringify(n)}).then(o)},m=function(e){var t=e.params,n=void 0===t?{}:t,i={limit:n.limit,offset:n.offset,sort_by:n.sort_by},s=(0,a.stringify)(i),c=new URL(r,window.location.origin);return c.search=s,l(c,{method:"POST",body:JSON.stringify(n)}).then(o)},f=function(e){var t=e.params,n=void 0===t?{}:t;return l(new URL(i,window.location.origin),{method:"POST",body:JSON.stringify(n)}).then(o)},g=function(e){var t=e.params,n=void 0===t?{}:t;return l(new URL("".concat(i).concat(n.id,"/"),window.location.origin),{method:"DELETE"}).then(o)},h=function(e){var t=e.id,n=e.params,a=void 0===n?{}:n;return l(new URL("".concat(i).concat(t,"/"),window.location.origin),{method:"PUT",body:JSON.stringify(a)}).then(o)},y=function(e){var t=e.params,n=void 0===t?{}:t;return l(new URL(r,window.location.origin),{method:"POST",body:JSON.stringify(n)}).then(o)},v=function(e){var t=e.params,n=void 0===t?{}:t;return l(new URL("/api/tower-analytics/v1/dashboard_clusters_options/",window.location.origin),{method:"POST",body:JSON.stringify(n)}).then(o)},E=function(e){var t=e.params,n=void 0===t?{}:t;return l(new URL("/api/tower-analytics/v1/dashboard_organization_statistics_options/",window.location.origin),{method:"POST",body:JSON.stringify(n)}).then(o)},b=function(e){var t=e.params,n=void 0===t?{}:t;return l(new URL("/api/tower-analytics/v1/roi_templates_options/",window.location.origin),{method:"POST",body:JSON.stringify(n)}).then(o)},_=function(){return l(new URL("/api/tower-analytics/v1/plan_options/",window.location.origin),{method:"GET"}).then(o)},x=function(){return l("/api/tower-analytics/v0/clusters/").then(o)},T=function(e){var t=e.params,n=void 0===t?{}:t,a=new URL("/api/tower-analytics/v0/notifications/",window.location.origin);return Object.keys(n).forEach((function(e){return a.searchParams.append(e,n[e])})),l(a).then(o)},w=function(e){var t=e.params,n=void 0===t?{}:t;return l(new URL("/api/tower-analytics/v1/job_explorer_options/",window.location.origin),{method:"POST",body:JSON.stringify(n)}).then(o)}},87986:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(22122),r=n(92950),i=n.n(r),o=n(334),l=n(45697),s=n.n(l),c=n(25914),u=function(e){var t=function(t){var n=t.id,r=t.margin,l=(0,o.useHistory)();return i().createElement(e,(0,a.Z)({},t,{getWidth:function(){return parseInt(c.Ys("#"+n).style("width"))-r.left-r.right||700},getHeight:function(){return parseInt(c.Ys("#"+n).style("height"))-r.top-r.bottom||450},history:l}))};return t.propTypes={id:s().string,margin:s().object},t};u.propTypes={Chart:s().element};const d=u},81672:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var a,r,i,o,l,s,c=n(22122),u=n(81253),d=n(32465),p=n(92950),m=n.n(p),f=n(45697),g=n.n(f),h=n(58788),y=n(35451),v=n(84564),E=n(19694),b=n(31369),_=n(77669),x=n(29163),T=["isOpen","title","label","variant","children"],w=(0,x.ZP)(v.ZP)(a||(a=(0,d.Z)(["\n  color: var(--pf-global--danger-color--100);\n"]))),k=(0,x.ZP)(_.ZP)(r||(r=(0,d.Z)(["\n  color: var(--pf-global--danger-color--100);\n"]))),Z=(0,x.ZP)(b.ZP)(i||(i=(0,d.Z)(["\n  color: var(--pf-global--info-color--100);\n"]))),j=(0,x.ZP)(y.ZP)(o||(o=(0,d.Z)(["\n  color: var(--pf-global--success-color--100);\n"]))),S=(0,x.ZP)(E.ZP)(l||(l=(0,d.Z)(["\n  color: var(--pf-global--warning-color--100);\n"]))),C=x.ZP.div(s||(s=(0,d.Z)(["\n  display: flex;\n  svg {\n    margin-right: 16px;\n  }\n"]))),O=function(e){var t=e.isOpen,n=e.title,a=e.label,r=void 0===a?"Alert modal":a,i=e.variant,o=void 0===i?"warning":i,l=e.children,s=(0,u.Z)(e,T),d={danger:m().createElement(w,{size:"lg"}),error:m().createElement(k,{size:"lg"}),info:m().createElement(Z,{size:"lg"}),success:m().createElement(j,{size:"lg"}),warning:m().createElement(S,{size:"lg"})},p=m().createElement(C,null,o?d[o]:null,m().createElement(h.Title,{id:"alert-modal-header-label",size:"2xl",headingLevel:"h2"},n));return m().createElement(h.Modal,(0,c.Z)({header:p,"aria-label":r,"aria-labelledby":"alert-modal-header-label",isOpen:!!t,variant:"small",title:n},s),l)};O.propTypes={isOpen:g().bool.isRequired,title:g().string.isRequired,label:g().string,variant:g().string,children:g().node};const P=O},55411:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a.Z});var a=n(81672)},83160:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(92950),r=n.n(a),i=n(45697),o=n.n(i),l=n(58788),s=n(84564),c=n(29587),u=function(e){var t=e.message;return r().createElement(l.EmptyState,{variant:l.EmptyStateVariant.small},r().createElement(l.EmptyStateIcon,{icon:s.ZP,color:c.global_danger_color_200.value}),r().createElement(l.Title,{headingLevel:"h2",size:"lg"},"Error"),r().createElement(l.EmptyStateBody,null,t))};u.propTypes={message:o().string};const d=u},69595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(92950),r=n.n(a),i=n(45697),o=n.n(i),l=n(58788),s=n(83653),c=function(e){var t=e.items,n=void 0===t?[]:t,a=e.current,i=void 0===a?null:a;return r().createElement(l.Breadcrumb,null,n.map((function(e){var t=e.title,n=e.navigate,a=(0,s.Z)()+n;return r().createElement(l.BreadcrumbItem,{key:t,to:a},t)})),i&&r().createElement(l.BreadcrumbHeading,null,i))};c.propTypes={items:o().arrayOf(o().shape({navigate:o().any,title:o().node})),current:o().node};const u=c},2205:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(92950),r=n.n(a),i=n(45697),o=n.n(i),l=n(58788),s=n(2112),c=function(e){var t=e.preflightError;return r().createElement(l.EmptyState,{variant:l.EmptyStateVariant.full},r().createElement(l.EmptyStateIcon,{icon:s.ZP}),404===t.status&&r().createElement(r().Fragment,null,r().createElement(l.Title,{headingLevel:"h5",size:"lg"},"No data found"),r().createElement(l.EmptyStateBody,null,"Please visit"," ",r().createElement("a",{href:"https://docs.ansible.com/ansible-tower/latest/html/administration/usability_data_collection.html#automation-analytics",target:"_blank",rel:"noopener noreferrer"},"here")," ","to learn how to enable Automation Analytics.")),401===t.status&&r().createElement(r().Fragment,null,r().createElement(l.Title,{headingLevel:"h5",size:"lg"},"Not authorized"),r().createElement(l.EmptyStateBody,null,"You do not have the correct permissions to view this page.")),!t.status&&r().createElement(r().Fragment,null,r().createElement(l.Title,{headingLevel:"h5",size:"lg"},"Something went wrong, please try reloading the page"),r().createElement(l.Button,{variant:"primary",onClick:function(){return window.location.reload()}},"Reload")))};c.propTypes={preflightError:o().object};const u=c},62923:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var a,r,i,o=n(34699),l=n(32465),s=n(92950),c=n.n(s),u=n(45697),d=n.n(u),p=n(29163),m=n(58788),f=(0,p.ZP)(m.Card)(a||(a=(0,l.Z)(["\n  background-color: var(--pf-global--BackgroundColor--200);\n  overflow-wrap: break-word;\n"]))),g=(0,p.ZP)(m.CardBody)(r||(r=(0,l.Z)(["\n  max-height: 200px;\n  overflow: scroll;\n"]))),h=(0,p.ZP)(m.ExpandableSection)(i||(i=(0,l.Z)(["\n  text-align: left;\n\n  & .pf-c-expandable__toggle {\n    padding-left: 10px;\n    margin-left: 5px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n"])));function y(e){var t=e.error,n=(0,s.useState)(!1),a=(0,o.Z)(n,2),r=a[0],i=a[1];return c().createElement(h,{toggleText:"Details",onToggle:function(){i(!r)},isExpanded:r},c().createElement(f,null,c().createElement(g,null,Array.isArray(t)?c().createElement("ul",null,t.map((function(e){return"string"==typeof e?c().createElement("li",{key:e},e):null}))):t)))}y.propTypes={error:d().arrayOf(d().string)};const v=y},23071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a.Z});var a=n(62923)},20272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var a=n(92950),r=n.n(a),i=n(45697),o=n.n(i),l=n(58788),s=n(35451),c=n(84564),u=n(56803),d=n(98717),p=n(19694),m=function(e){var t,n=e.status;return r().createElement(l.Label,{variant:"outline",color:function(){switch(n){case"successful":return"green";case"failed":case"error":return"red";case"running":case"pending":return"blue";case"canceled":return"orange";default:return"grey"}}(),icon:function(){switch(n){case"successful":return r().createElement(s.ZP,null);case"failed":case"error":return r().createElement(c.ZP,null);case"running":return r().createElement(d.ZP,null);case"canceled":return r().createElement(p.ZP,null);default:return r().createElement(u.ZP,null)}}()},(t=n).charAt(0).toUpperCase()+t.slice(1))};m.propTypes={status:o().oneOf(["successful","failed","error","running","new","waiting","pending","canceled"])};const f=m},94794:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(92950),r=n.n(a),i=n(58788),o=n(96733);const l=function(){return r().createElement(i.EmptyState,{variant:i.EmptyStateVariant.full},r().createElement(i.EmptyStateIcon,{icon:o.ZP}),r().createElement(i.Title,{headingLevel:"h5",size:"lg"},"Loading..."),r().createElement(i.EmptyStateBody,null,"Please wait."))}},97853:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(92950),r=n.n(a),i=n(58788),o=n(96733);const l=function(){return r().createElement(i.EmptyState,{variant:i.EmptyStateVariant.full},r().createElement(i.EmptyStateIcon,{icon:o.ZP}),r().createElement(i.Title,{headingLevel:"h5",size:"lg"},"No Data"))}},26249:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(92950),r=n.n(a),i=n(58788),o=n(71070);const l=function(){return r().createElement(i.EmptyState,{variant:i.EmptyStateVariant.full},r().createElement(i.EmptyStateIcon,{icon:o.ZP}),r().createElement(i.Title,{size:"lg",headingLevel:"h4"},"No results found"),r().createElement(i.EmptyStateBody,null,"No results match the filter criteria. Remove all filters or clear all filters to show results."))}},13090:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Y});var a=n(81253),r=n(34699),i=n(92950),o=n.n(i),l=n(45697),s=n.n(l),c=n(58788),u=n(8755),d=n(31257),p={status:{type:"select",isSingle:!1,name:"Status",placeholder:"Filter by job status",hasChips:!0},quick_date_range:{type:"select",isSingle:!0,name:"Date",placeholder:"Filter by date",hasChips:!1},start_date:{type:"date",name:"Start date",hasChips:!1},end_date:{type:"date",name:"End date",hasChips:!1},job_type:{type:"select",isSingle:!1,name:"Job",placeholder:"Filter by job type",hasChips:!0},org_id:{type:"select",isSingle:!1,name:"Organization",placeholder:"Filter by organization",hasChips:!0},cluster_id:{type:"select",isSingle:!1,name:"Cluster",placeholder:"Filter by cluster",hasChips:!0},template_id:{type:"select",isSingle:!1,name:"Template",placeholder:"Filter by template",hasChips:!0},sort_options:{type:"select",isSingle:!0,name:"Sort by",placeholder:"Sort by attribute",hasChips:!1},automation_status:{type:"select",isSingle:!1,name:"Automation status",placeholder:"Filter by automation status",hasChips:!0},frequency_period:{type:"select",isSingle:!1,name:"Frequency",placeholder:"Filter by frequency",hasChips:!0},category:{type:"select",isSingle:!1,name:"Category",placeholder:"Filter by category",hasChips:!0},inventory_id:{type:"select",isSingle:!1,name:"Inventory",placeholder:"Filter by inventory",hasChips:!0},name:{type:"text",name:"Search by name",hasChips:!0}},m=function(e){var t=e.selected,n=e.setSelected,a=void 0===n?function(){}:n,l=e.categories,s=void 0===l?[]:l,u=(0,i.useState)(!1),d=(0,r.Z)(u,2),p=d[0],m=d[1];return o().createElement(c.ToolbarItem,null,o().createElement(c.Select,{isOpen:p,variant:"single","aria-label":"Categories",onToggle:function(){return m(!p)},onSelect:function(e,t){a(t),m(!1)},selections:t,placeholderText:"Filter by"},s.map((function(e){var t=e.key,n=e.name;return o().createElement(c.SelectOption,{key:t,value:t},n)}))))};m.propTypes={categories:s().array,selected:s().string,setSelected:s().func};const f=m;var g,h=n(87329),y=n(32465),v=(0,n(29163).ZP)("span")(g||(g=(0,y.Z)(["\n  display: block;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  max-width: 300px;\n"]))),E=function(e){return e&&e.map((function(e){var t=e.key,n=e.value,a=e.description;return o().createElement(c.SelectOption,{key:t,value:t,description:a},o().createElement(v,null,n))}))},b=function(e){var t,n,a,l=e.categoryKey,s=e.value,u=e.selectOptions,d=e.isVisible,m=void 0===d||d,f=e.setValue,g=(0,i.useState)(!1),y=(0,r.Z)(g,2),v=y[0],b=y[1],_=p[l];return o().createElement(c.ToolbarFilter,{"data-cy":l,key:l,showToolbarItem:m,chips:_.hasChips?_.isSingle?(n=u,(t=s)&&"string"==typeof t&&n&&(n.forEach((function(e){e.key===t&&(a=e.value)})),void 0!==a)?[a]:[]):function(e,t){return e&&t?e.reduce((function(e,n){return Number.isInteger(parseInt(n))&&(n=parseInt(n)),t.forEach((function(t){t.key===n&&e.push(t.value)})),e}),[]):[]}(s,u):[],categoryName:_.name,deleteChip:_.hasChips?function(e,t){if(p[l].isSingle)f(null);else{var n=u.find((function(e){return e.value===t})).key,a=s.filter((function(e){return e!==n}));f(a)}}:null},o().createElement(c.Select,{variant:_.isSingle?c.SelectVariant.single:c.SelectVariant.checkbox,"aria-label":_.name,onToggle:function(){return b(!v)},onSelect:function(e,t){_.isSingle?(f(t),b(!1)):f(s.includes(t)?s.filter((function(e){return e!==t})):[].concat((0,h.Z)(s),[t]))},selections:s,isOpen:v,hasInlineFilter:!0,placeholderText:_.placeholder,onFilter:function(e,t){return E(""===t?u:u.filter((function(e){return e.value.toLowerCase().includes(t.toLowerCase())})))},maxHeight:"1000%"},E(u)))};b.propTypes={categoryKey:s().string.isRequired,value:s().oneOfType([s().number,s().string,s().arrayOf(s().oneOfType([s().string,s().number]))]).isRequired,selectOptions:s().array,isVisible:s().bool,setValue:s().func.isRequired};const _=b;var x=function(e){var t=e.categoryKey,n=e.value,a=void 0===n?"":n,r=e.setValue,i=void 0===r?function(){}:r,l=p[t];return o().createElement(c.InputGroup,null,o().createElement(c.TextInput,{type:"date","aria-label":l.name,value:a,onChange:i}))};x.propTypes={categoryKey:s().string.isRequired,value:s().string,setValue:s().func.isRequired};const T=x;var w=n(71070),k=function(e){var t=e.categoryKey,n=e.isVisible,a=void 0===n||n,l=e.value,s=void 0===l?"":l,u=e.setValue,d=(0,i.useState)(s),m=(0,r.Z)(d,2),f=m[0],g=m[1],h=p[t];return(0,i.useEffect)((function(){g(s)}),[s]),o().createElement(c.ToolbarFilter,{"data-cy":t,key:t,showToolbarItem:a,chips:h.hasChips&&s?[s]:[],categoryName:h.name,deleteChip:h.hasChips?function(){u("")}:null},o().createElement(c.InputGroup,null,o().createElement(c.TextInput,{type:"search","aria-label":h.name,value:f,onChange:g}),o().createElement(c.Button,{variant:"control","aria-label":"Search button for ".concat(h.name),onClick:function(){u(f)}},o().createElement(w.ZP,null))))};k.propTypes={categoryKey:s().string.isRequired,value:s().any,isVisible:s().bool,setValue:s().func.isRequired};var Z={select:_,date:T,text:k},j=function(e){var t=e.categoryKey,n=e.value,a=e.selectOptions,r=e.isVisible,i=void 0===r||r,l=e.setValue,s=p[t],c=Z[s.type];return o().createElement(c,{categoryKey:t,value:n||("select"!==s.type||s.isSingle?"":[]),selectOptions:a,isVisible:i,setValue:l})};j.propTypes={categoryKey:s().string.isRequired,value:s().oneOfType([s().number,s().string,s().arrayOf(s().oneOfType([s().string,s().number]))]),selectOptions:s().array,isVisible:s().bool,setValue:s().func.isRequired};const S=j;var C=function(e){var t=e.filterCategories,n=e.filters,a=e.setFilters,l=(0,i.useState)(Object.keys(t)[0]),s=(0,r.Z)(l,2),u=s[0],d=s[1];return o().createElement(c.ToolbarGroup,{variant:"filter-group"},o().createElement(f,{selected:u,setSelected:d,categories:Object.keys(t).map((function(e){return{key:e,name:p[e].name}}))}),Object.keys(t).map((function(e){return o().createElement(S,{key:e,categoryKey:e,value:n[e],selectOptions:t[e],isVisible:u===e,setValue:function(t){return a(e,t)}})})))};C.propTypes={filterCategories:s().object.isRequired,filters:s().object.isRequired,setFilters:s().func.isRequired};const O=C;var P=function(e){var t=e.filters,n=e.setFilters,a=e.values;return o().createElement(c.ToolbarGroup,{variant:"filter-group"},o().createElement(S,{categoryKey:"quick_date_range",value:t.quick_date_range,selectOptions:a,setValue:function(e){return n("quick_date_range",e)}}),t.quick_date_range&&t.quick_date_range.includes("custom")&&o().createElement(o().Fragment,null,o().createElement(S,{categoryKey:"start_date",value:t.start_date,setValue:function(e){return n("start_date",e)}}),o().createElement(S,{categoryKey:"end_date",value:t.end_date,setValue:function(e){return n("end_date",e)}})))};P.propTypes={filters:s().object.isRequired,setFilters:s().func.isRequired,values:s().array.isRequired};const D=P;var B=n(59507),L=n(98702),R=function(e){var t=e.filters,n=e.setFilters,a=e.sort_options;return o().createElement(c.ToolbarGroup,{variant:"filter-group"},o().createElement(S,{categoryKey:"sort_options",value:t.sort_options,selectOptions:a,setValue:function(e){return n("sort_options",e)}}),o().createElement(c.Button,{variant:"control",onClick:function(){return n("sort_order","asc"===t.sort_order?"desc":"asc")}},"asc"===t.sort_order&&o().createElement(L.ZP,null),"desc"===t.sort_order&&o().createElement(B.ZP,null)))};R.propTypes={filters:s().object.isRequired,setFilters:s().func.isRequired,sort_options:s().array.isRequired};const I=R;var F=n(87673),A=n(33606),q=function(e){var t=e.filters,n=e.setFilters,a=e.settingsExpanded,r=e.setSettingsExpanded;return o().createElement(c.Card,{isFlat:!0,style:{backgroundColor:"#EEEEEE"}},o().createElement(c.CardHeader,null,o().createElement(c.CardActions,null,o().createElement(c.Button,{variant:"plain",onClick:function(){return r(!a)}},o().createElement(A.ZP,null))),o().createElement(c.CardTitle,null,"Settings")),o().createElement(c.CardBody,null,o().createElement(c.Switch,{id:"showRootWorkflowJobs",label:"Ignore nested workflows and jobs",labelOff:"Ignore nested workflows and jobs",isChecked:t.only_root_workflows_and_standalone_jobs,onChange:function(e){n("only_root_workflows_and_standalone_jobs",e)}}),o().createElement(c.Tooltip,{position:"top",content:o().createElement("div",null," ","If enabled, nested workflows and jobs will not be included in the overall totals. Enable this option to filter out duplicate entries.")},o().createElement(F.ZP,null))))};q.propTypes={filters:s().object.isRequired,setFilters:s().func.isRequired,settingsExpanded:s().bool.isRequired,setSettingsExpanded:s().func.isRequired};const N=q;var z=["quick_date_range","sort_options"],M=function(e){var t=e.categories,n=e.filters,l=e.setFilters,s=e.pagination,m=void 0===s?null:s,f=e.hasSettings,g=void 0!==f&&f,h=e.additionalControls,y=void 0===h?[]:h,v=e.hideQuickDateRange,E=void 0!==v&&v,b=e.hideSortOptions,_=void 0!==b&&b,x=(0,i.useState)(!1),T=(0,r.Z)(x,2),w=T[0],k=T[1],Z=t.quick_date_range,j=t.sort_options,S=(0,a.Z)(t,z),C=Object.keys(S).filter((function(e){return Object.keys(p).includes(e)})).reduce((function(e,t){return e[t]=S[t],e}),{});return o().createElement(o().Fragment,null,o().createElement(c.Toolbar,{id:"filterable-toolbar-with-chip-groups",clearAllFilters:function(){l(null,null)},collapseListedFiltersBreakpoint:"xl"},o().createElement(c.ToolbarContent,null,o().createElement(c.Button,{variant:"control"},o().createElement(u.ZP,null)),Object.keys(C).length>0&&o().createElement(O,{filterCategories:C,filters:n,setFilters:l}),!E&&Z&&o().createElement(D,{filters:n,setFilters:l,values:Z}),!_&&j&&o().createElement(I,{filters:n,setFilters:l,sort_options:j}),g&&o().createElement(c.ToolbarItem,null,o().createElement(c.Button,{variant:"plain",onClick:function(){return k(!w)},"aria-label":"settings",isActive:w},o().createElement(d.ZP,null))),y.length>0&&o().createElement(c.ToolbarGroup,null,y.map((function(e,t){return o().createElement(c.ToolbarItem,{key:t},e)}))),m&&o().createElement(c.ToolbarItem,{variant:"pagination",visibility:{default:"hidden",lg:"visible"}},m)),w&&o().createElement(N,{filters:n,setFilters:l,settingsExpanded:w,setSettingsExpanded:k})))};M.propTypes={categories:s().object.isRequired,filters:s().object.isRequired,setFilters:s().func.isRequired,pagination:s().object,hasSettings:s().bool,additionalControls:s().array,hideSortOptions:s().bool,hideQuickDateRange:s().bool};const Y=M},1859:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Te});var a=n(34699),r=n(96156),i=n(32465),o=n(92950),l=n.n(o),s=n(45697),c=n.n(s),u=n(29163),d=n(86350),p=n(27839),m=n(48716),f=n(39173),g=n(58788),h=n(13784),y=n(94794),v=n(97853),E=n(2205),b=n(83160),_=n(13090),x=n(22022),T=n(53677),w=n(50590),k=n(14115),Z=n(79886),j=n(63349),S=n(10379),C=n(86089),O=n(77608),P=n(6610),D=n(5991),B=n(25914),L=n(87986),R=n(91354);var I=function(){function e(t){var n=this;(0,P.Z)(this,e),(0,r.Z)(this,"handleMouseOver",(function(e){var t,a,r,i,o=B.Ys("#d3-roi-chart-root").node().scrollLeft,l=B.Ba6.pageX-B.Ys(n.svg).node().getBoundingClientRect().x+10+o,s=B.Ba6.pageY-B.Ys(n.svg).node().getBoundingClientRect().y-30;if(e){a=(0,R.Z)(+e.delta),t=e.name,r=(0,R.Z)(+e.manualCost),i=(0,R.Z)(+e.automatedCost);var c=n.toolTipBase.node().getBoundingClientRect().width,u=B.Ys(n.svg+"> svg").node().getBoundingClientRect().width,d=100-c/u*100<l/u*100;n.name.text(""+t),n.savings.text("Total savings ".concat(a)),n.manualCost.text("Manual Cost ".concat(r)),n.automationCost.text("Automation Cost ".concat(i)),n.nameWidth=n.name.node().getComputedTextLength(),n.savingsWidth=n.savings.node().getComputedTextLength(),n.manualCostWidth=n.manualCost.node().getComputedTextLength(),n.automationCostWidth=n.automationCost.node().getComputedTextLength(),n.widestTextElem=B.Fp7([n.nameWidth,n.savingsWidth,n.automationCostWidth,n.manualCostWidth]);var p,m=n.widestTextElem/n.boxWidth*100,f=m/85;p=m>85?n.boxWidth*f:n.boxWidth,n.boundingBox.attr("width",p),n.toolTipBase.attr("transform","translate("+l+","+s+")"),d?(n.toolTipPoint.attr("transform","translate(-20, 15) rotate(45)"),n.boundingBox.attr("x",-p-20),n.name.attr("x",-(c-7)),n.savings.attr("x",-(c-7)),n.manualCost.attr("x",-(c-7)),n.automationCost.attr("x",-(c-7))):(n.toolTipPoint.attr("transform","translate(10, 15) rotate(45)"),n.boundingBox.attr("x",10),n.name.attr("x",20),n.savings.attr("x",20),n.manualCost.attr("x",20),n.automationCost.attr("x",20)),n.toolTipBase.style("opacity",1),n.toolTipBase.interrupt()}})),(0,r.Z)(this,"handleMouseOut",(function(){n.toolTipBase.transition().delay(15).style("opacity",0).style("pointer-events","none")})),this.svg=t.svg,this.draw()}return(0,D.Z)(e,[{key:"draw",value:function(){this.width=125,this.toolTipBase=B.Ys(this.svg+"> svg").append("g"),this.toolTipBase.attr("id","svg-chart-Tooltip-base-"+this.svg.slice(1)),this.toolTipBase.attr("overflow","visible"),this.toolTipBase.style("opacity",0),this.toolTipBase.style("pointer-events","none"),this.toolTipBase.attr("transform","translate(100, 100)"),this.boxWidth=125,this.textWidthThreshold=20,this.toolTipPoint=this.toolTipBase.append("rect").attr("transform","translate(10, 0) rotate(45)").attr("x",0).attr("y",0).attr("height",20).attr("width",20).attr("fill","#393f44"),this.boundingBox=this.toolTipBase.append("rect").attr("x",10).attr("y",-23).attr("rx",2).attr("height",92).attr("width",this.boxWidth).attr("fill","#393f44"),this.name=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",20).attr("y",-2).text("Template name"),this.savings=this.toolTipBase.append("text").attr("x",20).attr("y",52).attr("font-size",12).attr("font-weight","bold").attr("fill","white").text("Total savings $0"),this.manualCost=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",20).attr("y",16).text("Manual cost $0"),this.automationCost=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",20).attr("y",34).text("Automation cost $0")}}]),e}(),F=function(e){(0,S.Z)(r,e);var t,n,a=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,O.Z)(t);if(n){var r=(0,O.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,C.Z)(this,e)});function r(e){var t;return(0,P.Z)(this,r),(t=a.call(this,e)).init=t.init.bind((0,j.Z)(t)),t.draw=t.draw.bind((0,j.Z)(t)),t.resize=t.resize.bind((0,j.Z)(t)),t.state={timeout:null},t}return(0,D.Z)(r,[{key:"resize",value:function(){var e=this,t=this.state.timeout;clearTimeout(t),this.setState({timeout:setTimeout((function(){e.init()}),500)})}},{key:"init",value:function(){this.draw()}},{key:"draw",value:function(){var e="#0066CC";B.td_("#"+this.props.id+" > *").remove();var t,n=this.props.data;t=n.length>=15?B.Ys(".automation-wrapper").node().getBoundingClientRect().width-this.props.margin.left-this.props.margin.right:this.props.getWidth();var a,r=this.props.getHeight(),i=B.tiA().rangeRound([0,t]).padding(.45),o=B.BYU().range([r,0]);a=n.map((function(e){return e.name}));var l=B.WUZ(".2s"),s=B.LLu(i).tickValues(a),c=B.y4O(o).ticks(8).tickFormat((function(e){return l(e).replace("G","B")})).tickSize(-t,0,0),u=B.Ys("#"+this.props.id).append("svg").attr("width",t+this.props.margin.left+this.props.margin.right).attr("height",r+this.props.margin.bottom+this.props.margin.top).append("g").attr("transform","translate("+this.props.margin.left+","+this.props.margin.top+")"),d=n.map((function(e){return e.name})),p=new I({svg:"#"+this.props.id});i.domain(d),o.domain([0,B.Fp7(n,(function(e){return 1.15*e.delta}))||8]),u.append("g").attr("class","y axis").call(c).selectAll("line").attr("stroke","#d7d7d7").append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").style("font-weight","bold").text("Value"),u.append("text").attr("transform","rotate(-90)").attr("y",0-this.props.margin.left).attr("x",0-r/2).attr("dy","1em").style("text-anchor","middle").text("Savings per template ($)"),u.append("g").attr("class","x-axis").attr("transform","translate(0,"+r+")").call(s).selectAll("text").style("text-anchor","start").attr("dx","0.75em").attr("dy",-i.bandwidth()/1.45-8).attr("transform","rotate(-90)"),u.selectAll(".x-axis line").attr("stroke","transparent"),u.selectAll(".bar").data(n).enter().append("rect").attr("x",(function(e){return i(e.name)})).attr("width",i.bandwidth()).attr("y",(function(e){return o(e.delta)})).style("fill",(function(){return e})).attr("height",(function(e){return r-o(e.delta)})).on("mouseover",(function(t){B.Ys(this).style("fill",B.B8C(e).darker(1)),p.handleMouseOver(t)})).on("mousemove",p.handleMouseOver).on("mouseout",(function(){B.Ys(this).style("fill",e),p.handleMouseOut()}))}},{key:"componentDidMount",value:function(){this.init(),window.addEventListener("resize",this.resize)}},{key:"componentWillUnmount",value:function(){var e=this.state.timeout;clearTimeout(e),window.removeEventListener("resize",this.resize)}},{key:"componentDidUpdate",value:function(){this.init()}},{key:"render",value:function(){return l().createElement("div",{id:this.props.id})}}]),r}(o.Component);F.propTypes={id:c().string,data:c().array,margin:c().object,getHeight:c().func,getWidth:c().func};const A=(0,L.Z)(F);var q,N=(0,u.ZP)(g.CardTitle)(q||(q=(0,i.Z)(["\n  border-bottom: 1px solid #d7d7d7;\n  margin-bottom: 10px;\n"]))),z=function(e){var t=e.totalSavings,n=void 0===t?0:t;return l().createElement(g.Card,{style:{borderTop:"3px solid #2B9AF3"}},l().createElement(g.CardTitle,{style:{paddingBottom:"0"}},"Total savings"),l().createElement(g.CardBody,null,l().createElement(g.Title,{headingLevel:"h3",size:"4xl",style:{color:"var(--pf-global--success-color--200)"}},(0,R.Z)(n))))};z.propTypes={totalSavings:c().number};const M=z;var Y,W=n(85111),U=u.ZP.div(Y||(Y=(0,i.Z)(["\n  flex: 1;\n"]))),V=function(e){var t=parseFloat(e);return t&&t>=0?e:""},G=function(e){var t=e.costManual,n=void 0===t?"0":t,a=e.setCostManual,r=void 0===a?function(){}:a,i=e.costAutomation,o=void 0===i?"0":i,s=e.setCostAutomation,c=void 0===s?function(){}:s;return l().createElement(g.Card,null,l().createElement(N,null,"Calculate your automation"),l().createElement(g.CardBody,null,l().createElement(U,null,l().createElement("p",null,"Manual cost of automation"),l().createElement("em",{style:{color:"var(--pf-global--Color--dark-200)"}},"(e.g. average salary of mid-level Software Engineer)"),l().createElement(g.InputGroup,{style:{width:"50%"}},l().createElement(g.InputGroupText,null,l().createElement(W.ZP,null)),l().createElement(g.TextInput,{id:"manual-cost",type:"number","aria-label":"manual-cost",value:n,onChange:function(e){return r(V(e))}}),l().createElement(g.InputGroupText,null,"/hr"))),l().createElement(U,{style:{paddingTop:"10px"}},l().createElement("p",null,"Automated process cost"),l().createElement(g.InputGroup,{style:{width:"50%"}},l().createElement(g.InputGroupText,null,l().createElement(W.ZP,null)),l().createElement(g.TextInput,{id:"automation-cost",type:"number","aria-label":"automation-cost",value:o,onChange:function(e){return c(V(e))}}),l().createElement(g.InputGroupText,null,"/hr")))))};G.propTypes={costManual:c().string,setCostManual:c().func,costAutomation:c().string,setCostAutomation:c().func};const H=G,K=function(){return l().createElement(g.Card,{style:{height:"100%"}},l().createElement(N,null,"Automation formula"),l().createElement(g.CardBody,null,l().createElement("p",null,l().createElement("b",null,"Manual cost for template x")," =",l().createElement("em",null,"(time for a manual run on one host in hours * (sum of all hosts across all job runs) ) * cost per hour")),l().createElement("p",null,l().createElement("b",null,"Automation cost for template x")," =",l().createElement("em",null,"cost of automation per hour * sum of total elapsed hours for a template")),l().createElement("p",null,l().createElement("b",null,"Savings")," =",l().createElement("em",null,"Sum of (manual cost - automation cost) across all templates"))))};var J,$,Q,X,ee,te=n(31369),ne=n(34238),ae=n(787),re=u.ZP.div(J||(J=(0,i.Z)(["\n  em {\n    display: block;\n    padding: 5px 0;\n  }\n\n  @media (max-width: 1490px) {\n    display: block;\n\n    em {\n      padding: 10px 0;\n      display: block;\n    }\n  }\n"]))),ie=u.ZP.em($||($=(0,i.Z)(["\n  color: var(--pf-global--Color--dark-200);\n"]))),oe=u.ZP.div(Q||(Q=(0,i.Z)(["\n  p {\n    text-align: left;\n  }\n"]))),le=u.ZP.div(X||(X=(0,i.Z)(["\n  & svg {\n    fill: var(--pf-global--Color--dark-200);\n\n    :hover {\n      cursor: pointer;\n    }\n\n    :first-of-type {\n      margin-right: 10px;\n      margin-left: 10px;\n\n      @media (max-width: 1350px) {\n        margin-left: 0;\n      }\n    }\n  }\n"]))),se=u.ZP.div(ee||(ee=(0,i.Z)(["\n  flex: 1;\n"]))),ce=function(e){var t=e.details;return l().createElement(g.Popover,{"aria-label":"template detail popover",position:"left",bodyContent:l().createElement(oe,null,Object.keys(t).map((function(e,n){return l().createElement("p",{key:n},l().createElement("b",null,(0,Z.kC)(e.split("_").join(" "))),": ",t[e])})))},l().createElement(te.ZP,null))};ce.propTypes={details:c().object};var ue=function(e){var t=e.data,n=void 0===t?[]:t,a=e.sortBy,r=void 0===a?"":a,i=e.setDataRunTime,o=void 0===i?function(){}:i,s=e.setEnabled,c=void 0===s?function(){}:s,u=e.redirectToJobExplorer,d=void 0===u?function(){}:u;return l().createElement(g.Card,{style:{overflow:"auto",flex:"1 1 0"},className:"top-templates"},l().createElement(g.CardBody,null,l().createElement("p",null,"Enter the time it takes to run the following templates manually."),n.map((function(e){return l().createElement("div",{key:e.id},l().createElement(g.Tooltip,{content:"List of jobs for this template for past 30 days"},l().createElement(g.Button,{style:{padding:"15px 0 10px"},component:"a",onClick:function(){return d(e.id)},variant:"link"},e.name)),l().createElement(re,null,l().createElement(se,{key:e.id},l().createElement(g.InputGroup,null,l().createElement(g.TextInput,{id:e.id,type:"number","aria-label":"time run manually",value:(0,Z.xb)(e.avgRunTime),onChange:function(t){return o((0,Z.$$)(t),e.id)}}),l().createElement(g.InputGroupText,null,"min"))),l().createElement(ie,null,"x ",e.successful_hosts_total," host runs"),function(e,t){var n=t.split(":")[0],a=Object.keys(e).map((function(t){return t===n?"".concat(e[t]):null}));return l().createElement(ie,null,(0,Z.kC)(n.split("_").join(" ")),": ",a)}(e,r),l().createElement(le,null,l().createElement(ce,{details:e}),!e.enabled&&l().createElement(ae.ZP,{onClick:function(){return c(e.id)(!0)}}),e.enabled&&l().createElement(ne.ZP,{onClick:function(){return c(e.id)(!1)}}))),l().createElement("p",{style:{color:"#486B00"}},(0,R.Z)(+e.delta)))}))))};ue.propTypes={data:c().array,setDataRunTime:c().func,redirectToJobExplorer:c().func,deselectedIds:c().array,setDeselectedIds:c().func,setEnabled:c().func,sortBy:c().string};const de=ue;var pe,me,fe;function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=u.ZP.div(pe||(pe=(0,i.Z)(["\n  display: grid;\n  grid-template-columns: 5fr 2fr;\n  height: 100%;\n"]))),ve=u.ZP.div(me||(me=(0,i.Z)(["\n  flex: 5;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n"]))),Ee=u.ZP.div(fe||(fe=(0,i.Z)(["\n  flex: 2;\n  display: flex;\n  flex-direction: column;\n"]))),be=function(e){return e.filter((function(e){return e.enabled}))},_e=function(e,t,n){return e.map((function(e){var a=(0,Z.B3)(e.avgRunTime)*e.successful_hosts_total*parseFloat(n),r=(0,Z.B3)(e.successful_elapsed_total)*parseFloat(t),i=(0,Z.YD)(r,a);return he(he({},e),{},{delta:i,manualCost:a,automatedCost:r})}))},xe=function(e){var t,n=e.history,r=(0,k.Z)(n,"jobExplorer"),i=(0,o.useState)("50"),s=(0,a.Z)(i,2),c=s[0],u=s[1],Z=(0,o.useState)("20"),j=(0,a.Z)(Z,2),S=j[0],C=j[1],O=(0,w.Z)(null),P=(0,a.Z)(O,2),D=P[0],B=P[1],L=(0,w.Z)({}),R=(0,a.Z)(L,2),I=R[0],F=R[1],q=(0,w.Z)([],(function(e){return _e((void 0===(t=e.items)?[]:t).map((function(e){return he(he({},e),{},{delta:0,avgRunTime:3600,manualCost:0,automatedCost:0,enabled:!0})})),S,c);var t})),z=(0,a.Z)(q,3),Y=z[0],W=z[1],U=z[2],V=(0,T.K)(h.GL.defaultParams),G=V.queryParams,J=V.setFromToolbar;(0,o.useEffect)((function(){B((0,x.YU)()),F((0,x.Yn)({params:G}))}),[]),(0,o.useEffect)((function(){U(_e(Y.data,S,c))}),[S,c]),(0,o.useEffect)((function(){W((0,x.QJ)({params:G}))}),[G]);var $;return 403===(null==D||null===(t=D.error)||void 0===t?void 0:t.status)?l().createElement(p.Z,h.dR):l().createElement(l().Fragment,null,l().createElement(m.Z,{style:{flex:"0"}},l().createElement(f.Z,{title:"Automation Calculator"}),l().createElement(_.Z,{categories:I.data,filters:G,setFilters:J})),D.error&&l().createElement(d.Z,null,l().createElement(E.Z,{preflightError:D.error})),D.isSuccess&&l().createElement(l().Fragment,null,l().createElement(ye,{className:"automation-wrapper"},l().createElement(ve,null,l().createElement(d.Z,{style:{paddingBottom:"0"}},l().createElement(g.Card,null,l().createElement(N,null,"Automation savings"),l().createElement(g.CardBody,null,Y.isLoading&&l().createElement(y.Z,null),Y.error&&l().createElement(b.Z,{message:Y.error.error}),Y.isSuccess&&Y.data.length<=0&&l().createElement(v.Z,null),Y.isSuccess&&Y.data.length>0&&l().createElement(l().Fragment,null,l().createElement(A,{margin:{top:20,right:20,bottom:20,left:70},id:"d3-roi-chart-root",data:be(Y.data)}),l().createElement("p",{style:{textAlign:"center"}},"Templates"))))),l().createElement(d.Z,null,l().createElement(K,null))),l().createElement(Ee,null,l().createElement(d.Z,{style:{paddingBottom:"0",paddingLeft:"0"}},l().createElement(M,{totalSavings:($=be(Y.data),$.reduce((function(e,t){return e+t.delta}),0))})),l().createElement(d.Z,{style:{display:"flex",flexDirection:"column",flex:"1 1 0",paddingLeft:"0"}},l().createElement(H,{costManual:c,setCostManual:u,costAutomation:S,setCostAutomation:C}),l().createElement(de,{redirectToJobExplorer:function(e){r({quick_date_range:"last_30_days",template_id:[e]})},data:Y.data,setDataRunTime:function(e,t){var n=Y.data.map((function(n){return n.id===t?(n.avgRunTime=e,_e([n],S,c)[0]):n}));U(n)},setUnfilteredData:Y.data,setEnabled:function(e){return function(t){U(Y.data.map((function(n){return n.id===e?he(he({},n),{},{enabled:t}):n})))}},sortBy:G.sort_by}))))))};xe.propTypes={history:c().object};const Te=xe},19335:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Fe});var a=n(92137),r=n(96156),i=n(34699),o=n(87757),l=n.n(o),s=n(92950),c=n.n(s),u=n(53677),d=n(94794),p=n(2205),m=n(22022),f=n(13784),g=n(50590),h=n(86350),y=n(27839),v=n(48716),E=n(39173),b=n(58788),_=n(6610),x=n(5991),T=n(63349),w=n(10379),k=n(86089),Z=n(77608),j=n(87986),S=n(25914),C=n(45697),O=n.n(C);const P=function(){function e(t){var n=this;(0,_.Z)(this,e),(0,r.Z)(this,"handleMouseOver",(function(e){var t=0,a=0,r=0,i=S.Ba6.pageX-S.Ys(n.svg).node().getBoundingClientRect().x+10,o=S.Ba6.pageY-S.Ys(n.svg).node().getBoundingClientRect().y-10,l=S.i$Z("%m/%d");if(e){var s=n.toolTipBase.node().getBoundingClientRect().width,c=S.Ys(n.svg+"> svg").node().getBoundingClientRect().width,u=100-s/c*100<i/c*100;e&&(t=e.RAN||0,a=e.FAIL||0,r=e.TOTAL||0,n.date.text(l(e.DATE||null))),e&&e.data&&(t=e.data.RAN||0,a=e.data.FAIL||0,r=e.data.TOTAL||0,n.date.text(l(e.data.DATE||null))),n.jobs.text(r+" jobs"),n.jobsWidth=n.jobs.node().getComputedTextLength(),n.failed.text(""+a),n.successful.text(""+t),n.successTextWidth=n.successful.node().getComputedTextLength(),n.failTextWidth=n.failed.node().getComputedTextLength();var d,p=n.jobsWidth/n.boxWidth*100,m=p/40;d=p>40?n.boxWidth*m:n.boxWidth,n.boundingBox.attr("width",d),n.toolTipBase.attr("transform","translate("+i+","+o+")"),u?(n.toolTipPoint.attr("transform","translate(-20, 0) rotate(45)"),n.boundingBox.attr("x",-d-20),n.circleSuccess.attr("cx",-d),n.circleFail.attr("cx",-d),n.failedIcon.attr("x",-d-7),n.successIcon.attr("x",-d-7),n.successText.attr("x",17-d),n.failText.attr("x",17-d),n.successful.attr("x",-n.successTextWidth-20-12),n.failed.attr("x",-n.failTextWidth-20-12),n.date.attr("x",-d-5),n.jobs.attr("x",-n.jobsWidth/2-7),n.clickMore.attr("x",-d)):(n.toolTipPoint.attr("transform","translate(10, 0) rotate(45)"),n.boundingBox.attr("x",10),n.circleSuccess.attr("cx",26),n.circleFail.attr("cx",26),n.failedIcon.attr("x",19),n.successIcon.attr("x",19),n.successText.attr("x",43),n.failText.attr("x",43),n.successful.attr("x",d-n.successTextWidth),n.failed.attr("x",d-n.failTextWidth),n.date.attr("x",20),n.jobs.attr("x",d),n.clickMore.attr("x",20)),n.toolTipBase.style("opacity",1),n.toolTipBase.interrupt()}})),(0,r.Z)(this,"handleMouseOut",(function(){n.toolTipBase.transition().delay(15).style("opacity",0).style("pointer-events","none")})),this.svg=t.svg,this.colors=t.colors,this.draw()}return(0,x.Z)(e,[{key:"draw",value:function(){this.toolTipBase=S.Ys(this.svg+"> svg").append("g"),this.toolTipBase.attr("id","svg-chart-Tooltip.base-"+this.svg.slice(1)),this.toolTipBase.attr("overflow","visible"),this.toolTipBase.style("opacity",0),this.toolTipBase.style("pointer-events","none"),this.toolTipBase.attr("transform","translate(100, 100)"),this.boxWidth=145,this.textWidthThreshold=20,this.toolTipPoint=this.toolTipBase.append("rect").attr("transform","translate(10, -10) rotate(45)").attr("x",0).attr("y",0).attr("height",20).attr("width",20).attr("fill","#393f44"),this.boundingBox=this.toolTipBase.append("rect").attr("x",10).attr("y",-41).attr("rx",2).attr("height",110).attr("width",this.boxWidth).attr("fill","#393f44"),this.circleSuccess=this.toolTipBase.append("circle").attr("cx",26).attr("cy",0).attr("r",8).attr("stroke","white").attr("fill","white"),this.circleFail=this.toolTipBase.append("circle").attr("cx",26).attr("cy",26).attr("r",8).attr("stroke","white").attr("fill","white"),this.successText=this.toolTipBase.append("text").attr("x",43).attr("y",4).attr("font-size",12).attr("fill","white").text("Successful"),this.failText=this.toolTipBase.append("text").attr("x",43).attr("y",28).attr("font-size",12).attr("fill","white").text("Failed"),this.successIcon=this.toolTipBase.append("text").attr("class","fas fa-sm").attr("fill",this.colors(1)).attr("x",19).attr("y",5).text(""),this.failedIcon=this.toolTipBase.append("text").attr("class","fas fa-sm").attr("fill",this.colors(0)).attr("x",20).attr("y",31).text(""),this.jobs=this.toolTipBase.append("text").attr("fill","white").attr("x",137).attr("y",-21).attr("font-size",12).attr("text-anchor","end").text("No jobs"),this.successful=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",122).attr("y",4).text("0"),this.failed=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",122).attr("y",28).text("0"),this.date=this.toolTipBase.append("text").attr("fill","white").attr("stroke","white").attr("x",20).attr("y",-21).attr("font-size",12).text("Never"),this.clickMore=this.toolTipBase.append("text").attr("fill","white").attr("x",20).attr("y",55).attr("font-size",12).text("Click for details")}}]),e}();var D=n(17563),B=n(20806),L=n(79886);var R=function(e){(0,w.Z)(r,e);var t,n,a=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,Z.Z)(t);if(n){var r=(0,Z.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,k.Z)(this,e)});function r(e){var t;return(0,_.Z)(this,r),(t=a.call(this,e)).draw=t.draw.bind((0,T.Z)(t)),t.init=t.init.bind((0,T.Z)(t)),t.resize=t.resize.bind((0,T.Z)(t)),t.redirectToJobExplorer=t.redirectToJobExplorer.bind((0,T.Z)(t)),t.state={formattedData:[],timeout:null},t}return(0,x.Z)(r,[{key:"redirectToJobExplorer",value:function(e){var t=e.data.DATE,n=B.n.jobExplorer,a=(0,L.p6)(t),r={start_date:a,end_date:a,quick_date_range:"custom",status:["failed","successful"],template_id:this.props.queryParams.template_id,org_id:this.props.queryParams.org_id,job_type:this.props.queryParams.job_type},i=(0,D.stringify)(r,{arrayFormat:"bracket"});this.props.history.push({pathname:n,search:i})}},{key:"resize",value:function(){var e=this,t=this.state.timeout;clearTimeout(t),this.setState({timeout:setTimeout((function(){e.init()}),500)})}},{key:"init",value:function(){this.draw()}},{key:"draw",value:function(){S.td_("#"+this.props.id+" > *").remove();var e,t=S.Z1g("%Y-%m-%d"),n=this.props.data.reduce((function(e,n){var a=n.created_date,r=n.successful_count,i=n.failed_count,o=t(a)||new Date,l=+r||0,s=+i||0,c=+r+i||0;return e.concat({DATE:o,RAN:l,FAIL:s,TOTAL:c})}),[]),a=this.props.getWidth(),r=this.props.getHeight(),i=S.tiA().rangeRound([0,a]).padding(.35),o=S.BYU().range([r,0]),l=S.Ys("#"+this.props.id).append("svg").attr("width",a+this.props.margin.left+this.props.margin.right).attr("height",r+this.props.margin.top+this.props.margin.bottom).append("g").attr("transform","translate("+this.props.margin.left+","+this.props.margin.top+")"),s=S.PKp(["#6EC664","#A30000"]),c=new P({svg:"#"+this.props.id,colors:s}),u=S.knu().keys(["FAIL","RAN"]).order(S.Qxt).offset(S.HLf)(n);i.domain(u[0].map((function(e){return e.data.DATE}))),o.domain([0,S.Fp7(u[u.length-1],(function(e){return 1.15*e[1]}))||8]),l.append("g").attr("class","y-axis").call(S.y4O(o).tickSize(-a,0,0)).selectAll("line").attr("stroke","#d7d7d7"),l.selectAll(".y-axis .tick text").attr("x",-5),l.append("text").attr("transform","rotate(-90)").attr("y",0-this.props.margin.left).attr("x",0-r/2).attr("dy","1em").style("text-anchor","middle").text("Jobs across all clusters");var d=Math.round(n.length/(n.length/2));e=n.map((function(e){return e.DATE})),n.length>14&&(e=n.map((function(e,t){return t%d==0?e.DATE:void 0})).filter((function(e){return e}))),l.append("g").attr("class","x-axis").attr("transform","translate(0,"+r+")").call(S.LLu(i).tickValues(e).tickFormat(S.i$Z("%-m/%-d"))).selectAll("line").attr("stroke","#d7d7d7"),l.selectAll(".x-axis .tick text").attr("y",10),l.append("text").attr("transform","translate("+a/2+" ,"+(r+this.props.margin.top+20)+")").style("text-anchor","middle").text("Date");var p=l.selectAll("layer").data(u).enter().append("g").attr("class","layer").style("fill",(function(e,t){return s(t)}));p.selectAll("rect").data((function(e){return e})).enter().append("rect").attr("x",(function(e){return i(e.data.DATE)})).attr("y",(function(e){return o(e[0])})).attr("height",0).attr("width",i.bandwidth()-1).transition().duration(550).ease(S.LUP).attr("y",(function(e){return o(e[1])})).attr("height",(function(e){return o(e[0])-o(e[1])})),p.selectAll("rect").on("mouseover",c.handleMouseOver).on("mousemove",c.handleMouseOver).on("mouseout",c.handleMouseOut).on("click",this.redirectToJobExplorer)}},{key:"componentDidMount",value:function(){this.init(),window.addEventListener("resize",this.resize)}},{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&this.init()}},{key:"componentWillUnmount",value:function(){var e=this.state.timeout;clearTimeout(e),window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){return c().createElement("div",{id:this.props.id})}}]),r}(s.Component);R.propTypes={id:O().string,queryParams:O().object,data:O().array,margin:O().object,getHeight:O().func,getWidth:O().func,history:O().object};const I=(0,j.Z)(R);var F=function(e){(0,w.Z)(r,e);var t,n,a=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,Z.Z)(t);if(n){var r=(0,Z.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,k.Z)(this,e)});function r(e){var t;return(0,_.Z)(this,r),(t=a.call(this,e)).init=t.init.bind((0,T.Z)(t)),t.draw=t.draw.bind((0,T.Z)(t)),t.resize=t.resize.bind((0,T.Z)(t)),t.updateCluster=t.updateCluster.bind((0,T.Z)(t)),t.redirectToJobExplorer=t.redirectToJobExplorer.bind((0,T.Z)(t)),t.state={formattedData:[],timeout:null},t}return(0,x.Z)(r,[{key:"redirectToJobExplorer",value:function(e){var t=e.DATE,n=B.n.jobExplorer,a=(0,L.p6)(t),r={start_date:a,end_date:a,quick_date_range:"custom",status:["failed","successful"],cluster_id:this.props.queryParams.cluster_id,org_id:this.props.queryParams.org_id,template_id:this.props.queryParams.template_id,job_type:this.props.queryParams.job_type},i=(0,D.stringify)(r,{arrayFormat:"bracket"});this.props.history.push({pathname:n,search:i})}},{key:"resize",value:function(){var e=this,t=this.state.timeout;clearTimeout(t),this.setState({timeout:setTimeout((function(){e.init()}),500)})}},{key:"updateCluster",value:function(){this.init()}},{key:"init",value:function(){this.draw()}},{key:"draw",value:function(){S.td_("#"+this.props.id+" > *").remove();var e=this.props.getWidth(),t=this.props.getHeight();function n(e){e.transition().duration(1e3).attrTween("stroke-dasharray",a)}function a(){var e=this.getTotalLength(),t=S.ITZ("0,"+e,e+","+e);return function(e){return t(e)}}var r=S.Xf().rangeRound([0,e]),i=S.BYU().range([t,0]),o=S.PKp(["#6EC664","#A30000","#06C"]),l=S.Ys("#"+this.props.id).append("svg").attr("width",e+this.props.margin.left+this.props.margin.right).attr("height",t+this.props.margin.top+this.props.margin.bottom).attr("z",100).append("g").attr("transform","translate("+this.props.margin.left+","+this.props.margin.top+")"),s=new P({svg:"#"+this.props.id,colors:o}),c=this.props.data,u=S.Z1g("%Y-%m-%d"),d=c.reduce((function(e,t){var n=t.created_date,a=t.successful_count,r=t.failed_count,i=u(n)||new Date,o=+a||0,l=+r||0,s=+a+r||0;return e.concat({DATE:i,RAN:o,FAIL:l,TOTAL:s})}),[]);r.domain(S.Wem(d,(function(e){return e.DATE}))),i.domain([0,S.Fp7(d,(function(e){return 1.15*e.TOTAL||8}))]);var p,m=S.jvg().curve(S.FdL).x((function(e){return r(e.DATE)})).y((function(e){return i(e.RAN)})),f=S.jvg().defined((function(e){return!isNaN(e.FAIL)})).curve(S.FdL).x((function(e){return r(e.DATE)})).y((function(e){return i(e.FAIL)}));l.append("g").attr("class","y-axis").call(S.y4O(i).ticks(10).tickSize(-e)).selectAll("line").attr("stroke","#d7d7d7"),l.selectAll(".y-axis .tick text").attr("x",-5),l.append("text").attr("transform","rotate(-90)").attr("y",0-this.props.margin.left).attr("x",0-t/2).attr("dy","1em").style("text-anchor","middle").text("Job runs");var g=Math.round(d.length/(d.length/2));p=d.map((function(e){return e.DATE})),d.length>14&&(p=d.map((function(e,t){return t%g==0?e.DATE:void 0})).filter((function(e){return e}))),l.append("g").attr("class","x-axis").attr("transform","translate(0,"+t+")").call(S.LLu(r).tickValues(p).tickSize(-t).tickFormat(S.i$Z("%-m/%-d"))).selectAll("line").attr("stroke","#d7d7d7"),l.selectAll(".x-axis .tick text").attr("y",10),l.append("text").attr("transform","translate("+e/2+" ,"+(t+this.props.margin.top+20)+")").style("text-anchor","middle").text("Date");var h=l.append("path").attr("class","mouse-line").style("stroke","black").style("stroke-width","3px").style("stroke-dasharray","3, 3").style("opacity","0"),y=function(e){s.handleMouseOver(e),h.transition().style("opacity","1")},v=function(){var e=this.cx.baseVal.value;h.attr("d",(function(){return"M"+e+","+t+" "+e+",0"}))},E=function(){s.handleMouseOut(),h.transition().style("opacity",0)};l.append("path").data([d]).attr("class","line").style("fill","none").style("stroke",(function(){return o(1)})).attr("stroke-width",2).attr("d",m).call(n),l.append("path").data([d]).attr("class","line").style("fill","none").style("stroke",(function(){return o(0)})).attr("stroke-width",2).attr("d",f).call(n),l.selectAll("dot").data(d).enter().append("circle").attr("r",3).style("stroke",(function(){return o(1)})).style("fill",(function(){return o(1)})).attr("cx",(function(e){return r(e.DATE)})).attr("cy",(function(e){return i(e.RAN)})).on("mouseover",y).on("mousemove",v).on("mouseout",E).on("click",this.redirectToJobExplorer),l.selectAll("dot").data(d).enter().append("circle").attr("r",3).style("stroke",(function(){return o(0)})).style("fill",(function(){return o(0)})).attr("cx",(function(e){return r(e.DATE)})).attr("cy",(function(e){return i(e.FAIL)})).on("mouseover",y).on("mousemove",v).on("mouseout",E).on("click",this.redirectToJobExplorer)}},{key:"componentDidMount",value:function(){this.updateCluster(),window.addEventListener("resize",this.resize)}},{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&this.updateCluster()}},{key:"componentWillUnmount",value:function(){var e=this.state.timeout;clearTimeout(e),window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){return c().createElement("div",{id:this.props.id})}}]),r}(s.Component);F.propTypes={id:O().string,queryParams:O().object,data:O().array,margin:O().object,getHeight:O().func,getWidth:O().func,history:O().object};const A=(0,j.Z)(F);var q,N,z,M=n(32465),Y=n(29163),W=n(97853),U=(0,Y.ZP)(b.DataListCell)(q||(q=(0,M.Z)(["\n  --pf-c-data-list__cell-cell--MarginRight: 0;\n"]))),V=(0,Y.ZP)(b.DataListItem)(N||(N=(0,M.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  padding: 0 15px 10px 15px;\n"]))),G=(0,Y.ZP)(U)(z||(z=(0,M.Z)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]))),H=function(e){var t=e.modules,n=e.isLoading;return c().createElement(b.DataList,{"aria-label":"Top Modules",style:{maxHeight:"400px",overflow:"auto",height:"400px",background:"white"}},c().createElement(V,{"aria-labelledby":"top-modules-header"},c().createElement(U,null,c().createElement("h3",null,"Top modules")),c().createElement(G,null,c().createElement("h3",null,"Usage"))),n&&c().createElement(b.DataListItem,{"aria-labelledby":"modules-loading",key:n,style:{border:"none"}},c().createElement(b.DataListCell,null,c().createElement(d.Z,null))),!n&&t.length<=0&&c().createElement(b.DataListItem,{"aria-labelledby":"modules-no-data",key:n,style:{border:"none"}},c().createElement(b.DataListCell,null,c().createElement(W.Z,null))),!n&&t.filter((function(e){return null!==e.name})).map((function(e,t){var n=e.name,a=e.host_task_count;return c().createElement(V,{"aria-labelledby":"top-modules-detail",key:t},c().createElement(U,null,c().createElement("span",null,(0,L.mN)(n))),c().createElement(G,null,a))})))};H.propTypes={modules:O().array,isLoading:O().bool};const K=H;var J,$,Q,X,ee,te=n(334),ne=n(83160),ae=n(26249),re=Y.ZP.div(J||(J=(0,M.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  width: 100%;\n  max-width: 100%;\n  height: 1rem;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n"]))),ie=Y.ZP.div($||($=(0,M.Z)(["\n  height: 100%;\n"]))),oe=Y.ZP.div(Q||(Q=(0,M.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin-bottom: 1rem;\n"]))),le=Y.ZP.div(X||(X=(0,M.Z)(["\n  padding-left: 2rem;\n  display: flex;\n  align-items: center;\n"]))),se=Y.ZP.div(ee||(ee=(0,M.Z)(["\n  width: 0.75rem;\n  height: 0.75rem;\n  margin-right: 0.5rem;\n"]))),ce=function(e){var t=e.categoryCount,n=void 0===t?{}:t,a=e.categoryColor,r=Object.values(n).reduce((function(e,t){return e+t})),i=Object.keys(n).filter((function(e){return n[e]>0})).sort((function(e){return n[e]<n[e]?1:n[e]>n[e]?-1:0})).map((function(e){return{name:e,barSpacing:n[e]/r,color:a[e]}})),o=1-.15*(i.length-1)/100;return c().createElement(c().Fragment,null,c().createElement(re,null,i.map((function(e,t){var n=e.barSpacing,a=e.color;return t<i.length-1?c().createElement(c().Fragment,{key:t},c().createElement(ie,{style:{backgroundColor:a,width:"".concat(100*n*o,"%")}}),c().createElement(ie,{style:{backgroundColor:"transparent",width:"".concat(.15,"%")}})):c().createElement(c().Fragment,{key:t},c().createElement(ie,{style:{backgroundColor:a,width:"".concat(100*n*o,"%")}}))}))),c().createElement(oe,null,i.map((function(e){var t,n=e.name,a=e.color;return c().createElement(le,{key:"label-".concat(n)},c().createElement(se,{style:{backgroundColor:a}}),c().createElement("p",null,(t=n)[0].toUpperCase()+t.slice(1).toLowerCase()))}))))};ce.propTypes={categoryColor:O().object,categoryCount:O().object};const ue=ce;var de,pe=n(20272),me=n(29587),fe=n(94550);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=Y.ZP.div(de||(de=(0,M.Z)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 2rem;\n"]))),ve=function(e){if(e){if(e&&e[0]){var t=Math.ceil(e[0].failed_count/e[0].total_failed_count*100);return"".concat(e[0].task_name," ").concat(t,"%")}return"Unavailable"}},Ee=function(e,t){return Math.ceil(e/t*100)+"%"},be=function(e){return new Date(1e3*e).toISOString().substr(11,8)},_e=function(e){var t=e.selectedId,n=e.isOpen,a=e.handleModal,r=e.qp,o=e.jobType,l=(0,g.Z)({items:[]}),u=(0,i.Z)(l,3),p=u[0],f=p.isLoading,h=p.isSuccess,y=p.error,v=p.data.items,E=void 0===v?[]:v,_=u[1],x=u[2],T=(0,g.Z)({items:[]}),w=(0,i.Z)(T,3),k=(0,i.Z)(w[0].data.items,1)[0],Z=void 0===k?0:k,j=w[1],S=w[2],C=(0,te.useHistory)(),O=he(he({},r),{},{template_id:[t],attributes:["id","status","job_type","started","finished","elapsed","created","cluster_name","org_name"],group_by_time:!1,limit:5,sort_by:"created:desc",quick_date_range:r.quick_date_range?r.quick_date_range:"last_30_days",job_type:[o]}),P={group_by:"template",template_id:[t],attributes:["elapsed","job_type","successful_count","failed_count","error_count","waiting_count","pending_count","canceled_count","new_count","running_count","total_count","job"===o?"most_failed_tasks":"most_failed_steps"],status:r.status,quick_date_range:r.quick_date_range?r.quick_date_range:"last_30_days",job_type:[o]};(0,s.useEffect)((function(){j((0,m.Ij)({params:P})),_((0,m.Ij)({params:O}))}),[t]);var R,I,F=Z?{success:Z.successful_count,cancelled:Z.canceled_count,error:Z.error_count,failed:Z.failed_count,new:Z.new_count,pending:Z.pending_count,running:Z.running_count,waiting:Z.waiting_count}:null,A={success:me.global_palette_green_200.value,cancelled:me.global_palette_black_850.value,error:me.global_palette_orange_300.value,failed:me.global_palette_red_100.value,new:me.global_palette_cyan_200.value,pending:me.global_palette_purple_300.value,running:me.global_palette_blue_300.value,waiting:me.global_palette_light_green_200.value},q=[{label:"Number of runs",id:"total-runs",value:Z.total_count?Z.total_count:"Unavailable"},{label:"Total time",id:"total-time",value:Z.elapsed?be(Z.elapsed):"Unavailable"},{label:"Average time",id:"avg-time",value:Z.elapsed?(R=Z.elapsed,I=Z.total_count,new Date(1e3*Math.ceil(R/I)).toISOString().substr(11,8)):"Unavailable"},{label:"Type",id:"type",value:o?(0,L.GV)(o):"Unavailable"},{label:"Success rate",id:"success-rate",value:isNaN(Z.successful_count)?"Unavailable":Ee(Z.successful_count,Z.total_count)},{label:"Most failed task",id:"most-failed",value:Z.most_failed_tasks?ve(Z.most_failed_tasks):"Unavailable"}],N=function(){a(!1),S({items:[]}),x({items:[]})};return c().createElement(b.Modal,{"aria-label":"modal",width:"80%",title:Z.name?Z.name:"No template name",isOpen:n,onClose:N},f&&c().createElement(d.Z,null),y&&c().createElement(ne.Z,{message:y.error}),h&&E.length<=0&&c().createElement(ae.Z,null),h&&E.length>0&&c().createElement(c().Fragment,null,F&&c().createElement(ue,{categoryCount:F,categoryColor:A}),c().createElement(b.DescriptionList,{isHorizontal:!0,columnModifier:{lg:"3Col"}},q.map((function(e){var t=e.label,n=e.id,a=e.value;return c().createElement(b.DescriptionListGroup,{className:n,key:t},c().createElement(b.DescriptionListTerm,null,t),c().createElement(b.DescriptionListDescription,null,a))}))),c().createElement(b.Divider,{component:"div",style:{marginTop:"2rem",marginBottom:"1.5rem"}}),c().createElement("p",null,c().createElement("strong",null,"Last 5 jobs")),c().createElement(fe.TableComposable,{"aria-label":"Template information table",variant:"compact"},c().createElement(fe.Thead,null,c().createElement(fe.Tr,null,["Id/Name","Status","Cluster","Finished","Total time"].map((function(e,t){return c().createElement(fe.Th,{key:t},e)})))),c().createElement(fe.Tbody,null,E.map((function(e,t){return c().createElement(fe.Tr,{key:"job-detail-".concat(t)},c().createElement(fe.Td,null,"".concat(e.id.id," - ").concat(e.id.template_name)),c().createElement(fe.Td,null,c().createElement(pe.Z,{status:e.status})),c().createElement(fe.Td,null,e.cluster_name),c().createElement(fe.Td,null,(0,L.o0)(e.finished)),c().createElement(fe.Td,null,be(e.elapsed)))}))))),c().createElement(ye,null,c().createElement(b.Button,{key:"cancel",variant:"secondary",onClick:function(){N()}},"Close"),c().createElement(b.Button,{component:"a",onClick:function(){var e=B.n.jobExplorer,n={template_id:[t],status:["successful","failed","new","pending","waiting","error","canceled","running"],job_type:[o],quick_date_range:"last_30_days"},a=(0,D.stringify)(n,{arrayFormat:"bracket"});C.push({pathname:e,search:a})},variant:"link"},"View all jobs")))};_e.propTypes={selectedId:O().number.isRequired,qp:O().object.isRequired,jobType:O().string.isRequired,isOpen:O().bool.isRequired,handleModal:O().func.isRequired};const xe=_e;var Te,we,ke,Ze=(0,Y.ZP)(b.DataListCell)(Te||(Te=(0,M.Z)(["\n  --pf-c-data-list__cell-cell--MarginRight: 0;\n"]))),je=(0,Y.ZP)(b.DataListItem)(we||(we=(0,M.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  padding: 0 15px 10px 15px;\n  justify-content: center;\n  align-items: center;\n"]))),Se=(0,Y.ZP)(Ze)(ke||(ke=(0,M.Z)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]))),Ce=function(e){var t=e.templates,n=e.isLoading,a=e.qp,r=e.title,o=e.jobType,l=(0,s.useState)(null),u=(0,i.Z)(l,2),p=u[0],m=u[1],f=(0,s.useState)(!1),g=(0,i.Z)(f,2),h=g[0],y=g[1],v=function(e){return"job"===e?"templates":"workflows"};return c().createElement(c().Fragment,null,c().createElement(b.DataList,{"aria-label":"Top ".concat(v(o)),style:{maxHeight:"400px",overflow:"auto",height:"400px",background:"white"}},c().createElement(je,{"aria-labelledby":"top-".concat(v(o),"-header")},c().createElement(Ze,null,c().createElement("h3",null,r)),c().createElement(Se,null,c().createElement("h3",null,"Usage"))),n&&c().createElement(b.DataListItem,{"aria-labelledby":"".concat(v(o),"-loading"),key:n,style:{border:"none"}},c().createElement(b.DataListCell,null,c().createElement(d.Z,null))),!n&&t.length<=0&&c().createElement(b.DataListItem,{"aria-labelledby":"".concat(v(o),"-no-data"),key:n,style:{border:"none"}},c().createElement(b.DataListCell,null,c().createElement(W.Z,null))),!n&&t.map((function(e,t){var n=e.name,a=e.total_count,r=e.id;return c().createElement(je,{"aria-labelledby":"top-".concat(v(o),"-detail"),key:t},c().createElement(Ze,null,c().createElement("a",{onClick:function(){y(!0),m(r)}},n)),c().createElement(Se,null,a))}))),p&&c().createElement(xe,{isOpen:h,handleModal:y,selectedId:p,qp:a,jobType:o}))};Ce.propTypes={templates:O().array,isLoading:O().bool,queryParams:O().object,title:O().string,qp:O().object,jobType:O().string};const Oe=Ce;var Pe=n(13090);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le={group_by:"template",limit:10,job_type:["job"],group_by_time:!1,status:["successful","failed"]},Re={group_by:"template",limit:10,job_type:["workflowjob"],group_by_time:!1,status:["successful","failed"]},Ie={group_by:"module",sort_by:"host_task_count:desc",limit:10};const Fe=function(){var e,t=(0,s.useState)(null),n=(0,i.Z)(t,2),r=n[0],o=n[1],_=(0,u.K)(Be({},f.kK.defaultParams)),x=_.queryParams,T=_.setFromToolbar,w=(0,g.Z)({items:[]}),k=(0,i.Z)(w,2),Z=k[0],j=Z.isLoading,S=Z.isSuccess,C=Z.error,O=Z.data.items,P=void 0===O?[]:O,D=k[1],B=(0,g.Z)({items:[]}),L=(0,i.Z)(B,2),R=L[0].data.items,F=void 0===R?[]:R,q=L[1],N=(0,g.Z)({items:[]}),z=(0,i.Z)(N,2),M=z[0].data.items,Y=void 0===M?[]:M,W=z[1],U=(0,g.Z)({items:[]}),V=(0,i.Z)(U,2),G=V[0].data.items,H=void 0===G?[]:G,J=V[1],$=(0,g.Z)({}),Q=(0,i.Z)($,2),X=Q[0].data,ee=void 0===X?[]:X,te=Q[1],ae={attributes:f.cY.attributes},re=(0,u.K)(ae).queryParams,ie=x.cluster_id,oe=x.org_id,le=x.template_id,se=x.quick_date_range,ce=x.start_date,ue=x.end_date,de=Be({cluster_id:ie,org_id:oe,template_id:le,quick_date_range:se,start_date:ce,end_date:ue},Le),pe=Be({cluster_id:ie,org_id:oe,template_id:le,quick_date_range:se,start_date:ce,end_date:ue},Re),me=Be({cluster_id:ie,org_id:oe,template_id:le,quick_date_range:se,start_date:ce,end_date:ue},Ie);return(0,s.useEffect)((function(){function e(){return(e=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.YU)().catch((function(e){o({preflightError:e})}));case 2:te((0,m.VU)({params:re}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,s.useEffect)((function(){D((0,m.Ij)({params:x})),q((0,m.Ij)({params:de})),W((0,m.Ij)({params:pe})),J((0,m.wi)({params:me}))}),[x]),403===(null==r||null===(e=r.preflightError)||void 0===e?void 0:e.status)?c().createElement(y.Z,f.dR):c().createElement(c().Fragment,null,c().createElement(v.Z,null,c().createElement(E.Z,{title:"Clusters"}),c().createElement(Pe.Z,{categories:ee,filters:x,setFilters:T})),(r||C)&&c().createElement(h.Z,null,r?c().createElement(p.Z,r):c().createElement(ne.Z,{message:C.error})),!r&&!C&&c().createElement(h.Z,null,c().createElement(b.Card,null,c().createElement(b.CardTitle,null,c().createElement("h2",null,"Job status")),c().createElement(b.CardBody,null,j&&c().createElement(d.Z,null),x.cluster_id.length<=0&&S&&c().createElement(I,{margin:{top:20,right:20,bottom:50,left:70},id:"d3-bar-chart-root",data:P,queryParams:x}),x.cluster_id.length>0&&S&&c().createElement(A,{margin:{top:20,right:20,bottom:50,left:70},id:"d3-line-chart-root",data:P,queryParams:x}))),c().createElement("div",{className:"dataCard",style:{display:"flex",marginTop:"20px"}},c().createElement(Oe,{qp:x,templates:Y,isLoading:j,title:"Top workflows",jobType:"workflowjob"}),c().createElement(Oe,{qp:x,templates:F,isLoading:j,title:"Top templates",jobType:"job"}),c().createElement(K,{modules:H,isLoading:j}))))}},7945:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>$});var a,r,i,o,l,s=n(34699),c=n(96156),u=n(92950),d=n.n(u),p=n(45697),m=n.n(p),f=n(17563),g=n(53677),h=n(50590),y=n(20806),v=n(94794),E=n(2205),b=n(26249),_=n(83160),x=n(12613),T=n(22022),w=n(13784),k=n(86350),Z=n(27839),j=n(48716),S=n(39173),C=n(58788),O=n(87329),P=n(32465),D=n(29163),B=n(50470),L=n(79886),R=n(20272),I=["Id/Name","Status","Cluster","Organization","Type"],F=(0,D.ZP)(B.ZP)(a||(a=(0,P.Z)(["\n  margin-left: 7px;\n  color: var(--pf-global--Color--400);\n"]))),A=(0,D.ZP)(C.DataListCell)(r||(r=(0,P.Z)(["\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  text-align: center;\n"]))),q=(0,D.ZP)(A)(i||(i=(0,P.Z)(["\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  font-weight: bold;\n"]))),N=(0,D.ZP)(C.DataListItemCells)(o||(o=(0,P.Z)(["\n  align-items: center;\n"]))),z=(0,D.ZP)(C.DataListToggle)(l||(l=(0,P.Z)(["\n  align-items: center;\n"]))),M=765,Y=function(e){var t=e.jobs,n=(0,u.useState)(window.innerWidth),a=(0,s.Z)(n,2),r=a[0],i=a[1],o=function(){return i(window.innerWidth)};return(0,u.useEffect)((function(){return window.addEventListener("resize",o),function(){return window.removeEventListener("resize",o)}}),[]),function(e,t,n,a){var r=(0,u.useState)([]),i=(0,s.Z)(r,2),o=i[0],l=i[1];return d().createElement(d().Fragment,null,e.map((function(e,t){return d().createElement(C.DataListItem,{key:e.id.id,"aria-labelledby":n,isExpanded:o.includes("".concat(e.id.id,"-toggle"))},d().createElement(C.DataListItemRow,{key:e.id.id},d().createElement(z,{id:"".concat(e.id.id,"-toggle"),"aria-controls":"".concat(e.id.id,"-expand"),onClick:function(){return t="".concat(e.id.id,"-toggle"),r=(a=(n=o).indexOf(t))>=0?[].concat((0,O.Z)(n.slice(0,a)),(0,O.Z)(n.slice(a+1,n.length))):[].concat((0,O.Z)(n),[t]),void l(r);var t,n,a,r},isExpanded:o.includes("".concat(e.id.id,"-toggle"))}),d().createElement(N,{dataListCells:[d().createElement(A,{key:t++},d().createElement("a",{href:e.id.tower_link,target:"_blank",rel:"noopener noreferrer"},a<M&&d().createElement("span",{style:{color:"initial",fontWeight:"bold"}},"Id/Name",d().createElement(F,null),":")," ","".concat(e.id.id," - ").concat(e.id.template_name))),d().createElement(A,{key:t++},a<=M&&d().createElement("span",{style:{color:"initial",fontWeight:"bold"}},"Status:")," ",d().createElement(R.Z,{status:e.status})),d().createElement(C.Tooltip,{key:t++,content:d().createElement("p",null,e.cluster_name)},d().createElement(A,null,a<=M&&d().createElement("span",{style:{color:"initial",fontWeight:"bold"}},"Cluster:")," ",e.cluster_name)),d().createElement(A,{key:t++},a<=M&&d().createElement("span",{style:{color:"initial",fontWeight:"bold"}},"Organization:")," ",e.org_name),d().createElement(A,{key:t++},a<=M&&d().createElement("span",{style:{color:"initial",fontWeight:"bold"}},"Type:")," ",(0,L.GV)(e.job_type))]})),d().createElement(C.DataListContent,{"aria-label":"".concat(e.id.id,"-details"),id:"${item.id.id}",isHidden:!o.includes("".concat(e.id.id,"-toggle"))},d().createElement(N,{dataListCells:[d().createElement(A,{key:t++},"Created: ",(0,L.o0)(e.created)),d().createElement(A,{key:t++},"Started: ",(0,L.o0)(e.started)),d().createElement(A,{key:t++},"Finished: ",(0,L.o0)(e.finished))]})))})))}(t,0,"all-jobs",r)},W=function(e){var t,n=e.jobs,a=(0,u.useState)(window.innerWidth),r=(0,s.Z)(a,2),i=r[0],o=r[1],l=function(){return o(window.innerWidth)};return(0,u.useEffect)((function(){return window.addEventListener("resize",l),function(){return window.removeEventListener("resize",l)}}),[]),d().createElement(d().Fragment,null,n.length<=0&&d().createElement(v.Z,null),d().createElement(C.DataList,{isCompact:!0},i>=M&&(t=I,d().createElement(C.DataListItem,null,d().createElement(C.DataListItemRow,{style:{paddingLeft:"80px"}},d().createElement(N,{dataListCells:t.map((function(e){return d().createElement(q,{key:e},e,"Id/Name"===e&&d().createElement(F,null))}))})))),d().createElement(Y,{jobs:n,windowWidth:i})))};W.propTypes={jobs:m().array,windowWidth:m().number},Y.propTypes={jobs:m().array,windowWidth:m().number};const U=W;var V=n(13090);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=H(H({},w.cY.defaultParams),{},{attributes:w.cY.attributes}),J=function(e){var t,n=e.location.search,a=e.history,r=(0,u.useState)(null),i=(0,s.Z)(r,2),o=i[0],l=i[1],c=(0,h.Z)({meta:{},items:[]}),p=(0,s.Z)(c,2),m=p[0],O=m.isLoading,P=m.isSuccess,D=m.error,B=m.data,L=B.meta,R=void 0===L?{}:L,I=B.items,F=void 0===I?[]:I,A=p[1],q=(0,h.Z)({}),N=(0,s.Z)(q,2),z=N[0],M=N[1],Y=(0,g.K)(K),W=Y.queryParams,G=Y.setFromPagination,J=Y.setFromToolbar,$=Y.dispatch;return(0,u.useEffect)((function(){insights.chrome.appNavClick({id:"job-explorer",secondaryNav:!0}),(0,T.YU)().catch((function(e){l({preflightError:e})}));var e=(0,f.parse)(n,{arrayFormat:"bracket",parseBooleans:!0,parseNumbers:!0});$({type:"REINITIALIZE",value:H(H({},K),e)})}),[]),(0,u.useEffect)((function(){A((0,T.Ij)({params:W})),M((0,T.ZW)({params:W})),function(){var e=y.n.jobExplorer,t=(0,f.stringify)(W,{arrayFormat:"bracket"});a.replace({pathname:e,search:t})}()}),[W]),403===(null==o||null===(t=o.preflightError)||void 0===t?void 0:t.status)?d().createElement(Z.Z,w.dR):d().createElement(d().Fragment,null,d().createElement(j.Z,null,d().createElement(S.Z,{title:"Job Explorer"})),o&&d().createElement(k.Z,null,d().createElement(E.Z,o)),!o&&d().createElement(k.Z,null,d().createElement(C.Card,null,d().createElement(C.CardBody,null,d().createElement(V.Z,{categories:z.data,filters:W,setFilters:J,pagination:d().createElement(x.Z,{count:null==R?void 0:R.count,params:{limit:W.limit,offset:W.offset},setPagination:G,isCompact:!0}),hasSettings:!0}),D&&d().createElement(_.Z,{message:D.error}),O&&d().createElement(v.Z,null),P&&F.length<=0&&d().createElement(b.Z,null),P&&F.length>0&&d().createElement(U,{jobs:F}),d().createElement(x.Z,{count:null==R?void 0:R.count,params:{limit:W.limit,offset:W.offset},setPagination:G,variant:C.PaginationVariant.bottom})))))};J.propTypes={location:m().object,history:m().object};const $=J},24704:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>K});var a,r,i,o=n(92137),l=n(34699),s=n(32465),c=n(87757),u=n.n(c),d=n(92950),p=n.n(d),m=n(53677),f=n(29163),g=n(94794),h=n(2205),y=n(97853),v=n(22022),E=n(86350),b=n(27839),_=n(48716),x=n(39173),T=n(13784),w=n(58788),k=n(45697),Z=n.n(k),j=n(30381),S=n.n(j),C=n(50470),O=n(79886),P=(0,f.ZP)(C.ZP)(a||(a=(0,s.Z)(["\n  margin-left: 7px;\n  color: var(--pf-global--Color--400);\n  font-size: 14px;\n"]))),D=(0,f.ZP)(w.NotificationDrawerListItem)(r||(r=(0,s.Z)(["\n  border-top: 1px solid var(--pf-global--BorderColor--light-100\n    );\n  border-bottom::nth-child(odd): 1px solid var(--pf-global--BorderColor--light-100\n    );\n  box-shadow: none;\n  &:focus {\n    outline: none;\n  }\n"]))),B=(0,f.ZP)(w.NotificationDrawerList)(i||(i=(0,s.Z)(["\n  &:last-child {\n    border-bottom: 1px solid var(--pf-global--BorderColor--light-100);\n  }\n"]))),L=function(e){var t=S()(e),n=S()().utc();return n.isAfter(t)?"".concat(n.diff(t,"days")," day(s) ago."):t.isSame(n,"day")?t.valueOf()>36e5?"".concat(t.diff(n,"hours")," hour(s) ago."):"".concat(n.diff(t,"minutes")," minute(s) ago."):void 0},R=function(e){return e.notifications.map((function(e){var t=e.date,n=e.message,a=e.label,r=e.notification_id,i=e.tower_url;return""===a||"notice"===a?p().createElement(D,{variant:"info",key:t+"-"+r},p().createElement(w.NotificationDrawerListItemHeader,{variant:"info",title:p().createElement(p().Fragment,null,i?p().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:i},(0,O.kC)(a),p().createElement(P,null)):(0,O.kC)(a))}),p().createElement(w.NotificationDrawerListItemBody,null,n," ")):"error"===a?p().createElement(D,{variant:"danger",key:t+"-"+r},p().createElement(w.NotificationDrawerListItemHeader,{variant:"danger",title:p().createElement(p().Fragment,null,i?p().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:i},(0,O.kC)(a),p().createElement(P,null)):(0,O.kC)(a))}),p().createElement(w.NotificationDrawerListItemBody,{timestamp:L(t)},n," ")):"warning"===a?p().createElement(D,{variant:"warning",key:t+"-"+r},p().createElement(w.NotificationDrawerListItemHeader,{variant:"warning",title:p().createElement(p().Fragment,null,i?p().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:i},(0,O.kC)(a),p().createElement(P,null)):(0,O.kC)(a))}),p().createElement(w.NotificationDrawerListItemBody,{timestamp:L(t)},n," ")):void 0}))},I=function(e){return e.notifications.filter((function(e){return"error"===e.label})).map((function(e){var t=e.message,n=e.date,a=e.label,r=e.notification_id,i=e.tower_url;return p().createElement(D,{variant:"danger",key:n+"-"+r},p().createElement(w.NotificationDrawerListItemHeader,{variant:"danger",title:p().createElement(p().Fragment,null,i?p().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:i},(0,O.kC)(a),p().createElement(P,null)):(0,O.kC)(a))}),p().createElement(w.NotificationDrawerListItemBody,{timestamp:L(n)},t," "))}))},F=function(e){return e.notifications.filter((function(e){return"notice"===e.label})).map((function(e){var t=e.message,n=e.date,a=e.label,r=e.notification_id,i=e.tower_url;return p().createElement(D,{variant:"info",key:n+"-"+r},p().createElement(w.NotificationDrawerListItemHeader,{variant:"info",title:p().createElement(p().Fragment,null,i?p().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:i},(0,O.kC)(a),p().createElement(P,null)):(0,O.kC)(a))}),p().createElement(w.NotificationDrawerListItemBody,{timestamp:L(n)},t," "))}))},A=function(e){return e.notifications.filter((function(e){return"warning"===e.label})).map((function(e){var t=e.message,n=e.date,a=e.label,r=e.notification_id,i=e.tower_url;return p().createElement(D,{variant:"warning",key:n+"-"+r},p().createElement(w.NotificationDrawerListItemHeader,{variant:"warning",title:p().createElement(p().Fragment,null,i?p().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:i},(0,O.kC)(a),p().createElement(P,null)):(0,O.kC)(a))}),p().createElement(w.NotificationDrawerListItemBody,{timestamp:L(n)},t," "))}))},q=function(e){var t=e.filterBy,n=e.notifications;return p().createElement(p().Fragment,null,p().createElement(B,null,n.length<=0&&p().createElement(g.Z,null),""===t&&p().createElement(R,{notifications:n}),"notice"===t&&p().createElement(F,{notifications:n}),"error"===t&&p().createElement(I,{notifications:n}),"warning"===t&&p().createElement(A,{notifications:n})))};R.propTypes={notifications:Z().array},I.propTypes={notifications:Z().array},A.propTypes={notifications:Z().array},q.propTypes={notifications:Z().array,filterBy:Z().string};const N=q;var z,M,Y=n(12613),W=(0,f.ZP)(w.CardTitle)(z||(z=(0,s.Z)(["\n  display: flex;\n  justify-content: space-between;\n\n  @media screen and (max-width: 1035px) {\n    display: block;\n  }\n"]))),U=f.ZP.div(M||(M=(0,s.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n\n  @media screen and (max-width: 1035px) {\n    display: block;\n  }\n\n  select {\n    margin: 0 10px;\n    width: 150px;\n\n    @media screen and (max-width: 1035px) {\n      margin: 10px 10px 0 0;\n    }\n\n    @media screen and (max-width: 865px) {\n      width: 100%;\n    }\n  }\n"]))),V=[{value:"please choose",label:"Select Notification Severity",disabled:!0},{value:"error",label:"View Critical",disabled:!1},{value:"warning",label:"View Warning",disabled:!1},{value:"notice",label:"View Notice",disabled:!1},{value:"",label:"View All",disabled:!1}];function G(e){return e.reduce((function(e,t){var n=t.label,a=t.cluster_id,r=t.install_uuid;return 0===n.length?e.push({value:a,label:r,disabled:!1}):e.push({value:a,label:n,disabled:!1}),e}),[{value:"please choose",label:"Select cluster",disabled:!0},{value:"",label:"All Clusters",disabled:!1},{value:-1,label:"Unassociated",disabled:!1}])}var H={limit:5,offset:0};const K=function(){var e,t=(0,d.useState)(null),n=(0,l.Z)(t,2),a=n[0],r=n[1],i=(0,d.useState)([]),s=(0,l.Z)(i,2),c=s[0],f=s[1],k=(0,d.useState)([]),Z=(0,l.Z)(k,2),j=Z[0],S=Z[1],C=(0,d.useState)(""),O=(0,l.Z)(C,2),P=O[0],D=O[1],B=(0,d.useState)(!0),L=(0,l.Z)(B,2),R=L[0],I=L[1],F=(0,d.useState)(!0),A=(0,l.Z)(F,2),q=A[0],z=A[1],M=(0,d.useState)({}),K=(0,l.Z)(M,2),J=K[0],$=K[1],Q=(0,m.K)(H),X=Q.queryParams,ee=Q.setId,te=Q.setFromPagination,ne=Q.setSeverity;return(0,d.useEffect)((function(){R||(z(!0),(0,v.A7)({params:X}).then((function(e){var t=e.notifications,n=void 0===t?[]:t,a=e.meta;f(n),$(a),z(!1)})))}),[X]),(0,d.useEffect)((function(){insights.chrome.appNavClick({id:"notifications",secondaryNav:!0});var e=!1,t=function(){return Promise.all([(0,v.hD)(),(0,v.A7)({params:X})].map((function(e){return e.catch((function(){return[]}))})))};function n(){return(n=(0,o.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return z(!0),n.next=3,(0,v.YU)().catch((function(e){r({preflightError:e})}));case 3:t().then((function(t){var n=(0,l.Z)(t,2),a=n[0].templates,r=void 0===a?[]:a,i=n[1],o=i.notifications,s=void 0===o?[]:o,c=i.meta;if(!e){var u=G(r);S(u),f(s),$(c),I(!1),z(!1)}}));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){return e=!0}}),[]),403===(null==a||null===(e=a.preflightError)||void 0===e?void 0:e.status)?p().createElement(b.Z,T.dR):p().createElement(p().Fragment,null,p().createElement(_.Z,null,p().createElement(x.Z,{title:"Notifications"})),a&&p().createElement(E.Z,null,p().createElement(h.Z,a)),!a&&p().createElement(p().Fragment,null,p().createElement(E.Z,null,p().createElement(w.Card,null,p().createElement(W,null,p().createElement(U,null,p().createElement(w.FormSelect,{name:"selectedCluster",value:P,onChange:function(e){D(e),ee(e),te(0)},"aria-label":"Select Cluster"},j.map((function(e,t){var n=e.value,a=e.label,r=e.disabled;return p().createElement(w.FormSelectOption,{isDisabled:r,key:t,value:n,label:a})}))),p().createElement(w.FormSelect,{name:"selectedNotification",value:X.severity||"",onChange:function(e){ne(e),te(0)},"aria-label":"Select Notification Type"},V.map((function(e,t){var n=e.disabled,a=e.value,r=e.label;return p().createElement(w.FormSelectOption,{isDisabled:n,key:t,value:a,label:r})})))),p().createElement(Y.Z,{count:null==J?void 0:J.count,params:{limit:X.limit,offset:X.offset},setPagination:te,isCompact:!0})),p().createElement(w.CardBody,null,q&&p().createElement(g.Z,null),!q&&c.length<=0&&p().createElement(y.Z,null),!q&&c.length>0&&p().createElement(w.NotificationDrawer,null,p().createElement(N,{filterBy:X.severity||"",options:V,notifications:c})),p().createElement(Y.Z,{count:null==J?void 0:J.count,params:{limit:X.limit,offset:X.offset},setPagination:te,variant:w.PaginationVariant.bottom}))))))}},15691:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_e});var a,r,i,o,l,s,c=n(34699),u=n(81253),d=n(96156),p=n(32465),m=n(92950),f=n.n(m),g=n(45697),h=n.n(g),y=n(29163),v=n(53677),E=n(50590),b=n(14115),_=n(79886),x=n(94794),T=n(97853),w=n(2205),k=n(83160),Z=n(22022),j=n(86350),S=n(27839),C=n(48716),O=n(39173),P=n(13784),D=n(58788),B=n(87329),L=n(25914),R=n(87986),I=y.ZP.div(a||(a=(0,p.Z)(["\n  margin-top: 20px;\n  margin-bottom: 20px;\n  overflow: auto;\n  width: 100%;\n  height: ",";\n"])),(function(e){return e.height})),F=y.ZP.div(r||(r=(0,p.Z)(["\n  display: flex;\n  padding: 7.5px 15px;\n  align-items: center;\n  justify-content: space-between;\n"]))),A=y.ZP.div(i||(i=(0,p.Z)(["\n  display: flex;\n  align-items: center;\n  overflow: auto;\n"]))),q=y.ZP.div.attrs((function(e){return{color:e.color||"black"}}))(o||(o=(0,p.Z)(["\n  min-width: 12px;\n  height: 12px;\n  background: ",";\n  margin-right: 20px;\n"])),(function(e){return e.color})),N=y.ZP.span(l||(l=(0,p.Z)(["\n  font-size: 15px;\n  display: inline-block;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: left;\n"]))),z=y.ZP.span(s||(s=(0,p.Z)(["\n  font-size: 15px;\n  margin-left: auto;\n  margin-right: 0;\n  padding-right: 10px;\n"]))),M=function(e){var t=e.data,n=e.selected,a=e.height,r=e.onToggle,i=e.chartName;return f().createElement(I,{height:a},t.map((function(e,t){var a=e.name,o=e.value,l=e.id,s=e.count;return f().createElement(F,{key:t},f().createElement(A,null,f().createElement(q,{color:o}),f().createElement(N,null,a)),s&&f().createElement(z,null,s),n&&f().createElement(D.Switch,{isChecked:n.some((function(e){return e===l})),onChange:function(){return r(l)},"aria-label":"".concat(i,"-").concat(a),value:l,key:t}))})))};M.propTypes={data:h().array.isRequired,selected:h().array.isRequired,onToggle:h().func.isRequired,height:h().string.isRequired,chartName:h().string.isRequired};const Y=M;var W,U=["onClick","TooltipClass","legend"],V=y.ZP.div(W||(W=(0,p.Z)(["\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: nowrap;\n  flex-shrink: 0;\n"]))),G=function(e){var t=e.split("-");return"".concat(t[1],"/").concat(t[2])},H=function(e){var t=e.onClick,n=void 0===t?null:t,a=e.TooltipClass,r=e.legend,i=(0,u.Z)(e,U),o=r.map((function(e){var t=e.id;return{name:e.name,value:i.colorFunc(t),id:t}})),l=(0,m.useState)(r.map((function(e){return e.id})).slice(0,8)),s=(0,c.Z)(l,2),d=s[0],p=s[1],g=null,h=function(){L.td_("#"+i.id+" > *").remove();var e=i.data.reduce((function(e,t){var n=t.date,a=t.items.filter((function(e){var t=e.id;return d.includes(t)}));return e.concat({date:n,selectedOrgs:a})}),[]),t=i.getWidth(),r=i.getHeight(),o=L.tiA().range([0,t]).padding(.35),l=L.tiA(),s=L.BYU().range([r,0]),c=Math.round(e.length/(e.length/2)),u=Math.round(e.length/(e.length/4)),p=e.map((function(e){return e.date}));e.length>14&&(p=e.map((function(t,n){return n%(e.length>31?u:c)==0?t.date:void 0})).filter((function(e){return e})));var m=L.LLu(o).tickValues(p).tickFormat(G),f=L.y4O(s).ticks(8).tickSize(-t,0,0),g=L.Ys("#"+i.id).append("svg").attr("width",t+i.margin.left+i.margin.right).attr("height",r+i.margin.bottom+i.margin.top).append("g").attr("transform","translate("+i.margin.left+","+i.margin.top+")"),h=e.map((function(e){return e.date})),y=new a({svg:"#"+i.id});o.domain(h),l.domain(d).range([0,o.bandwidth()]),s.domain([0,L.Fp7(e,(function(e){return L.Fp7(e.selectedOrgs,(function(e){return 1.15*e.value}))}))||8]),g.append("g").attr("class","y axis").call(f).selectAll("line").attr("stroke","#d7d7d7").append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").style("font-weight","bold").text("Value"),g.append("text").attr("transform","rotate(-90)").attr("y",0-i.margin.left).attr("x",0-r/2).attr("dy","1em").style("text-anchor","middle").text(i.yLabel),g.append("g").attr("class","x axis").attr("transform","translate(0,"+r+")").call(m).selectAll("line").attr("stroke","#d7d7d7"),g.append("text").attr("transform","translate("+t/2+" ,"+(r+i.margin.top+25)+")").style("text-anchor","middle").text("Date");var v=g.selectAll(".slice").data(e);v.exit().remove();var E=v.enter().append("g").attr("class","g foo").attr("transform",(function(e){return"translate("+o(e.date)+",0)"})),b=(v=v.merge(E)).selectAll("rect").data((function(e){return e.selectedOrgs}));b.exit().remove();var _=i.colorFunc,x=b.enter().append("rect").attr("width",l.bandwidth()).attr("x",(function(e){return l(e.id)})).style("fill",(function(e){return _(e.id)})).attr("y",(function(e){return s(e.value)})).attr("height",(function(e){return r-s(e.value)})).on("mouseover",(function(e){e.moreDetail=!e.name.endsWith("Others"),L.Ys(this).style("cursor",n&&e.moreDetail?"pointer":"default"),L.Ys(this).style("fill",L.B8C(_(e.id)).darker(1)),y.handleMouseOver(e)})).on("mousemove",y.handleMouseOver).on("mouseout",(function(e){L.Ys(this).style("fill",_(e.id)),y.handleMouseOut()})).on("click",n);b=b.merge(x)},y=function(){clearTimeout(g),g=setTimeout((function(){h()}),500)};return(0,m.useEffect)((function(){return h(),window.addEventListener("resize",y),function(){clearTimeout(g),window.removeEventListener("resize",y)}}),[]),(0,m.useEffect)((function(){h()}),[i.data,d]),f().createElement(V,null,f().createElement("div",{id:i.id}),o.length>0&&f().createElement(Y,{id:"".concat(i.id,"-legend"),data:o,selected:d,onToggle:function(e){d.includes(e)?p(d.filter((function(t){return t!==e}))):p([].concat((0,B.Z)(d),[e]))},height:"350px",chartName:"".concat(i.id,"-legend")}))};H.propTypes={id:h().string,data:h().array,legend:h().array,margin:h().object,getHeight:h().func,getWidth:h().func,colorFunc:h().func,yLabel:h().string,onClick:h().func,TooltipClass:h().any.isRequired},H.defaultProps={legend:[]};const K=(0,R.Z)(H);var J,$=n(6610),Q=n(5991),X=function(e){var t=e.split("-");return"".concat(t[1],"/").concat(t[2])},ee=function(){function e(t){var n=this;(0,$.Z)(this,e),(0,d.Z)(this,"handleMouseOver",(function(e){var t,a,r,i=L.Ba6.pageX-L.Ys(n.svg).node().getBoundingClientRect().x+10,o=L.Ba6.pageY-L.Ys(n.svg).node().getBoundingClientRect().y-10;if(e){t=e.date,a=e.name,r=e.value,e.name.length>16&&(a=e.name.slice(0,16).concat("...")),e.moreDetail?(n.boundingBox.attr("height",68),n.boundingBox.attr("y",-23),n.date.attr("y",14),n.jobs.attr("y",14),n.orgName.attr("y",-1),n.clickMore.text("Click for details")):(n.boundingBox.attr("height",50),n.boundingBox.attr("y",-12),n.date.attr("y",25),n.jobs.attr("y",25),n.orgName.attr("y",10),n.clickMore.text(""));var l=X,s=n.toolTipBase.node().getBoundingClientRect().width,c=L.Ys(n.svg+"> svg").node().getBoundingClientRect().width,u=100-s/c*100<i/c*100;n.date.text(""+l(t)),n.orgName.text(""+a),n.jobs.text(r+" Jobs"),n.jobsWidth=n.jobs.node().getComputedTextLength();var d,p=n.jobsWidth/n.boxWidth*100,m=p/45;d=p>45?n.boxWidth*m:n.boxWidth,n.boundingBox.attr("width",d),n.toolTipBase.attr("transform","translate("+i+","+o+")"),u?(n.toolTipPoint.attr("transform","translate(-20, 0) rotate(45)"),n.boundingBox.attr("x",-d-20),n.jobs.attr("x",-n.jobsWidth-20-7),n.orgName.attr("x",-d-7),n.date.attr("x",-d-7),n.clickMore.attr("x",-d-7)):(n.toolTipPoint.attr("transform","translate(10, 0) rotate(45)"),n.boundingBox.attr("x",10),n.orgName.attr("x",20),n.jobs.attr("x",d/2),n.date.attr("x",20),n.clickMore.attr("x",20)),n.toolTipBase.style("opacity",1),n.toolTipBase.interrupt()}})),(0,d.Z)(this,"handleMouseOut",(function(){n.toolTipBase.transition().delay(15).style("opacity",0).style("pointer-events","none")})),this.svg=t.svg,this.draw()}return(0,Q.Z)(e,[{key:"draw",value:function(){this.width=125,this.toolTipBase=L.Ys(this.svg+"> svg").append("g"),this.toolTipBase.attr("id","svg-chart-Tooltip.base-"+this.svg.slice(1)),this.toolTipBase.attr("overflow","visible"),this.toolTipBase.style("opacity",0),this.toolTipBase.style("pointer-events","none"),this.toolTipBase.attr("transform","translate(100, 100)"),this.boxWidth=125,this.textWidthThreshold=20,this.toolTipPoint=this.toolTipBase.append("rect").attr("transform","translate(10, -10) rotate(45)").attr("x",0).attr("y",0).attr("height",20).attr("width",20).attr("fill","#393f44"),this.boundingBox=this.toolTipBase.append("rect").attr("x",10).attr("y",-12).attr("rx",2).attr("height",50).attr("width",this.boxWidth).attr("fill","#393f44"),this.date=this.toolTipBase.append("text").attr("x",20).attr("y",25).attr("font-size",12).attr("fill","white").text("Date"),this.jobs=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",72).attr("y",25).text("0 Jobs"),this.orgName=this.toolTipBase.append("text").attr("fill","white").attr("font-weight",800).attr("x",20).attr("y",10).attr("font-size",12).text("Org"),this.clickMore=this.toolTipBase.append("text").attr("fill","white").attr("x",20).attr("y",30).attr("font-size",12).text("")}}]),e}(),te=function(e){var t=e.split("-");return"".concat(t[1],"/").concat(t[2])},ne=function(){function e(t){var n=this;(0,$.Z)(this,e),(0,d.Z)(this,"handleMouseOver",(function(e){var t,a,r,i=L.Ba6.pageX-L.Ys(n.svg).node().getBoundingClientRect().x+10,o=L.Ba6.pageY-L.Ys(n.svg).node().getBoundingClientRect().y-10;if(e){t=e.date,a=e.name,r=e.value,e.name.length>16&&(a=e.name.slice(0,16).concat("..."));var l=te,s=n.toolTipBase.node().getBoundingClientRect().width,c=L.Ys(n.svg+"> svg").node().getBoundingClientRect().width,u=100-s/c*100<i/c*100;n.date.text(""+l(t)),n.orgName.text(""+a),n.jobs.text(r+" Hosts"),n.jobsWidth=n.jobs.node().getComputedTextLength();var d,p=n.jobsWidth/n.boxWidth*100,m=p/45;d=p>45?n.boxWidth*m:n.boxWidth,n.boundingBox.attr("width",d),n.toolTipBase.attr("transform","translate("+i+","+o+")"),u?(n.toolTipPoint.attr("transform","translate(-20, 0) rotate(45)"),n.boundingBox.attr("x",-d-20),n.jobs.attr("x",-n.jobsWidth-20-7),n.orgName.attr("x",-d-7),n.date.attr("x",-d-7)):(n.toolTipPoint.attr("transform","translate(10, 0) rotate(45)"),n.boundingBox.attr("x",10),n.orgName.attr("x",20),n.jobs.attr("x",d/2),n.date.attr("x",20)),n.toolTipBase.style("opacity",1),n.toolTipBase.interrupt()}})),(0,d.Z)(this,"handleMouseOut",(function(){n.toolTipBase.transition().delay(15).style("opacity",0).style("pointer-events","none")})),this.svg=t.svg,this.draw()}return(0,Q.Z)(e,[{key:"draw",value:function(){this.width=125,this.toolTipBase=L.Ys(this.svg+"> svg").append("g"),this.toolTipBase.attr("id","svg-chart-Tooltip.base-"+this.svg.slice(1)),this.toolTipBase.attr("overflow","visible"),this.toolTipBase.style("opacity",0),this.toolTipBase.style("pointer-events","none"),this.toolTipBase.attr("transform","translate(100, 100)"),this.boxWidth=125,this.textWidthThreshold=20,this.toolTipPoint=this.toolTipBase.append("rect").attr("transform","translate(10, -10) rotate(45)").attr("x",0).attr("y",0).attr("height",20).attr("width",20).attr("fill","#393f44"),this.boundingBox=this.toolTipBase.append("rect").attr("x",10).attr("y",-12).attr("rx",2).attr("height",50).attr("width",this.boxWidth).attr("fill","#393f44"),this.date=this.toolTipBase.append("text").attr("x",20).attr("y",25).attr("font-size",12).attr("fill","white").text("Date"),this.jobs=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",72).attr("y",25).text("0 Jobs"),this.orgName=this.toolTipBase.append("text").attr("fill","white").attr("font-weight",800).attr("x",20).attr("y",10).attr("font-size",12).text("Org")}}]),e}(),ae=y.ZP.div(J||(J=(0,p.Z)(["\n  display: flex;\n  flex-wrap: nowrap;\n  flex-shrink: 0;\n"]))),re=function(){function e(t){var n=this;(0,$.Z)(this,e),(0,d.Z)(this,"handleMouseOver",(function(e){var t,a,r;!0!==n.drawn&&(n.draw(e),n.drawn=!0);var i=L.Ba6.pageX-L.Ys(n.svg).node().getBoundingClientRect().x+10,o=L.Ba6.pageY-L.Ys(n.svg).node().getBoundingClientRect().y-10;if(e){e&&e.data&&(t=e.data.percent,a=e.data.success_rate,r=e.data.name,e.data.name.length>16&&(r=e.data.name.slice(0,13).concat("...")));var l=n.toolTipBase.node().getBoundingClientRect().width,s=L.Ys(n.svg+"> svg").node().getBoundingClientRect().width,c=100-l/s*100<i/s*100;n.percentageTotal.text(t+"%"),a&&n.percentageSuccess&&n.percentageSuccess.text("("+a+"% successful)"),n.orgName.text(" "+r),n.toolTipBase.attr("transform","translate("+i+","+o+")"),c?(n.toolTipPoint.attr("transform","translate(-20, -10) rotate(45)"),n.boundingBOx.attr("x",-125),n.orgName.attr("x",-112),n.percentageTotal.attr("x",-112),n.showSuccess&&n.percentageSuccess.attr("x",-112)):(n.toolTipPoint.attr("transform","translate(10, -10) rotate(45)"),n.boundingBOx.attr("x",10),n.orgName.attr("x",20),n.percentageTotal.attr("x",20),n.showSuccess&&n.percentageSuccess.attr("x",20)),n.toolTipBase.style("opacity",1),n.toolTipBase.interrupt()}})),(0,d.Z)(this,"handleMouseOut",(function(){n.toolTipBase.transition().delay(15).style("opacity",0).style("pointer-events","none")})),this.svg=t.svg,this.drawn=!1,this.showSuccess=!1}return(0,Q.Z)(e,[{key:"draw",value:function(e){this.showSuccess=!!(e&&e.data&&"success_rate"in e.data);var t=this.showSuccess?70:52,n=this.showSuccess?120:108;this.toolTipBase=L.Ys(this.svg+"> svg").append("g"),this.toolTipBase.attr("id","svg-chart-Tooltip.base-"+this.svg.slice(1)),this.toolTipBase.attr("overflow","visible"),this.toolTipBase.style("opacity",0),this.toolTipBase.style("pointer-events","none"),this.toolTipBase.attr("transform","translate(100, 100)"),this.toolTipPoint=this.toolTipBase.append("rect").attr("transform","translate(10, -10) rotate(45)").attr("x",0).attr("y",0).attr("height",20).attr("width",20).attr("fill","#393f44"),this.boundingBOx=this.toolTipBase.append("rect").attr("x",10).attr("y",-23).attr("rx",2).attr("height",t).attr("width",n).attr("fill","#393f44"),this.orgName=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("font-weight",800).attr("x",20).attr("y",0).text("Organization"),this.percentageTotal=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("font-weight",800).attr("x",20).attr("y",16).text("0"),this.percentageSuccess=null,this.showSuccess&&(this.percentageSuccess=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("font-weight",800).attr("x",20).attr("y",30).text(""))}}]),e}(),ie=function(e){var t=e.data,n=e.id,a=e.colorFunc,r=e.margin,i=e.getWidth,o=e.getHeight,l=t.map((function(e){var t=e.id,n=e.name,r=e.count;return{id:t,name:n,value:a(t),count:Math.round(r)}})).sort((function(e,t){return e.count>t.count?1:t.count>e.count?-1:0})),s=(0,m.useState)(t.map((function(e){return e.id})).slice(0,8)),u=(0,c.Z)(s,2),d=u[0],p=u[1],g=null,h=function(){L.td_("#"+n+" > *").remove();var e=i(),l=o(),s=L.Ys("#"+n).append("svg").attr("width",e+r.left+r.right).attr("height",l+r.bottom).append("g");s.append("g").attr("class","slices"),s.append("g").attr("class","labels"),s.append("g").attr("class","lines");var c=Math.min(e,l)/2,u=t.filter((function(e){var t=e.id;return d.includes(t)})),p=(0,_.NU)(u);u.forEach((function(e){e.count=+e.count,e.percent=+Math.round(e.count/p*100)}));var m=new re({svg:"#"+n}),f=L.ve8().sort(null).value((function(e){return e.count})),g=L.Nb1().outerRadius(c-10).innerRadius(0);s.attr("transform","translate("+(e+r.left+r.right)/2+","+(l+r.top+r.bottom)/2+")"),s.selectAll("path").data(f(u)).enter().append("path").attr("d",g).attr("fill",(function(e){return a(e.data.id)})),s.selectAll("path").on("mouseover",(function(e){L.Ys(this).style("fill",L.B8C(a(e.data.id)).darker(1)),m.handleMouseOver(e)})).on("mouseout",(function(e){L.Ys(this).style("fill",a(e.data.id)),m.handleMouseOut()})).on("mousemove",m.handleMouseOver),s.append("g").classed("labels",!0),s.append("g").classed("lines",!0)},y=function(){clearTimeout(g),g=setTimeout((function(){h()}),500)};return(0,m.useEffect)((function(){return h(),window.addEventListener("resize",y),function(){clearTimeout(g),window.removeEventListener("resize",y)}}),[]),(0,m.useEffect)((function(){h()}),[t,d]),f().createElement(ae,null,f().createElement("div",{id:n}),l.length>0&&f().createElement(Y,{id:"".concat(n,"-legend"),data:l,selected:d,onToggle:function(e){d.includes(e)?p(d.filter((function(t){return t!==e}))):p([].concat((0,B.Z)(d),[e]))},height:"300px",chartName:"".concat(n,"-legend")}))};ie.propTypes={id:h().string,data:h().array,margin:h().object,getHeight:h().func,getWidth:h().func,colorFunc:h().func};const oe=(0,R.Z)(ie);var le,se,ce,ue=n(13090),de=["sort_by"];function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe=(0,y.ZP)(D.CardTitle)(le||(le=(0,p.Z)(["\n  border-bottom: 2px solid #ebebeb;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  &&& {\n    min-height: 60px;\n    --pf-c-card--first-child--PaddingTop: 10px;\n    --pf-c-card__header--not-last-child--PaddingBottom: 10px;\n\n    h3 {\n      font-size: 0.875em;\n    }\n  }\n"]))),ge=y.ZP.div(se||(se=(0,p.Z)(["\n  display: flex;\n  overflow: hidden;\n\n  .pf-c-card {\n    width: 50%;\n    margin-top: 20px;\n    overflow: auto;\n  }\n\n  .pf-c-card:first-of-type {\n    margin-right: 20px;\n  }\n"]))),he=(0,y.ZP)(D.Card)(ce||(ce=(0,p.Z)(["\n  min-height: 500px;\n"]))),ye=(0,L.PKp)(["#06C","#4CB140","#009596","#5752D1","#F4C145","#EC7A08","#8BC1F7","#23511E","#A2D9D9","#2A265F","#F9E0A2","#8F4700","#002F5D"]),ve=function(e){return function(t){var n=t.items;return(void 0===n?[]:n).map((function(t){return{id:t.id,count:t[e],name:t.name||"No organization"}}))}},Ee=[{api:Z.Ij,attr:"total_count",label:"Jobs across organizations",onClick:function(e,t){return function(n){var a=n.date,r=n.id;if(-1!==r){t.sort_by;var i=(0,u.Z)(t,de),o=(0,_.p6)(a),l=me(me({},i),{},{quick_date_range:"custom",start_date:o,end_date:o,status:["successful","failed","new","pending","waiting","error","canceled","running"],org_id:[r]});e(l)}}},tooltip:ee},{api:Z.og,attr:"total_unique_host_count",label:"Hosts across organizations",onClick:function(){return null},tooltip:ne}],be=function(e){var t,n,a,r,i=e.history,o=(0,b.Z)(i,"jobExplorer"),l=(0,E.Z)(null),s=(0,c.Z)(l,2),u=s[0],d=s[1],p=(0,m.useState)(0),g=(0,c.Z)(p,2),h=g[0],y=g[1],_=(0,E.Z)([],(r=Ee[h].attr,function(e){var t=e.dates,n=void 0===t?[]:t,a=e.meta;return{data:n.map((function(e){var t=e.date,n=e.items;return{date:t,items:n.map((function(e){var n=e.id,a=e[r],i=e.name;return{id:n,date:t,value:a,name:i||"No organization"}}))}})),legend:a.legend.map((function(e){return me(me({},e),{},{name:e.name||"No organization"})}))}})),B=(0,c.Z)(_,2),L=B[0],R=B[1],I=(0,E.Z)([],ve("total_count")),F=(0,c.Z)(I,2),A=F[0],q=F[1],N=(0,E.Z)([],ve("host_task_count")),z=(0,c.Z)(N,2),M=z[0],Y=z[1],W=(0,E.Z)({}),U=(0,c.Z)(W,2),V=U[0],G=U[1],H=(0,v.K)(P.wC.defaultParams),J=H.queryParams,$=H.setFromToolbar,Q=me(me({},J),{},{attributes:["host_task_count"],group_by:"org",include_others:!0,sort_by:"host_task_count:desc"}),X=me(me({},J),{},{attributes:["total_count"],group_by:"org",include_others:!0,sort_by:"total_count:desc"}),ee=me(me({},J),{},{attributes:["total_count"],group_by:"org",group_by_time:!0,sort_by:"total_count:desc"}),te=me(me({},J),{},{attributes:["total_unique_host_count"],group_by:"org",group_by_time:!0,sort_by:"host_task_count:desc"});return(0,m.useEffect)((function(){insights.chrome.appNavClick({id:"organization-statistics",secondaryNav:!0}),d((0,Z.YU)()),G((0,Z.wp)({params:J}))}),[]),(0,m.useEffect)((function(){var e=Ee[h].api;R(e({params:0===h?ee:te}))}),[J,h]),(0,m.useEffect)((function(){q((0,Z.Ij)({params:X})),Y((0,Z.Ij)({params:Q}))}),[J]),403===(null==u||null===(t=u.error)||void 0===t?void 0:t.status)?f().createElement(S.Z,P.dR):f().createElement(f().Fragment,null,f().createElement(C.Z,null,f().createElement(O.Z,{title:"Organization Statistics"}),f().createElement(ue.Z,{categories:V.data,filters:J,setFilters:$})),u.error&&f().createElement(j.Z,null,f().createElement(w.Z,{preflightError:u.error})),u.isSuccess&&f().createElement(f().Fragment,null,f().createElement(j.Z,null,f().createElement(he,null,f().createElement(D.Tabs,{activeKey:h,onSelect:function(e,t){y(t)}},f().createElement(D.Tab,{eventKey:0,title:"Jobs"}),f().createElement(D.Tab,{eventKey:1,title:"Hosts"})),f().createElement(D.CardBody,null,L.isLoading&&f().createElement(x.Z,null),L.error&&f().createElement(k.Z,{message:L.error.error}),L.isSuccess&&(null===(n=L.data)||void 0===n?void 0:n.data.length)<=0&&f().createElement(T.Z,null),L.isSuccess&&(null===(a=L.data)||void 0===a?void 0:a.data.length)>0&&f().createElement(K,{margin:{top:20,right:20,bottom:50,left:50},id:"d3-grouped-bar-chart-root",data:L.data.data,legend:L.data.legend,history:i,colorFunc:ye,yLabel:Ee[h].label,onClick:Ee[h].onClick(o,J),TooltipClass:Ee[h].tooltip}))),f().createElement(ge,null,f().createElement(D.Card,null,f().createElement(D.CardBody,{style:{padding:0}},f().createElement(fe,{style:{padding:0}},f().createElement("h2",{style:{marginLeft:"20px"}},"Job Runs by Organization")),A.isLoading&&f().createElement(x.Z,null),A.error&&f().createElement(k.Z,{message:A.error.error}),A.isSuccess&&A.data.length<=0&&f().createElement(T.Z,null),A.isSuccess&&A.data.length>0&&f().createElement(oe,{margin:{top:20,right:20,bottom:0,left:20},id:"d3-donut-1-chart-root",data:A.data,colorFunc:ye}))),f().createElement(D.Card,null,f().createElement(D.CardBody,{style:{padding:0}},f().createElement(fe,{style:{padding:0}},f().createElement("h2",{style:{marginLeft:"20px"}},"Usage by Organization (Tasks)")),M.isLoading&&f().createElement(x.Z,null),M.error&&f().createElement(k.Z,{message:M.error.error}),M.isSuccess&&M.data.length<=0&&f().createElement(T.Z,null),M.isSuccess&&M.data.length>0&&f().createElement(oe,{margin:{top:20,right:20,bottom:0,left:20},id:"d3-donut-2-chart-root",data:M.data,colorFunc:ye})))))))};be.propTypes={history:h().object};const _e=be},53210:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var a=n(34699),r=n(92950),i=n.n(r),o=n(334),l=n(58788),s=n(86350),c=n(48716),u=n(39173),d=n(69595),p=n(50590),m=n(22022),f=n(80922),g=n(20806);const h=function(){var e,t,n,h,y,v,E,b,_=(0,p.Z)({}),x=(0,a.Z)(_,2),T=x[0],w=x[1];(0,r.useEffect)((function(){w((0,m.nE)())}),[]);var k=T.isSuccess&&(!0===(null===(e=T.data)||void 0===e||null===(t=e.meta)||void 0===t||null===(n=t.rbac)||void 0===n||null===(h=n.perms)||void 0===h?void 0:h.write)||!0===(null===(y=T.data)||void 0===y||null===(v=y.meta)||void 0===v||null===(E=v.rbac)||void 0===E||null===(b=E.perms)||void 0===b?void 0:b.all)),Z="Create new plan";return T.isSuccess?k?i().createElement(i().Fragment,null,i().createElement(c.Z,null,i().createElement(d.Z,{items:[{title:"Savings Planner",navigate:"/savings-planner"}]}),i().createElement(u.Z,{title:Z})),i().createElement(s.Z,null,i().createElement(l.Card,null,i().createElement(l.CardBody,null,i().createElement(f.Z,{title:Z,options:T}))))):i().createElement(o.Redirect,{to:g.n.savingsPlanner}):null}},35945:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>he});var a,r=n(34699),i=n(92950),o=n.n(i),l=n(334),s=n(83264),c=n(58788),u=n(86350),d=n(92137),p=n(32465),m=n(87757),f=n.n(m),g=n(45697),h=n.n(g),y=n(29163),v=n(20806),E=n(17563),b=y.ZP.div(a||(a=(0,p.Z)(["\n  margin-top: 20px;\n  --pf-c-card__actions--PaddingLeft: 0;\n"]))),_=function(e){var t=e.children;return o().createElement(b,null,o().createElement(c.CardActions,null,t))};_.propTypes={children:h().node};const x=_;var T,w,k=n(96183),Z=n(22022),j=n(8644),S=n(55411),C=n(23071),O=(0,y.ZP)(c.Alert)(T||(T=(0,p.Z)(["\n  margin-top: 10px;\n"]))),P=y.ZP.span(w||(w=(0,p.Z)(["\n  && {\n    margin-right: 10px;\n  }\n"]))),D=function(e){var t=e.onConfirm,n=e.modalTitle,a=void 0===n?"Delete":n,l=e.name,s=void 0===l?"":l,u=e.variant,p=void 0===u?"secondary":u,m=e.isDisabled,g=void 0!==m&&m,h=e.ouiaId,y=void 0===h?null:h,v=e.deleteMessage,E=void 0===v?"Delete?":v,b=e.deleteDetailsRequests,_=void 0===b?[]:b,x=e.disabledTooltip,T=void 0===x?"This item cannot be deleted":x,w=e.children,Z=(0,i.useState)(!1),j=(0,r.Z)(Z,2),D=j[0],B=j[1],L=(0,i.useState)(),R=(0,r.Z)(L,2),I=R[0],F=R[1],A=(0,i.useState)({}),q=(0,r.Z)(A,2),N=q[0],z=q[1],M=(0,i.useState)(!1),Y=(0,r.Z)(M,2),W=Y[0],U=Y[1],V=function(){var e=(0,d.Z)(f().mark((function e(t){var n,a,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U(!0),!(_.length>0&&t)){e.next=8;break}return e.next=4,(0,k.U)(_);case 4:n=e.sent,a=n.results,(r=n.error)?F(r):z(a);case 8:U(!1),B(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return I?o().createElement(S.Z,{isOpen:!!I,variant:"error",title:"Error!",onClose:function(){V(!1),F()}},o().createElement(C.Z,{error:I.detail})):o().createElement(o().Fragment,null,T?o().createElement(c.Tooltip,{content:T,position:"top"},o().createElement("div",null,o().createElement(c.Button,{spinnerAriaValueText:W?"Loading":void 0,variant:p||"secondary","aria-label":"Delete",isDisabled:g,onClick:function(){return V(!0)},ouiaId:y},w||"Delete"))):o().createElement(c.Button,{ouiaId:y,spinnerAriaValueText:W?"Loading":void 0,variant:p||"secondary","aria-label":"Delete",isDisabled:g,onClick:function(){return V(!0)}},w||"Delete"),o().createElement(S.Z,{isOpen:D,title:a,variant:"danger",onClose:function(){return V(!1)},actions:[o().createElement(c.Button,{ouiaId:"delete-modal-confirm",key:"delete",variant:"danger","aria-label":"Confirm Delete",isDisabled:g,onClick:function(){t(),V(!1)}},"Delete"),o().createElement(c.Button,{ouiaId:"delete-modal-cancel",key:"cancel",variant:"link","aria-label":"Cancel",onClick:function(){return V(!1)}},"Cancel")]},"Are you sure you want to delete:",o().createElement("br",null),o().createElement("strong",null,s),Object.values(N).length>0&&o().createElement(O,{variant:"warning",isInline:!0,title:o().createElement("div",null,o().createElement("div",{"aria-label":E},E),o().createElement("br",null),Object.entries(N).map((function(e){var t=(0,r.Z)(e,2),n=t[0],a=t[1];return o().createElement("div",{"aria-label":"".concat(n,": ").concat(a),key:n},o().createElement(P,null,n)," ",o().createElement(c.Badge,null,a))})))})))};D.propTypes={onConfirm:h().func.isRequired,modalTitle:h().string,name:h().string,variant:h().object,isDisabled:h().bool,ouiaId:h().string,deleteMessage:h().string,deleteDetailsRequests:h().array,disabledTooltip:h().bool,children:h().node};const B=D;var L=n(84564),R=n(79886),I=function(e){var t=e.tabsArray,n=e.defaultTabId,a=(0,l.useHistory)(),r=(0,l.useLocation)();return o().createElement(c.Tabs,{activeKey:function(e){var n;return(null===(n=t.find((function(e){return e.link===r.pathname})))||void 0===n?void 0:n.id)||e}(n),onSelect:function(e,n){var r=t.find((function(e){return e.id===n}));r&&a.push(r.link)}},t.map((function(e){return o().createElement(c.Tab,{"aria-label":"string"==typeof e.name?e.name:"".concat(e.id," tab"),eventKey:e.id,key:e.id,link:e.link,title:o().createElement(c.TabTitleText,null,e.name),role:"tab"})})))};I.propTypes={defaultTabId:h().number,tabsArray:(0,g.arrayOf)((0,g.shape)({id:g.number.isRequired,link:g.string.isRequired,name:(0,g.oneOfType)([g.string.isRequired,g.node.isRequired])})).isRequired},I.defaultProps={defaultTabId:1};const F=I;var A,q,N=n(81672),z=n(62923),M=n(20272),Y=(0,y.ZP)(c.CardBody)(A||(A=(0,p.Z)(["\n  min-height: 500px;\n  padding: 0;\n  padding-bottom: 20px;\n\n  &:first-child {\n    padding-top: 0;\n  }\n"]))),W=(0,y.ZP)(c.Divider)(q||(q=(0,p.Z)(["\n  padding-top: 24px;\n"]))),U=function(e){var t=e.tabsArray,n=e.plans,a=e.canWrite,r=e.options,s=(0,l.useLocation)().pathname,u=(0,l.useHistory)(),p=n[0],m=p.id,g=p.automation_status,h=p.category,y=p.description,b=p.frequency_period,_=p.hosts,T=p.manual_time,w=p.modified,S=p.name,C=p.tasks,O=p.template_details,P=p.template_id,D=function(e,t){return((r.data[e]||[]).find((function(e){return e.key===t}))||{}).value},I={Name:S||void 0,"Automation type":h?D("category",h):void 0,Description:y||void 0,"Manual time":T?D("manual_time",T):void 0,"Run on hosts":_||void 0,Frequency:b?D("frequency_period",b):void 0,Template:P?function(e){if(e.id)return o().createElement("a",{onClick:function(){return t=e.id,n=v.n.jobExplorer,a={quick_date_range:"last_30_days",status:["failed","successful"],template_id:[t]},r=(0,E.stringify)(a,{arrayFormat:"bracket"}),void u.push({pathname:n,search:r});var t,n,a,r}},e.name)}(O):void 0,"Last job status":g.status&&"None"!==g.status?o().createElement(M.Z,{status:g.status}):o().createElement(c.Label,{variant:"outline",color:"red",icon:o().createElement(L.ZP,null)},"Not Running"),"Last updated":w?o().createElement("span",null,(0,R.o0)(w)):void 0},A=(0,j.ZP)((0,i.useCallback)((0,d.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.Kh)({params:{id:m}});case 2:u.push("/savings-planner");case 3:case"end":return e.stop()}}),e)}))),[m,u])),q=A.request,U=A.error,V=(0,j.ZP)((0,i.useCallback)((0,d.Z)(f().mark((function e(){var t,a,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.U)(k.V.savingsPlan(n[0],Z.wD));case 2:if(t=e.sent,a=t.results,!(r=t.error)){e.next=7;break}throw new Error(r);case 7:if(!a){e.next=9;break}return e.abrupt("return",{isDeleteDisabled:!0});case 9:return e.abrupt("return",{isDeleteDisabled:!1});case 10:case"end":return e.stop()}}),e)}))),[n[0]]),{isDeleteDisabled:!1}),G=V.result.isDeleteDisabled,H=V.error,K=V.request;(0,i.useEffect)((function(){K()}),[K]);var J=(0,j.pF)(U||H),$=J.error,Q=J.dismissError;return o().createElement(o().Fragment,null,n&&o().createElement(o().Fragment,null,o().createElement(Y,null,o().createElement(F,{tabsArray:t}),o().createElement("div",{style:{padding:"1rem"}},o().createElement(c.DescriptionList,{isHorizontal:!0,columnModifier:{lg:"3Col"}},Object.keys(I).map((function(e,t){return void 0!==I[e]&&o().createElement(c.DescriptionListGroup,{key:t},o().createElement(c.DescriptionListTerm,null,e),o().createElement(c.DescriptionListDescription,null,I[e]))}))),C.length>0&&o().createElement(c.DescriptionList,null,o().createElement(W,{component:"div"}),o().createElement(c.DescriptionListGroup,{key:C},o().createElement(c.DescriptionListTerm,null,"Tasks"),o().createElement(c.DescriptionListDescription,null,o().createElement(c.List,{component:"ol",type:"1"},C.map((function(e){var t=e.id,n=e.task;return o().createElement(c.ListItem,{key:t},n)})))))))),a&&o().createElement(c.CardFooter,null,o().createElement(x,null,o().createElement(c.Button,{key:"edit-plan-button",variant:"primary","aria-label":"Edit plan",onClick:function(){u.push({pathname:"".concat(s.split("/details")[0],"/edit")})}},"Edit"),o().createElement(B,{key:"delete-plan-button",name:S,modalTitle:"Delete Plan",onConfirm:q,disabledTooltip:G&&"This plan cannot be deleted"},"Delete")),$&&o().createElement(N.Z,{isOpen:!!$,onClose:Q,title:"Error",variant:"error"},o().createElement(z.Z,{error:$.detail})))))};U.propTypes={plans:h().array,tabsArray:h().array,canWrite:h().bool.isRequired,options:h().object.isRequired};const V=U;var G=n(90952),H=n(35397),K=n(91354);const J=function(e){return+e.toFixed(0).toLocaleString()+" hours"};var $=function(e){var t=e.value,n=void 0===t?0:t,a=e.isMoney,r=void 0===a||a;return o().createElement(c.Card,{isPlain:!0},o().createElement(c.CardTitle,{style:{paddingBottom:"0"}},"Total savings"),o().createElement(c.CardBody,null,o().createElement(c.Title,{headingLevel:"h3",size:"4xl",style:{color:r?"#81C46B":"#0063CF"}},r?""+(0,K.Z)(n):""+J(n))))};$.propTypes={value:h().number,isMoney:h().bool};const Q=$;var X=function(e){var t=e.isMoney,n=void 0===t||t;return o().createElement(c.Card,{isPlain:!0},o().createElement(c.CardTitle,null,"Automation formula"),o().createElement(c.CardBody,null,o().createElement("p",null,o().createElement("b",null,"Manual cost for template x")," =",o().createElement("em",null,"(time for a manual run on one host in hours * (sum of all hosts across all job runs) ) "+(n?"* cost per hour":""))),o().createElement("p",null,o().createElement("b",null,"Automation cost for template x")," =",o().createElement("em",null,"cost of automation per hour * sum of total elapsed hours for a template")),o().createElement("p",null,o().createElement("b",null,"Savings")," =",o().createElement("em",null,"Sum of (manual cost - automation cost) across all templates"))))};X.propTypes={isMoney:h().bool};const ee=X;var te=function(){return(te=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ne={initial:"Initial",year1:"Year 1",year2:"Year 2",year3:"Year 3"},ae=function(e){return{cost:{key:e?"total_costs":"total_hours_spent_risk_adjusted",color:"#8B8D8F"},benefit:{key:e?"total_benefits":"total_hours_saved",color:e?"#81C46B":"#0063CF"},net:{key:e?"cumulative_net_benefits":"cumulative_time_net_benefits",color:"#EE7A00"}}};const re=function(e){var t,n=e.tabsArray,a=e.data,r=(0,i.useState)(!0),l=r[0],s=r[1],u={charts:[{id:1e3,kind:H.$v.wrapper,type:H.yD.chart,parent:null,props:{height:600,domainPadding:{x:100},padding:{bottom:60,left:80},themeColor:H.nz.gray},tooltip:{cursor:!0,stickToAxis:"x",mouseFollow:!0,legendTooltip:{legendData:[{childName:ae(l).benefit.key,name:"Savings",symbol:{fill:ae(l).benefit.color}},{childName:ae(l).cost.key,name:"Costs",symbol:{fill:ae(l).cost.color}},{childName:ae(l).net.key,name:"Cumulative savings",symbol:{fill:ae(l).net.color}}],titleProperyForLegend:"year"},customFnc:function(e){return l?(0,K.Z)(+e.y):J(+e.y)}},xAxis:{label:"Time"},yAxis:{label:l?"Money Saved":"Hours Saved",tickFormat:"formatNumberAsK",style:{grid:{stroke:"#D2D2D2"},axisLabel:{padding:60}}}},{id:1001,kind:H.$v.stack,parent:1e3,props:{}},{id:1102,kind:H.$v.simple,type:H.oX.bar,name:ae(l).benefit.key,parent:1001,props:{x:"year",y:ae(l).benefit.key,barRatio:.8,barWidth:0,style:{data:{fill:ae(l).benefit.color,width:120}}},tooltip:{labelName:""}},{id:1101,kind:H.$v.simple,type:H.oX.bar,name:ae(l).cost.key,parent:1001,props:{x:"year",y:ae(l).cost.key,barRatio:.8,barWidth:0,style:{data:{fill:ae(l).cost.color,width:120}}},tooltip:{labelName:""}},{id:1002,kind:H.$v.simple,type:H.oX.line,name:ae(l).net.key,parent:1e3,props:{x:"year",y:ae(l).net.key,style:{data:{stroke:ae(l).net.color,strokeWidth:5}}},tooltip:{labelName:""}}],functions:te(te({},H.wk),{fetchFnc:function(){return new Promise((function(e){e(function(e){return{items:Object.keys(ne).map((function(t){return{year:ne[t],total_costs:-1*+e.projections.monetary_stats.total_costs[t],total_benefits:+e.projections.monetary_stats.total_benefits[t],cumulative_net_benefits:+e.projections.monetary_stats.cumulative_net_benefits[t],total_hours_spent_risk_adjusted:-1*+e.projections.time_stats.total_hours_spent_risk_adjusted[t],total_hours_saved:+e.projections.time_stats.total_hours_saved[t],cumulative_time_net_benefits:+e.projections.time_stats.cumulative_time_net_benefits[t]}})),type:H.Ii.nonGrouped,response_type:""}}(a))}))}})};return o().createElement(c.Card,null,o().createElement(F,{tabsArray:n}),o().createElement(c.Grid,null,o().createElement(c.GridItem,{span:9},o().createElement(c.Card,{isPlain:!0},o().createElement(c.CardHeader,null,o().createElement(c.CardActions,null,o().createElement(c.ToggleGroup,{"aria-label":"toggleButton"},o().createElement(c.ToggleGroupItem,{text:"Money",buttonId:"money",isSelected:l,onChange:function(){return s(!0)}}),o().createElement(c.ToggleGroupItem,{text:"Time",buttonId:"time",isSelected:!l,onChange:function(){return s(!1)}}))),o().createElement(c.CardTitle,null,a.name)),o().createElement(c.CardBody,null,o().createElement(H.ZP,{schema:u.charts,functions:u.functions})))),o().createElement(c.GridItem,{span:3},o().createElement(o().Fragment,null,o().createElement(Q,{value:(t=a,l?t.projections.monetary_stats.cumulative_net_benefits.year3:t.projections.time_stats.cumulative_time_net_benefits.year3),isMoney:l}),o().createElement(c.Card,{isPlain:!0},o().createElement(c.CardBody,null,o().createElement(c.List,{isPlain:!0},o().createElement(c.ListItem,{icon:o().createElement(G.fU,{color:ae(l).benefit.color})},"Savings from automating this plan"),o().createElement(c.ListItem,{icon:o().createElement(G.fU,{color:ae(l).cost.color})},"Costs from creating, maintaining and running the automation"),o().createElement(c.ListItem,{icon:o().createElement(G.fU,{color:ae(l).net.color})},"Cumulative savings over time")))),o().createElement(ee,{isMoney:l})))))};var ie=n(97761),oe=n(83160),le=n(13784),se=n(48716),ce=n(39173),ue=n(27839),de=n(69595),pe=n(50590),me=n(80922),fe=function(e){var t,n,a,s,c,u,d,p,m=e.data,f=(0,pe.Z)({}),g=(0,r.Z)(f,2),h=g[0],y=g[1],E=(0,l.useParams)().id;(0,i.useEffect)((function(){y((0,Z.nE)())}),[]);var b=h.isSuccess&&(!0===(null===(t=h.data)||void 0===t||null===(n=t.meta)||void 0===n||null===(a=n.rbac)||void 0===a||null===(s=a.perms)||void 0===s?void 0:s.write)||!0===(null===(c=h.data)||void 0===c||null===(u=c.meta)||void 0===u||null===(d=u.rbac)||void 0===d||null===(p=d.perms)||void 0===p?void 0:p.all));return h.isSuccess?b?o().createElement(o().Fragment,null,o().createElement(me.Z,{title:"Edit plan",options:h,data:m})):o().createElement(l.Redirect,{to:"".concat(v.n.savingsPlanner,"/").concat(E)}):null};fe.propTypes={data:h().object.isRequired};const ge=fe,he=function(){var e,t,n,a=(0,l.useParams)().id,d=(0,l.useLocation)().state,p=(0,i.useState)(null),m=(0,r.Z)(p,2),f=m[0],g=m[1],h="Details",y=!1;null!=d&&d.reload&&(y=!0),-1!==location.pathname.indexOf("/statistics")?h="Statistics":-1!==location.pathname.indexOf("/edit")&&(h="Edit plan");var v=(0,i.useState)(a),E=(0,r.Z)(v,2),b=E[0],_=E[1],x=(0,pe.Z)({rbac:{},items:[]}),T=(0,r.Z)(x,2),w=T[0],k=w.isSuccess,j=w.error,S=w.data,C=S.rbac,O=void 0===C?{}:C,P=S.items,D=void 0===P?[]:P,B=T[1],L=(0,pe.Z)({}),R=(0,r.Z)(L,2),I=R[0],F=R[1],A={id:[b]};(0,i.useEffect)((function(){_(a),(0,Z.YU)().catch((function(e){g({preflightError:e})})),B((0,Z.wD)({params:A})),F((0,Z.nE)())}),[d]);var q=k&&(!0===(null===(e=O.perms)||void 0===e?void 0:e.write)||!0===(null===(t=O.perms)||void 0===t?void 0:t.all)),N=[{id:0,name:o().createElement(o().Fragment,null,o().createElement(s.ZP,null),"Back to Plans"),link:"/savings-planner"},{id:1,name:"Details",link:"/savings-planner/".concat(b,"/details")},{id:2,name:"Statistics",link:"/savings-planner/".concat(b,"/statistics")}],z="/savings-planner/".concat(b),M=k?[{title:"Savings Planner",navigate:"/savings-planner"},{title:D[0].name,navigate:z}]:[];return 403===(null==f||null===(n=f.preflightError)||void 0===n?void 0:n.status)?o().createElement(ue.Z,le.dR):o().createElement(o().Fragment,null,j&&o().createElement(o().Fragment,null,o().createElement(oe.Z,{message:j.error})),k&&I.isSuccess&&o().createElement(o().Fragment,null,o().createElement(se.Z,null,o().createElement(de.Z,{items:M}),o().createElement(ce.Z,{title:h})),o().createElement(u.Z,null,o().createElement(c.Card,null,o().createElement(l.Switch,null,o().createElement(l.Route,{path:"/savings-planner/:id/statistics"},o().createElement(re,{tabsArray:N,data:D[0],queryParams:A})),!y&&o().createElement(l.Route,{path:"/savings-planner/:id/details"},o().createElement(V,{plans:D,tabsArray:N,canWrite:q,options:I})),o().createElement(l.Route,{path:"/savings-planner/:id/edit"},o().createElement(ge,{data:D[0]})),o().createElement(l.Route,{path:"/savings-planner/:id"},o().createElement(V,{plans:D,tabsArray:N,canWrite:q,options:I})),o().createElement(l.Route,{exact:!0,path:"/savings-planner"},o().createElement(ie.default,null)))))))}},97761:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>me});var a=n(87329),r=n(92137),i=n(96156),o=n(34699),l=n(32465),s=n(87757),c=n.n(s),u=n(92950),d=n.n(u),p=n(29163),m=n(334),f=n(86350),g=n(48716),h=n(39173),y=n(27839),v=n(58788),E=n(25811),b=n(71070),_=n(22022),x=n(13090),T=n(83160),w=n(94794),k=n(2205),Z=n(45697),j=n.n(Z),S=function(e){var t=e.label,n=void 0===t?"":t,a=e.title,r=void 0===a?"No items found.":a,i=e.message,o=void 0===i?"":i,l=e.canAdd,s=void 0!==l&&l,c=e.icon,u=void 0===c?E.ZP:c,p=e.path,f=(0,m.useHistory)();return d().createElement(v.EmptyState,{variant:"full"},d().createElement(v.EmptyStateIcon,{icon:u}),d().createElement(v.Title,{size:"lg",headingLevel:"h3"},r),d().createElement(v.EmptyStateBody,null,o),s&&d().createElement(v.Button,{key:"add-item-button",variant:"primary","aria-label":n,onClick:function(){f.push({pathname:p})}},n))};S.propTypes={canAdd:j().bool,label:j().string,message:j().string,title:j().string,path:j().string.isRequired,icon:j().component};const C=S;var O,P,D,B,L,R=n(12613),I=n(84564),F=n(17563),A=n(20806),q=n(91354),N=n(79886),z=n(20272),M=(0,p.ZP)(v.CardTitle)(O||(O=(0,l.Z)(["\n  word-break: break-word;\n"]))),Y=p.ZP.span(P||(P=(0,l.Z)(["\n  margin-right: 5px;\n  font-weight: bold;\n"]))),W=p.ZP.small(D||(D=(0,l.Z)(["\n  display: block;\n  margin-bottom: 10px;\n  color: #6a6e73;\n"]))),U=(0,p.ZP)(v.Checkbox)(B||(B=(0,l.Z)(["\n  &.pf-c-check.pf-m-standalone {\n    margin-top: -3px;\n  }\n"]))),V=p.ZP.div(L||(L=(0,l.Z)(["\n  display: flex;\n  min-height: 30px;\n  align-items: center;\n"]))),G=function(e){var t,n,a,r=e.isSuccess,i=e.plan,l=e.selected,s=void 0===l?[]:l,c=e.handleSelect,p=void 0===c?function(){}:c,f=e.canWrite,g=e.options,h=i.id,y=i.automation_status,E=i.category,b=i.description,_=i.frequency_period,x=i.modified,T=i.name,w=i.template_details,k=i.projections,Z=null==k||null===(t=k.monetary_stats)||void 0===t||null===(n=t.cumulative_net_benefits)||void 0===n?void 0:n.year3,j=(0,u.useState)(!1),S=(0,o.Z)(j,2),C=S[0],O=S[1],P=(0,m.useRouteMatch)(),D=(0,m.useHistory)(),B=function(e,t){return g.data[e].find((function(e){return e.key===t})).value},L=[d().createElement(d().Fragment,{key:h},d().createElement(v.DropdownItem,{key:"edit",onClick:function(){return D.push("".concat(P.url,"/").concat(h,"/edit"))},position:"right"},"Edit"),d().createElement(v.DropdownItem,{key:"link",onClick:function(){return D.push("".concat(P.url,"/").concat(h,"/edit#tasks"))},position:"right"},"Manage tasks"),d().createElement(v.DropdownItem,{key:"link",onClick:function(){return D.push("".concat(P.url,"/").concat(h,"/edit#link_template"))},position:"right"},"Link template"))];return d().createElement(v.Card,null,d().createElement(v.CardHeader,null,d().createElement(v.CardHeaderMain,null,d().createElement(M,null,d().createElement(m.Link,{to:"".concat(P.url,"/").concat(h)},T))),f&&d().createElement(v.CardActions,null,d().createElement(v.Dropdown,{onSelect:function(){},toggle:d().createElement(v.KebabToggle,{onToggle:function(){return O(!C)}}),isOpen:C,isPlain:!0,dropdownItems:L,position:"right"}),d().createElement(U,{onChange:function(){return p(i)},isChecked:s.some((function(e){return e.id===i.id})),"aria-label":"card checkbox",id:"check-1",name:"check1"}))),d().createElement(v.CardBody,null,b?d().createElement(W,null,b):null,d().createElement(V,null,d().createElement(Y,null,"Frequency")," ",_?B("frequency_period",_):d().createElement("span",null,"None")),d().createElement(V,null,d().createElement(Y,null,"Template")," ",0!==Object.keys(w||{}).length?(a=w)&&r?d().createElement("a",{onClick:function(){return e=a.id,t=A.n.jobExplorer,n={quick_date_range:"last_30_days",status:["failed","successful"],template_id:[e]},r=(0,F.stringify)(n,{arrayFormat:"bracket"}),void D.push({pathname:t,search:r});var e,t,n,r}},a.name):null:d().createElement("span",null,"None -"," ",d().createElement("a",{onClick:function(){return D.push("".concat(P.url,"/").concat(h,"/edit#link_template"))}},"Link template"))),d().createElement(V,null,d().createElement(Y,null,"Last job status"),"None"!==y.status?d().createElement(z.Z,{status:y.status}):d().createElement(v.Label,{variant:"outline",color:"red",icon:d().createElement(I.ZP,null)},"Not Running")),Z&&d().createElement(V,null,d().createElement(Y,null,"Projected savings"),d().createElement("a",{onClick:function(){return D.push("".concat(P.url,"/").concat(h,"/statistics"))}},(0,q.Z)(+Z))),d().createElement(V,null,d().createElement(Y,null,"Last updated")," ",d().createElement("span",null,(0,N.o0)(x)))),d().createElement(v.CardFooter,null,d().createElement(v.Label,null,B("category",E))))};G.propTypes={isSuccess:j().bool.isRequired,canWrite:j().bool.isRequired,selected:j().array,handleSelect:j().func,plan:j().object,options:j().object};const H=G;var K=n(53677),J=n(50590),$=n(13784),Q=n(55411),X=n(96183),ee=n(23071),te=function(e){var t=e.name,n=e.username,a=e.image;return t||n||a?(t&&j().checkPropTypes({name:j().string},{name:e.name},"prop","ItemToDelete"),n&&j().checkPropTypes({username:j().string},{username:e.username},"prop","ItemToDelete"),a&&j().checkPropTypes({image:j().string},{image:e.image},"prop","ItemToDelete"),null):new Error("One of 'name', 'username' or 'image' is required by ItemToDelete component.")},ne=function(e){var t,n=e.itemsToDelete,a=e.pluralizedItemName,i=void 0===a?"Items":a,l=e.onDelete,s=e.errorMessage,p=void 0===s?"Error while deleting":s,m=e.deleteDetailsRequests,f=void 0===m?[]:m,g=e.cannotDelete,h=void 0===g?function(e){return!e}:g,y=(0,u.useState)(!1),E=(0,o.Z)(y,2),b=E[0],_=E[1],x=(0,u.useState)(null),T=(0,o.Z)(x,2),w=T[0],k=T[1],Z=(0,u.useState)(!1),j=(0,o.Z)(Z,2),S=j[0],C=j[1],O=(0,u.useState)(""),P=(0,o.Z)(O,2),D=P[0],B=P[1],L=function(){var e=(0,r.Z)(c().mark((function e(t){var a,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(!0),k(null),!(t&&1===n.length&&(null==f?void 0:f.length)>0)){e.next=9;break}return e.next=5,(0,X.U)(f);case 5:a=e.sent,r=a.results,(i=a.error)?B(i):k(r);case 9:C(!1),_(t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R="Delete ".concat(i,"?"),I=0===n.length||n.some(h);return D?d().createElement(Q.Z,{isOpen:!!D,title:"Error!",onClose:function(){L(!1),B()}},d().createElement(ee.Z,{error:D.detail})):d().createElement(d().Fragment,null,d().createElement(v.Tooltip,{content:(t=n.filter(h).map((function(e){return e.name||e.username})).join(", "),n.some(h)?d().createElement("div",null,p?d().createElement(d().Fragment,null,d().createElement("span",null,p),d().createElement("span",null,": ".concat(t))):"You do not have permission to delete ".concat(i,": ").concat(t)):n.length?"Delete":"Select a plan to delete"),position:"top"},d().createElement("div",null,d().createElement(v.Button,{variant:"secondary",ouiaId:"delete-button",spinnerAriaValueText:S?"Loading":void 0,"aria-label":"Delete",onClick:function(){return L(!0)},isDisabled:I},"Delete"))),b&&d().createElement(Q.Z,{variant:"danger",title:R,isOpen:b,onClose:function(){return L(!1)},actions:[d().createElement(v.Button,{ouiaId:"delete-modal-confirm",key:"delete",variant:"danger","aria-label":"confirm delete",isDisabled:Boolean(w),onClick:function(){l(),L()}},"Delete"),d().createElement(v.Button,{key:"cancel",variant:"link","aria-label":"cancel delete",onClick:function(){return L(!1)}},"Cancel")]},d().createElement("div",null,"This action will delete the following:"),n.map((function(e){return d().createElement("span",{key:e.id},d().createElement("strong",null,e.name||e.username||e.image),d().createElement("br",null))}))))};ne.propTypes={itemsToDelete:j().arrayOf(j().shape({id:j().number.isRequired,name:te,username:te,image:te})).isRequired,pluralizedItemName:j().string,onDelete:j().func.isRequired,errorMessage:j().string,warningMessage:j().node,deleteDetailsRequests:j().array,cannotDelete:j().func,deleteMessage:j().string};const ae=ne;var re,ie,oe,le=n(8644);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=p.ZP.div(re||(re=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 76px);\n"]))),de=(0,p.ZP)(f.Z)(ie||(ie=(0,l.Z)(["\n  flex-grow: 1;\n"]))),pe=p.ZP.div(oe||(oe=(0,l.Z)(["\n  flex-shrink: 0;\n"])));const me=function(){var e,t,n,i,l,s,p,f,Z,j=(0,m.useHistory)(),S=(0,m.useLocation)().pathname,O=(0,K.K)($.bE.defaultParams),P=O.queryParams,D=O.setFromPagination,B=O.setFromToolbar,L=(0,J.Z)({meta:{},items:[]}),I=(0,o.Z)(L,2),F=I[0],A=F.isLoading,q=F.isSuccess,N=F.error,z=F.data,M=z.meta,Y=void 0===M?{}:M,W=z.items,U=void 0===W?[]:W,V=I[1],G=(0,J.Z)({}),X=(0,o.Z)(G,2),te=X[0],ne=X[1],re=(0,u.useState)(null),ie=(0,o.Z)(re,2),oe=ie[0],se=ie[1],me=ce(ce({},te.data),{},{name:[{key:"name",value:null}]}),fe=function(){(0,_.YU)().catch((function(e){se({preflightError:e})})),V((0,_.Wu)({params:P})),ne((0,_.nE)())};(0,u.useEffect)((function(){fe()}),[P]);var ge=te.isSuccess&&(!0===(null===(e=te.data)||void 0===e||null===(t=e.meta)||void 0===t||null===(n=t.rbac)||void 0===n||null===(i=n.perms)||void 0===i?void 0:i.write)||!0===(null===(l=te.data)||void 0===l||null===(s=l.meta)||void 0===s||null===(p=s.rbac)||void 0===p||null===(f=p.perms)||void 0===f?void 0:f.all)),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,u.useState)([]),n=(0,o.Z)(t,2),r=n[0],i=n[1],l=r.length>0&&r.length===e.length,s=function(e){r.some((function(t){return t.id===e.id}))?i((function(t){return(0,a.Z)(t.filter((function(t){return t.id!==e.id})))})):i((function(t){return[].concat((0,a.Z)(t),[e])}))};return{selected:r,isAllSelected:l,handleSelect:s,setSelected:i}}(U),ye=he.selected,ve=he.isAllSelected,Ee=he.handleSelect,be=he.setSelected,_e=(0,le.px)((0,u.useCallback)((0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(ye.map((function(e){return(0,_.Kh)({params:{id:e.id}})}))));case 1:case"end":return e.stop()}}),e)}))),[ye]),{qsConfig:P,allItemsSelected:ve,fetchItems:fe}),xe=_e.isLoading,Te=_e.deletionError,we=_e.deleteItems,ke=_e.clearDeletionError,Ze=function(){var e=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:be([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(403===(null==oe||null===(Z=oe.preflightError)||void 0===Z?void 0:Z.status))return d().createElement(y.Z,$.dR);var je=ge?E.ZP:b.ZP;return d().createElement(ue,null,d().createElement(g.Z,null,d().createElement(h.Z,{title:"Savings Planner"}),d().createElement(x.Z,{categories:me,filters:P,setFilters:B,additionalControls:[].concat((0,a.Z)(ge?[d().createElement(v.Button,{key:"add-plan-button",variant:"primary","aria-label":"Add plan",onClick:function(){j.push({pathname:"".concat(S,"/add")})}},"Add plan")]:[]),[ge&&q&&U.length>0&&d().createElement(ae,{key:"delete-plan-button",onDelete:Ze,itemsToDelete:ye,pluralizedItemName:"Savings plan"})]),pagination:q&&U.length>0?d().createElement(R.Z,{count:null==Y?void 0:Y.total_count,params:{limit:P.limit,offset:P.offset},setPagination:D,isCompact:!0}):d().createElement("div",null)})),oe&&d().createElement(de,null,d().createElement(k.Z,oe)),N&&d().createElement(de,null,d().createElement(T.Z,{message:N.error})),(A||xe)&&d().createElement(de,null,d().createElement(w.Z,null)),q&&0===U.length&&!(A||xe)&&d().createElement(de,null,d().createElement(C,{icon:je,label:"Add plan",title:"No plans found",message:ge?"Update the applied filters or add a new plan.":"Update the applied filters.",canAdd:ge,path:"".concat(S,"/add")})),q&&!(A||xe)&&d().createElement(de,null,d().createElement(v.Gallery,{hasGutter:!0,minWidths:{sm:"307px",md:"307px",lg:"307px",xl:"307px","2xl":"307px"}},te.isSuccess&&U.map((function(e){return d().createElement(H,{key:e.id,isSuccess:te.isSuccess,selected:ye,plan:e,handleSelect:Ee,canWrite:ge,options:te})})))),U.length>0&&!(A||xe)&&d().createElement(pe,null,d().createElement(R.Z,{count:null==Y?void 0:Y.total_count,params:{limit:P.limit,offset:P.offset},setPagination:D,variant:v.PaginationVariant.bottom})),Te&&d().createElement(Q.Z,{"aria-label":"Deletion error",isOpen:Te,onClose:ke,title:"Error",variant:"error"},"Failed to delete one or more plans.",d().createElement(ee.Z,{error:Te.detail})))}},80922:(e,t,n)=>{"use strict";n.d(t,{Z:()=>de});var a=n(34699),r=n(92950),i=n.n(r),o=n(45697),l=n.n(o),s=n(334),c=n(58788),u=n(20806),d=n(50590),p=n(96156),m="SET_NAME",f="SET_CATEGORY",g="SET_DESCRIPTION",h="SET_MANUAL_TIME",y="SET_HOSTS",v="SET_FREQUENCY_PERIOD",E="SET_TASKS",b="SET_TEMPLATE_ID";function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(null!=e&&e.length)return e.sort((function(e,t){return e.task_order-t.task_order})).map((function(e){return e.task}))};var w=n(22022),k=n(81672),Z=n(62923),j=function(e){var t,n,o,l=e.options,s=e.formData,u=e.dispatch,d=s.name,p=s.category,E=s.description,b=s.manual_time,_=s.hosts,x=s.frequency_period,T=(0,r.useState)(!1),w=(0,a.Z)(T,2),k=w[0],Z=w[1],j=(0,r.useState)(!1),S=(0,a.Z)(j,2),C=S[0],O=S[1],P=(0,r.useState)(!1),D=(0,a.Z)(P,2),B=D[0],L=D[1];return i().createElement(c.Form,null,(null==l?void 0:l.data)&&i().createElement(c.Grid,{hasGutter:!0,md:6},i().createElement(c.FormGroup,{label:"What do you want to automate?",isRequired:!0,fieldId:"name-field"},i().createElement(c.TextInput,{isRequired:!0,placeholder:"Example: Provision NGINX server",type:"text",id:"name-field",name:"name",value:d,onChange:function(e){return u({type:m,value:e})}})),i().createElement(c.FormGroup,{label:"What type of task is it?",fieldId:"category-field"},i().createElement(c.Select,{id:"category-field",isOpen:k,variant:"single","aria-label":"Plan category selector",onToggle:function(){return Z(!k)},onSelect:function(e,t){u({type:f,value:t}),Z(!1)},selections:p},((null===(t=l.data)||void 0===t?void 0:t.category)||[]).map((function(e){var t=e.key,n=e.value;return i().createElement(c.SelectOption,{key:t,value:t},n)})))),i().createElement(c.FormGroup,{label:"Enter a description of your automation plan",fieldId:"description-field"},i().createElement(c.TextInput,{type:"text",placeholder:"Place description here",id:"description-field",name:"description",value:E,onChange:function(e){return u({type:g,value:e})}})),i().createElement(c.FormGroup,{label:"How long does it take to do this manually?",fieldId:"manual-time-field"},i().createElement(c.Select,{id:"manual-time-field",isOpen:C,variant:"single",placeholderText:"Select amount","aria-label":"Plan time selector",onToggle:function(){return O(!C)},onSelect:function(e,t){u({type:h,value:t}),O(!1)},selections:b},((null===(n=l.data)||void 0===n?void 0:n.manual_time)||[]).map((function(e){var t=e.key,n=e.value;return i().createElement(c.SelectOption,{key:t,value:t},n)})))),i().createElement(c.FormGroup,{label:"How many hosts do you plan to run this on?",fieldId:"hosts-field"},i().createElement(c.TextInput,{type:"number",placeholder:"Enter number of hosts",id:"hosts-field",name:"hosts",value:_,onChange:function(e){return u({type:y,value:e})}})),i().createElement(c.FormGroup,{label:"How often do you do this?",fieldId:"frequency-period-field"},i().createElement(c.Select,{id:"frequency-period-field",isOpen:B,variant:"single",placeholderText:"Select frequency period","aria-label":"Plan frequency period selector",onToggle:function(){L(!B)},onSelect:function(e,t){u({type:v,value:t}),L(!1)},selections:x},((null===(o=l.data)||void 0===o?void 0:o.frequency_period)||[]).map((function(e){var t=e.key,n=e.value;return i().createElement(c.SelectOption,{key:t,value:t},n)}))))))};j.propTypes={options:l().object.isRequired,formData:l().object.isRequired,dispatch:l().func.isRequired};const S=j;var C,O,P,D,B,L=n(87329),R=n(32465),I=n(29163),F=n(12294),A=n(33606),q=I.ZP.div(C||(C=(0,R.Z)(["\n  margin-top: 20px;\n"]))),N=(0,I.ZP)(c.Title)(O||(O=(0,R.Z)(["\n  margin-bottom: 10px;\n"]))),z=(0,I.ZP)(c.Button)(P||(P=(0,R.Z)(["\n  padding: 0 16px;\n"]))),M=(0,I.ZP)(c.DataListAction)(D||(D=(0,R.Z)(["\n  padding: 6px 0;\n"]))),Y=(0,I.ZP)(c.DataListItemRow)(B||(B=(0,R.Z)(["\n  align-items: center;\n"]))),W=function(e){var t=e.tasks,n=e.dispatch,o=function(e){n({type:E,value:e})},l=(0,r.useState)(""),s=(0,a.Z)(l,2),u=s[0],d=s[1],p=(0,r.useState)(""),m=(0,a.Z)(p,2),f=m[0],g=m[1],h=(0,r.useState)(""),y=(0,a.Z)(h,2),v=y[0],b=y[1],_=function(){var e=u.trim();""!==e&&(o([].concat((0,L.Z)(t),[e])),d(""))};return i().createElement(i().Fragment,null,i().createElement(c.Form,null,i().createElement(c.Grid,{hasGutter:!0,md:6},i().createElement(c.FormGroup,{label:"What tasks do you need to accomplish this plan?",fieldId:"task-field"},i().createElement(c.InputGroup,null,i().createElement(c.TextInput,{placeholder:"Enter a description of each task",type:"text",id:"task-field",name:"task",value:u,onChange:function(e){return d(e)},onKeyDown:function(e){e.key&&"Enter"===e.key&&(e.preventDefault(),_())}}),i().createElement(c.Button,{onClick:_,isDisabled:""===u.trim(),variant:"control","aria-label":"Add task"},i().createElement(F.ZP,null)))))),t.length>0&&i().createElement(q,null,i().createElement(N,{headingLevel:"h4",size:"xl"},"Tasks"),i().createElement(c.DataList,{"aria-label":"Draggable list to reorder and remove tasks.",isCompact:!0,onDragFinish:function(e){g("Dragging finsihed"),o((0,L.Z)(e))},onDragStart:function(e){b(e),g("Dragging started for task ".concat(e,"."))},onDragMove:function(e,t){g("Dragging task ".concat(v,".  Task ").concat(e," is now task ").concat(t,"."))},onDragCancel:function(){g("Dragging cancelled. Tasks list order is unchanged.")},itemOrder:t},t.map((function(e,n){return i().createElement(c.DataListItem,{"aria-labelledby":"cell-".concat(n+1),id:e,key:n+1},i().createElement(Y,null,i().createElement(c.DataListControl,null,i().createElement(c.DataListDragButton,{"aria-label":"Reorder","aria-labelledby":"cell-".concat(n+1),"aria-describedby":"Press space or enter to begin dragging, and use the arrow keys to navigate up or down. Press enter to confirm the drag, or any other key to cancel the drag operation.","aria-pressed":"false"})),i().createElement(c.DataListItemCells,{dataListCells:[i().createElement(c.DataListCell,{key:n+1},i().createElement("span",{id:"cell-".concat(n+1)},"".concat(n+1,". ").concat(e)))]}),i().createElement(M,{"aria-label":"Actions"},i().createElement(z,{onClick:function(){return function(e){o(t.filter((function(t){return t!==e})))}(e)},variant:"plain","aria-label":"Delete"},i().createElement(A.ZP,null)))))})))),i().createElement("div",{className:"pf-screen-reader","aria-live":"assertive"},f))};W.propTypes={tasks:l().array.isRequired,dispatch:l().func.isRequired};const U=W;var V,G=n(17563),H=n(94550),K=n(27839),J=n(94794),$=n(2205),Q=n(26249),X=n(83160),ee=n(12613),te=n(13784),ne=n(53677),ae=n(13090);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=I.ZP.div(V||(V=(0,R.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),le={group_by:"template",limit:10,group_by_time:!1,offset:0},se=function(e){var t,n=e.template_id,o=e.dispatch,l=(0,s.useLocation)(),u=l.pathname,p=l.hash,m=l.search,f=(0,s.useHistory)(),g=(0,r.useState)(null),h=(0,a.Z)(g,2),y=h[0],v=h[1],E=(0,d.Z)({meta:{},items:[]}),_=(0,a.Z)(E,2),x=_[0],T=x.isLoading,k=x.isSuccess,Z=x.error,j=x.data,S=j.meta,C=void 0===S?{}:S,O=j.items,P=void 0===O?[]:O,D=_[1],B=(0,d.Z)({}),L=(0,a.Z)(B,2),R=L[0],I=L[1],F=(0,ne.K)(le),A=F.queryParams,q=F.setFromPagination,N=F.setFromToolbar,z=F.dispatch;return(0,r.useEffect)((function(){insights.chrome.appNavClick({id:"job-explorer",secondaryNav:!0}),(0,w.YU)().catch((function(e){v({preflightError:e})}));var e=(0,G.parse)(m,{arrayFormat:"bracket",parseBooleans:!0,parseNumbers:!0});z({type:"REINITIALIZE",value:ie(ie({},le),e)})}),[]),(0,r.useEffect)((function(){D((0,w.Ij)({params:A})),I((0,w.ZW)({params:A})),f.replace({pathname:u,hash:p,search:(0,G.stringify)(A,{arrayFormat:"bracket"})})}),[A]),403===(null==y||null===(t=y.preflightError)||void 0===t?void 0:t.status)?i().createElement(K.Z,te.dR):i().createElement(i().Fragment,null,y&&i().createElement($.Z,y),!y&&i().createElement(c.Form,null,i().createElement(c.FormGroup,{label:"Link a template to this plan:",fieldId:"template-link-field"},i().createElement(ae.Z,{hideQuickDateRange:!0,hideSortOptions:!0,categories:R.data,filters:A,setFilters:N,pagination:i().createElement(ee.Z,{count:null==C?void 0:C.count,params:{limit:A.limit,offset:A.offset},setPagination:q,isCompact:!0})}),Z&&i().createElement(X.Z,{message:Z.error}),T&&i().createElement(J.Z,null),k&&P.length<=0&&i().createElement(Q.Z,null),k&&P.length>0&&i().createElement(H.TableComposable,{"aria-label":"Template link table",variant:"compact"},i().createElement(H.Thead,null,i().createElement(H.Tr,null,i().createElement(H.Th,null),i().createElement(H.Th,{key:"template-name-column-header"},"Name"))),i().createElement(H.Tbody,null,P.map((function(e){var t=e.id,a=e.name;return i().createElement(H.Tr,{key:"template-detail-".concat(t)},i().createElement(H.Td,{key:"template-detail-".concat(t,"-radio-td"),select:{rowIndex:t,onSelect:function(e,t,n){return o({type:b,value:n})},isSelected:n===t,variant:"radio"}}),i().createElement(H.Td,null,a))})))),i().createElement(oe,null,i().createElement("div",null,-2!==n&&i().createElement(c.Button,{key:"clear-selection-button",variant:"link","aria-label":"Clear selection",onClick:function(){o({type:b,value:-2})}},"Clear selection")),i().createElement(ee.Z,{count:null==C?void 0:C.count,params:{limit:A.limit,offset:A.offset},setPagination:q,variant:c.PaginationVariant.bottom})))))};se.propTypes={template_id:l().number.isRequired,dispatch:l().func.isRequired};const ce=se;var ue=function(e){var t=e.title,n=e.options,o=e.data,l=void 0===o?{}:o,p=(0,s.useHistory)(),_=(0,s.useLocation)(),j=_.hash,C=_.pathname,O=(0,r.useState)(null),P=(0,a.Z)(O,2),D=P[0],B=P[1],L=(0,d.Z)(null),R=(0,a.Z)(L,4),I=R[0],F=I.isSuccess,A=I.data,q=I.error,N=R[1],z=(R[2],R[3]),M=function(e){var t,n=(0,r.useReducer)((function(e,t){var n=t.type,a=t.value;switch(n){case m:return x(x({},e),{},{name:a});case f:return x(x({},e),{},{category:a});case g:return x(x({},e),{},{description:a});case h:return x(x({},e),{},{manual_time:a});case y:return x(x({},e),{},{hosts:a});case v:return x(x({},e),{},{frequency_period:a});case E:return x(x({},e),{},{tasks:a});case b:return x(x({},e),{},{template_id:a});default:throw new Error("usePlanData reducer action type ".concat(n," was not found."))}}),{name:(null==e?void 0:e.name)||"",category:(null==e?void 0:e.category)||"system",description:(null==e?void 0:e.description)||"",manual_time:(null==e?void 0:e.manual_time)||240,hosts:(null==e?void 0:e.hosts)||1,frequency_period:(null==e?void 0:e.frequency_period)||"weekly",tasks:T(null==e?void 0:e.tasks)||[],template_id:(null==e?void 0:e.template_id)||-2}),i=(0,a.Z)(n,2),o=i[0],l=i[1];return{formData:o,requestPayload:(t=x({},o),t.tasks=t.tasks.map((function(e,t){return{task:e,task_order:t+1}})),t.hourly_rate=50,t.frequency_per_period=1,t),dispatch:l}}(l),Y=M.formData,W=M.requestPayload,V=M.dispatch,G=[{step_number:1,id:"details",name:"Details",component:i().createElement(S,{options:n,formData:Y,dispatch:V})},{step_number:2,id:"tasks",name:"Tasks",component:i().createElement(U,{tasks:Y.tasks,dispatch:V})},{step_number:3,id:"link_template",name:"Link template",component:i().createElement(ce,{template_id:Y.template_id,dispatch:V}),nextButtonText:"Save"}],H=i().createElement(c.WizardFooter,null,i().createElement(c.WizardContextConsumer,null,(function(e){var t=e.activeStep,n=e.onNext,a=e.onBack,r=e.onClose;return 3!==t.step_number?i().createElement(i().Fragment,null,i().createElement(c.Button,{variant:"primary",type:"submit",onClick:n},"Next"),1!==t.step_number&&i().createElement(c.Button,{variant:"secondary",onClick:a},"Back"),i().createElement(c.Button,{variant:"link",onClick:r},"Cancel")):i().createElement(i().Fragment,null,i().createElement(c.Tooltip,{content:Y.name&&""!==!Y.name?"Save this plan":"In order to save this plan, you must enter a name in the details step",position:"top"},i().createElement("div",null,i().createElement(c.Button,{variant:"primary",type:"submit",onClick:J,isDisabled:!Y.name||""===!Y.name},"Save"))),i().createElement(c.Button,{variant:"secondary",onClick:a},"Back"),i().createElement(c.Button,{variant:"link",onClick:r},"Cancel"))})));(0,r.useEffect)((function(){-1===C.indexOf("/add")&&j?B(G.find((function(e){return"#".concat(e.id)===j})).step_number):(p.replace({hash:"details"}),B(1))}),[]);var K=function(e){p.replace({hash:e.id})},J=function(){null!=l&&l.id?N((0,w.Vs)({id:null==l?void 0:l.id,params:W})):N((0,w.he)({params:W}))};return i().createElement(i().Fragment,null,F&&i().createElement(s.Redirect,{to:{pathname:"".concat(u.n.savingsPlanner,"/").concat(A.id||A.plan_created.id),state:{reload:!0}}}),D&&i().createElement(c.Wizard,{navAriaLabel:"".concat(t," steps"),mainAriaLabel:"".concat(t," content"),steps:G,onGoToStep:K,onNext:K,onBack:K,onSave:J,onClose:function(){-1!==location.pathname.indexOf("/edit")?p.push({pathname:"".concat(u.n.savingsPlanner,"/").concat(null==l?void 0:l.id)}):p.push({pathname:u.n.savingsPlanner})},footer:H,startAtStep:D,height:"calc(100vh - 240px)"}),q&&i().createElement(k.Z,{isOpen:!!q,onClose:function(){return z()},title:"Error",variant:"error"},"There was an error saving the plan.",i().createElement(Z.Z,{error:q.detail})))};ue.propTypes={title:l().string.isRequired,options:l().object.isRequired,data:l().object},ue.defaultProps={data:{}};const de=ue},13784:(e,t,n)=>{"use strict";n.d(t,{cY:()=>a,GL:()=>r,wC:()=>i,kK:()=>o,bE:()=>l,dR:()=>s});var a={attributes:["id","status","job_type","started","finished","elapsed","created","cluster_name","org_name","most_failed_tasks"],defaultParams:{status:["successful","failed"],quick_date_range:"last_30_days",job_type:["workflowjob","job"],org_id:[],cluster_id:[],template_id:[],inventory_id:[],sort_options:"created",sort_order:"desc",only_root_workflows_and_standalone_jobs:!1,limit:5,offset:0}},r={defaultParams:{status:["successful"],org_id:[],cluster_id:[],template_id:[],inventory_id:[],quick_date_range:"roi_last_year",job_type:["job"],sort_options:"template_productivity_score",sort_order:"desc",start_date:null,end_date:null,limit:25,only_root_workflows_and_standalone_jobs:!0,attributes:["successful_hosts_total","successful_elapsed_total","total_org_count","total_cluster_count"],group_by:"template",group_by_time:!1}},i={defaultParams:{status:[],org_id:[],quick_date_range:"last_30_days",limit:5,offset:0,job_type:["workflowjob","job"],cluster_id:[],template_id:[],inventory_id:[],start_date:null,end_date:null}},o={defaultParams:{status:["successful","failed"],quick_date_range:"last_30_days",job_type:["workflowjob","job"],group_by_time:!0,org_id:[],cluster_id:[],template_id:[],inventory_id:[],only_root_workflows_and_standalone_jobs:!1}},l={defaultParams:{template_id:[],inventory_id:[],automation_status:[],category:[],frequency_period:[],name:"",limit:10,offset:0,sort_options:"modified",sort_order:"desc"}},s={title:"RBAC Access Denied",description:"User does not have privileges to perform this action. Contact your organization adminstrator(s) for more information."}},96183:(e,t,n)=>{"use strict";n.d(t,{U:()=>o,V:()=>s});var a=n(92137),r=n(87757),i=n.n(r);function o(e){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)(i().mark((function e(t){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},r=null,o=!1,e.prev=3,e.next=6,Promise.all(t.map(function(){var e=(0,a.Z)(i().mark((function e(t){var a,r,l,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,r=t.label,e.next=3,a();case 3:l=e.sent,(s=l.items.count)>0&&(n[r]=s,o=!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),r=e.t0;case 11:return e.abrupt("return",{results:o&&n,error:r});case 12:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}var s={savingsPlan:function(e,t){return[{request:(n=(0,a.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t({params:{id:[e.id]}}));case 1:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)}),label:"Plan"}];var n}}},79886:(e,t,n)=>{"use strict";n.d(t,{mN:()=>o,o0:()=>l,p6:()=>s,NU:()=>c,kC:()=>u,YD:()=>d,xb:()=>p,$$:()=>m,B3:()=>f,GV:()=>g});var a=n(30381),r=n.n(a);function i(e){return 0===e||"0"===e||!!parseInt(e)||!!parseFloat(e)}function o(e){return e.toString().replace(/['"]+/g,"")}function l(e){return r()(new Date(e).toISOString()).format("M/D/YYYY h:mm:ssa")}function s(e){return r()(e).format("YYYY-MM-DD")}function c(e){if(e){var t=0;return e.forEach((function(e){t+=parseInt(e.count)})),t}}var u=function(e){return"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)};function d(e,t){return i(e)&&i(t)?t-e<0?0:t-e:0}function p(e){return parseInt(e)?e/60:0}function m(e){return!parseInt(e)||parseInt(e)<0?0:60*+parseInt(e)}function f(e){return parseInt(e)?e/3600:0}function g(e){return"job"===e?"Playbook run":"Workflow job"}},50590:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(34699),r=n(96156),i=n(92950);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e,t){switch(t.type){case"FETCH_INIT":return l(l({},e),{},{isLoading:!0,isSuccess:!1,error:null});case"RESET":return l(l({},e),{},{isLoading:!0,isSuccess:!1,error:null,data:t.payload});case"FETCH_SUCCESS":return l(l({},e),{},{isLoading:!1,isSuccess:!0,error:null,data:t.payload});case"FETCH_FAILURE":return l(l({},e),{},{isLoading:!1,isSuccess:!1,error:t.payload});case"UPDATE_DATA":return l(l({},e),{},{data:t.payload});default:throw new Error}};const c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=(0,i.useState)(null),r=(0,a.Z)(n,2),o=r[0],l=r[1],c=(0,i.useReducer)(s,{isLoading:!1,isSuccess:!1,error:null,data:e}),u=(0,a.Z)(c,2),d=u[0],p=u[1];(0,i.useEffect)((function(){if(o){var e=!1;return p({type:"FETCH_INIT"}),o.then((function(n){e||p({type:"FETCH_SUCCESS",payload:t(n)})})).catch((function(t){e||p({type:"FETCH_FAILURE",payload:t})})),function(){e=!0}}}),[o]);var m=function(e){p({type:"UPDATE_DATA",payload:e})},f=function(){p({type:"RESET",payload:e})};return[d,l,m,f]}},53677:(e,t,n)=>{"use strict";n.d(t,{K:()=>f});var a=n(34699),r=n(81253),i=n(96156),o=n(92950),l=n(30381),s=n.n(l),c=n(79886),u=["id"],d=["severity"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=m(m({},e),e.sort_options&&e.sort_order&&{sort_by:"".concat(e.sort_options,":").concat(e.sort_order)}),n=(0,o.useReducer)((function(e,n){var i=n.type,o=n.value;switch(i){case"SET_STARTDATE":return m(m({},e),{},{startDate:o});case"SET_ENDDATE":return m(m({},e),{},{endDate:o});case"SET_ID":return parseInt(o)?m(m({},e),{},{id:parseInt(o)}):(e.id,(0,r.Z)(e,u));case"SET_SEVERITY":return""===o.severity?(e.severity,(0,r.Z)(e,d)):m(m({},e),o);case"SET_LIMIT":return isNaN(o)?m(m({},e),{},{limit:5}):m(m({},e),{},{limit:parseInt(o)});case"SET_OFFSET":return isNaN(o)?m(m({},e),{},{offset:0}):m(m({},e),{},{offset:parseInt(o)});case"SET_ATTRIBUTES":case"SET_JOB_TYPE":case"SET_STATUS":case"SET_ORG":case"SET_CLUSTER":case"SET_TEMPLATE":case"SET_AUTOMATION_STATUS":case"SET_CATEGORY":case"SET_FREQUENCY":case"SET_NAME":case"SET_ROOT_WORKFLOWS_AND_JOBS":case"SET_INVENTORY":return m(m({},e),o);case"SET_QUICK_DATE_RANGE":var l=m({},e);return"custom"!==o&&(l=m(m({},l),{},{start_date:null,end_date:null})),m(m({},l),o);case"SET_START_DATE":case"SET_END_DATE":var s={};return Object.entries(o).forEach((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];s[n]=(0,c.p6)(r)})),m(m({},e),s);case"SET_SORT_OPTIONS":return m(m({},e),{},{sort_options:o.sort_options},e.sort_order&&{sort_by:"".concat(o.sort_options,":").concat(e.sort_order)});case"SET_SORT_ORDER":return m(m({},e),{},{sort_order:o.sort_order},e.sort_options&&{sort_by:"".concat(e.sort_options,":").concat(o.sort_order)});case"REINITIALIZE":return m({},o);case"RESET_FILTER":return m({},t);default:throw new Error("The query params reducer action (".concat(i,") not found."))}}),m({},t)),l=(0,a.Z)(n,2),p=l[0],f=l[1],g={status:"SET_STATUS",quick_date_range:"SET_QUICK_DATE_RANGE",job_type:"SET_JOB_TYPE",org_id:"SET_ORG",cluster_id:"SET_CLUSTER",template_id:"SET_TEMPLATE",sort_order:"SET_SORT_ORDER",sort_options:"SET_SORT_OPTIONS",start_date:"SET_START_DATE",end_date:"SET_END_DATE",automation_status:"SET_AUTOMATION_STATUS",category:"SET_CATEGORY",frequency_period:"SET_FREQUENCY",name:"SET_NAME",only_root_workflows_and_standalone_jobs:"SET_ROOT_WORKFLOWS_AND_JOBS",inventory_id:"SET_INVENTORY"};return{queryParams:p,dispatch:f,setFromToolbar:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;f(e?{type:g[e],value:(0,i.Z)({},e,t)}:{type:"RESET_FILTER"})},setFromPagination:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;f({type:"SET_OFFSET",value:e}),t&&f({type:"SET_LIMIT",value:t})},setSeverity:function(e){return f({type:"SET_SEVERITY",value:{severity:e}})},setEndDate:function(){var e=s()().format("YYYY-MM-DD");f({type:"SET_ENDDATE",value:e})},setId:function(e){return f({type:"SET_ID",value:e})},setStartDate:function(e){var t;7===e&&(t=s()().subtract(1,"week").format("YYYY-MM-DD")),14===e&&(t=s()().subtract(2,"weeks").format("YYYY-MM-DD")),t=31===e?s()().subtract(1,"month").format("YYYY-MM-DD"):s()().subtract(e,"days").format("YYYY-MM-DD"),f({type:"SET_STARTDATE",value:t})},setStartDateAsString:function(e){return f({type:"SET_STARTDATE",value:e})}}}},14115:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(20806),r=n(17563);const i=function(e,t){return function(n){var i=(0,r.stringify)(n,{arrayFormat:"bracket"});e.push({pathname:a.n[t],search:i})}}},8644:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>s,px:()=>u,pF:()=>c});var a=n(92137),r=n(34699),i=n(87757),o=n.n(i),l=n(92950);function s(e,t){var n=(0,l.useState)(t),i=(0,r.Z)(n,2),s=i[0],c=i[1],u=(0,l.useState)(null),d=(0,r.Z)(u,2),p=d[0],m=d[1],f=(0,l.useState)(!1),g=(0,r.Z)(f,2),h=g[0],y=g[1],v=function(){var e=(0,l.useRef)(null);return(0,l.useEffect)((function(){return e.current=!0,function(){e.current=!1}})),e}();return{result:s,error:p,isLoading:h,request:(0,l.useCallback)((0,a.Z)(o().mark((function n(){var a,r=arguments;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return y(!0),n.prev=1,n.next=4,e.apply(void 0,r);case 4:a=n.sent,v.current&&(c(a),m(null)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),v.current&&(m(n.t0),c(t));case 11:return n.prev=11,v.current&&y(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,8,11,14]])}))),[e]),setValue:c}}function c(e){var t=(0,l.useState)(!1),n=(0,r.Z)(t,2),a=n[0],i=n[1];return(0,l.useEffect)((function(){e&&i(!0)}),[e]),{error:a?e:null,dismissError:function(){i(!1)}}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.qsConfig,r=void 0===n?null:n,i=t.fetchItems,l=void 0===i?null:i,u=s(e,null),d=u.error,p=u.isLoading,m=u.request,f=c(d),g=f.error,h=f.dismissError,y=function(){var e=(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:if(r){e.next=4;break}return e.abrupt("return");case 4:l();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{isLoading:p,deleteItems:y,deletionError:g,clearDeletionError:h}}},46700:(e,t,n)=>{var a={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=46700},12613:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(92950),r=n.n(a),i=n(45697),o=n.n(i),l=n(58788),s=function(){return(s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},c=[{title:"5",value:5},{title:"10",value:10},{title:"15",value:15},{title:"20",value:20},{title:"25",value:25}],u=function(e){var t=e.count,n=void 0===t?0:t,a=e.params,i=e.setPagination,o=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["count","params","setPagination"]),u=a.offset,d=a.limit,p=Math.floor(u/d+1),m=function(e){return(e-1)*d};return r().createElement(l.Pagination,s({itemCount:n,widgetId:"aa-pagination",perPageOptions:c,perPage:d,page:p,onPerPageSelect:function(e,t,n){i(m(n),t)},onSetPage:function(e,t){i(m(t))}},o))};u.propTypes={count:o().number,params:o().exact({offset:o().number.isRequired,limit:o().number.isRequired}).isRequired,setPagination:o().func.isRequired};const d=u},91354:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}}}]);
//# sourceMappingURL=../sourcemaps/automation_analytics.10e3f41055576a865355.js.map