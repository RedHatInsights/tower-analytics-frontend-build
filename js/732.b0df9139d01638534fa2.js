(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[732],{50470:(e,t,a)=>{"use strict";t.mq={name:"ExternalLinkAltIcon",height:512,width:512,svgPath:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z",yOffset:0,xOffset:0},t.LA=a(35183).IU(t.mq),t.ZP=t.LA},38003:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var n=a(92950),l=a.n(n),r=a(9947),i=a(38424),o=a(38779),c=a(75106),s=a(76473);const m=()=>l().createElement(r.u,{variant:r.I.full,style:{minHeight:"400px"}},l().createElement(i.k,{icon:s.TF}),l().createElement(o.D,{headingLevel:"h5",size:"lg"},"Loading..."),l().createElement(c.B,null,"Please wait."))},88241:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var n=a(92950),l=a.n(n),r=a(9947),i=a(38424),o=a(38779),c=a(75106),s=a(76473);const m=({title:e,subtext:t})=>l().createElement(r.u,{variant:r.I.full,style:{minHeight:"400px"}},l().createElement(i.k,{icon:s.TF}),l().createElement(o.D,{headingLevel:"h5",size:"lg"},e||"No Data"),t&&l().createElement(c.B,null,t))},30403:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var n=a(92950),l=a.n(n),r=a(45697),i=a.n(r),o=a(44733);const c=[{title:"5",value:5},{title:"10",value:10},{title:"15",value:15},{title:"20",value:20},{title:"25",value:25}],s=({count:e=0,perPageOptions:t=null,params:a,setPagination:n,...r})=>{const{offset:i,limit:s}=a,m=Math.floor(i/s+1),u=e=>(e-1)*s;return l().createElement(o.t,{"data-cy":r.isCompact?"pagination_top":"pagination_bottom",itemCount:e,widgetId:"aa-pagination",perPageOptions:t??c,perPage:s,page:m,onPerPageSelect:(e,t,a)=>{n(u(a),t)},onSetPage:(e,t)=>{n(u(t))},...r})};s.propTypes={count:i().number,params:i().exact({offset:i().number.isRequired,limit:i().number.isRequired}).isRequired,setPagination:i().func.isRequired,perPageOptions:i().arrayOf(i().exact({title:i().string.isRequired,value:i().number.isRequired}).isRequired)};const m=s},72410:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>J});var n,l,r,i=a(92950),o=a.n(i),c=a(97139),s=a(12788),m=a(38003),u=a(88241),f=a(11406),d=a(42910),p=a(59698),g=a(70),E=a(32045),b=a(32203),v=a(90784),h=a(22608),y=a(62394),k=a(47664),w=a(44733),x=a(30168),C=a(45697),P=a.n(C),_=a(30381),Z=a.n(_),F=a(58461),q=a(16659),S=a(81359),V=a(86399),A=a(50470),L=a(82048),B=(0,s.default)(A.ZP)(n||(n=(0,x.Z)(["\n  margin-left: 7px;\n  color: var(--pf-global--Color--400);\n  font-size: 14px;\n"]))),H=(0,s.default)(F.V)(l||(l=(0,x.Z)(["\n  border-top: 1px solid var(--pf-global--BorderColor--light-100);\n  border-bottom::nth-child(odd): 1px solid var(--pf-global--BorderColor--light-100);\n  box-shadow: none;\n  &:focus {\n    outline: none;\n  }\n"]))),T=(0,s.default)(q.F)(r||(r=(0,x.Z)(["\n  &:last-child {\n    border-bottom: 1px solid var(--pf-global--BorderColor--light-100);\n  }\n"]))),N=function(e){var t=Z()(e),a=Z()().utc();return a.isAfter(t)?"".concat(a.diff(t,"days")," day(s) ago."):t.isSame(a,"day")?t.valueOf()>36e5?"".concat(t.diff(a,"hours")," hour(s) ago."):"".concat(a.diff(t,"minutes")," minute(s) ago."):void 0},O=function(e){return e.notifications.map((function(e){var t=e.date,a=e.message,n=e.label,l=e.notification_id,r=e.tower_url;return""===n||"notice"===n?o().createElement(H,{variant:"info",key:t+"-"+l},o().createElement(S.n,{variant:"info",title:o().createElement(o().Fragment,null,r?o().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:r},(0,L.kC)(n),o().createElement(B,null)):(0,L.kC)(n))}),o().createElement(V.e,null,a," ")):"error"===n?o().createElement(H,{variant:"danger",key:t+"-"+l},o().createElement(S.n,{variant:"danger",title:o().createElement(o().Fragment,null,r?o().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:r},(0,L.kC)(n),o().createElement(B,null)):(0,L.kC)(n))}),o().createElement(V.e,{timestamp:N(t)},a," ")):"warning"===n?o().createElement(H,{variant:"warning",key:t+"-"+l},o().createElement(S.n,{variant:"warning",title:o().createElement(o().Fragment,null,r?o().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:r},(0,L.kC)(n),o().createElement(B,null)):(0,L.kC)(n))}),o().createElement(V.e,{timestamp:N(t)},a," ")):void 0}))},R=function(e){return e.notifications.filter((function(e){return"error"===e.label})).map((function(e){var t=e.message,a=e.date,n=e.label,l=e.notification_id,r=e.tower_url;return o().createElement(H,{variant:"danger",key:a+"-"+l},o().createElement(S.n,{variant:"danger",title:o().createElement(o().Fragment,null,r?o().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:r},(0,L.kC)(n),o().createElement(B,null)):(0,L.kC)(n))}),o().createElement(V.e,{timestamp:N(a)},t," "))}))},D=function(e){return e.notifications.filter((function(e){return"notice"===e.label})).map((function(e){var t=e.message,a=e.date,n=e.label,l=e.notification_id,r=e.tower_url;return o().createElement(H,{variant:"info",key:a+"-"+l},o().createElement(S.n,{variant:"info",title:o().createElement(o().Fragment,null,r?o().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:r},(0,L.kC)(n),o().createElement(B,null)):(0,L.kC)(n))}),o().createElement(V.e,{timestamp:N(a)},t," "))}))},I=function(e){return e.notifications.filter((function(e){return"warning"===e.label})).map((function(e){var t=e.message,a=e.date,n=e.label,l=e.notification_id,r=e.tower_url;return o().createElement(H,{variant:"warning",key:a+"-"+l},o().createElement(S.n,{variant:"warning",title:o().createElement(o().Fragment,null,r?o().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:r},(0,L.kC)(n),o().createElement(B,null)):(0,L.kC)(n))}),o().createElement(V.e,{timestamp:N(a)},t," "))}))},j=function(e){var t=e.filterBy,a=e.notifications;return o().createElement(o().Fragment,null,o().createElement(T,null,a.length<=0&&o().createElement(m.Z,null),""===t&&o().createElement(O,{notifications:a}),"notice"===t&&o().createElement(D,{notifications:a}),"error"===t&&o().createElement(R,{notifications:a}),"warning"===t&&o().createElement(I,{notifications:a})))};O.propTypes={notifications:P().array},R.propTypes={notifications:P().array},I.propTypes={notifications:P().array},j.propTypes={notifications:P().array,filterBy:P().string};const z=j;var M=a(30403);const U=(0,s.default)(g.l)`
  display: flex;
  justify-content: space-between;

  @media screen and (max-width: 1035px) {
    display: block;
  }
`,K=s.default.div`
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-end;

  @media screen and (max-width: 1035px) {
    display: block;
  }

  select {
    margin: 0 10px;
    width: 150px;

    @media screen and (max-width: 1035px) {
      margin: 10px 10px 0 0;
    }

    @media screen and (max-width: 865px) {
      width: 100%;
    }
  }
`,W=[{value:"please choose",label:"Select Notification Severity",disabled:!0},{value:"error",label:"View Critical",disabled:!1},{value:"warning",label:"View Warning",disabled:!1},{value:"notice",label:"View Notice",disabled:!1},{value:"",label:"View All",disabled:!1}],G={limit:5,offset:0,sort_options:"created"},J=()=>{const[e,t]=(0,i.useState)(""),{queryParams:a,setId:n,setFromPagination:l,setSeverity:r}=(0,c.Kx)(G),{severity:s,limit:g,offset:x}=a,{result:{notifications:C,meta:P},isLoading:_,isSuccess:Z,error:F,request:q}=(0,d.ZP)((0,i.useCallback)((()=>(0,f.A7)(a)),[a]),{notifications:[],meta:{count:0}}),{result:{templates:S=[]},request:V}=(0,d.ZP)((()=>(0,f.hD)()),{templates:[]});return(0,i.useEffect)((()=>{V()}),[]),(0,i.useEffect)((()=>{q()}),[a]),o().createElement(o().Fragment,null,o().createElement(p.PageHeader,{title:"Notifications"}),o().createElement(o().Fragment,null,o().createElement(E.NP,null,o().createElement(b.Z,null,o().createElement(U,null,o().createElement(K,null,o().createElement(v.i,{name:"selectedCluster",value:e,onChange:e=>{t(e),n(e),l(0)},"aria-label":"Select Cluster"},(A=S,[{value:"please choose",label:"Select cluster",disabled:!0},{value:"",label:"All Clusters",disabled:!1},{value:"-1",label:"Unassociated",disabled:!1},...A.map((({label:e,cluster_id:t,install_uuid:a})=>({value:t,label:e??a,disabled:!1})))]).map((({value:e,label:t,disabled:a},n)=>o().createElement(h.j,{isDisabled:a,key:n,value:e,label:t})))),o().createElement(v.i,{name:"selectedNotification",value:s||"",onChange:e=>{r(e),l(0)},"aria-label":"Select Notification Type"},W.map((({disabled:e,value:t,label:a},n)=>o().createElement(h.j,{isDisabled:e,key:n,value:t,label:a}))))),o().createElement(M.Z,{count:P?.count,params:{limit:+g,offset:+x},setPagination:l,isCompact:!0})),o().createElement(y.e,null,_&&o().createElement(m.Z,null),Z&&C.length<=0&&o().createElement(u.Z,null),Z&&C.length>0&&o().createElement(k.j,null,o().createElement(z,{filterBy:s||"",notifications:C})),F&&o().createElement(u.Z,null),o().createElement(M.Z,{count:P?.count,params:{limit:+g,offset:+x},setPagination:l,variant:w.a.bottom}))))));var A}},36150:()=>{},63498:()=>{},36213:()=>{},14113:()=>{},96649:()=>{},16506:()=>{},43109:()=>{},70347:()=>{},12796:()=>{},95594:()=>{},15622:()=>{},58392:()=>{},10497:()=>{},32857:()=>{},93818:()=>{},94498:()=>{},37625:()=>{},71644:()=>{},27875:()=>{},18192:()=>{},23055:()=>{},54476:()=>{},27567:()=>{},28992:()=>{},90146:()=>{},80897:()=>{},40837:()=>{},50311:()=>{},90479:()=>{},78752:()=>{},71338:()=>{},11080:()=>{},44839:()=>{},74282:()=>{},67274:()=>{},21064:()=>{},82014:()=>{},90776:()=>{},88277:()=>{},97939:()=>{},8572:()=>{},98379:()=>{},25238:()=>{},61612:()=>{},33858:()=>{},66213:()=>{},77350:()=>{},69076:()=>{},70150:()=>{},92084:()=>{},1508:()=>{},91993:()=>{},84958:()=>{},37739:()=>{},99624:()=>{},36974:()=>{},43919:()=>{},91027:()=>{},53336:()=>{},16061:()=>{},27479:()=>{},93661:()=>{},56024:()=>{},43390:()=>{},22143:()=>{},48223:()=>{},7064:()=>{},97853:()=>{},97236:()=>{},38024:()=>{},11489:()=>{},40209:()=>{},87234:()=>{},38299:()=>{},51934:()=>{},72816:()=>{},16166:()=>{}}]);
//# sourceMappingURL=../sourcemaps/732.e4a40243da41b4d9e44c786245220c81.js.map