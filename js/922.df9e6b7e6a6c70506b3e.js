"use strict";(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[922],{35451:(e,t,n)=>{t.GR={name:"CheckCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z",yOffset:0,xOffset:0},t.rE=n(35183).IU(t.GR),t.ZP=t.rE},84564:(e,t,n)=>{t.MX={name:"ExclamationCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.$O=n(35183).IU(t.MX),t.ZP=t.$O},19694:(e,t,n)=>{t.RI={name:"ExclamationTriangleIcon",height:512,width:576,svgPath:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.LP=n(35183).IU(t.RI),t.ZP=t.LP},31369:(e,t,n)=>{t.nQ={name:"InfoCircleIcon",height:512,width:512,svgPath:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z",yOffset:0,xOffset:0},t.uM=n(35183).IU(t.nQ),t.ZP=t.uM},12294:(e,t,n)=>{t.YX={name:"PlusIcon",height:512,width:448,svgPath:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",yOffset:0,xOffset:0},t.pO=n(35183).IU(t.YX),t.ZP=t.pO},77669:(e,t,n)=>{t.B9={name:"TimesCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z",yOffset:0,xOffset:0},t.xD=n(35183).IU(t.B9),t.ZP=t.xD},33606:(e,t,n)=>{t.sk={name:"TimesIcon",height:512,width:352,svgPath:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",yOffset:0,xOffset:0},t.q1=n(35183).IU(t.sk),t.ZP=t.q1},81672:(e,t,n)=>{n.d(t,{Z:()=>q});var a,r,l,i,o,c,s=n(87462),u=n(44925),d=n(30168),m=n(92950),p=n.n(m),f=n(45697),g=n.n(f),v=n(38779),h=n(80236),y=n(35451),E=n(84564),b=n(19694),k=n(31369),P=n(77669),_=n(12788),O=["isOpen","title","label","variant","children"],Z=(0,_.default)(E.ZP)(a||(a=(0,d.Z)(["\n  color: var(--pf-global--danger-color--100);\n"]))),x=(0,_.default)(P.ZP)(r||(r=(0,d.Z)(["\n  color: var(--pf-global--danger-color--100);\n"]))),w=(0,_.default)(k.ZP)(l||(l=(0,d.Z)(["\n  color: var(--pf-global--info-color--100);\n"]))),T=(0,_.default)(y.ZP)(i||(i=(0,d.Z)(["\n  color: var(--pf-global--success-color--100);\n"]))),S=(0,_.default)(b.ZP)(o||(o=(0,d.Z)(["\n  color: var(--pf-global--warning-color--100);\n"]))),C=_.default.div(c||(c=(0,d.Z)(["\n  display: flex;\n  svg {\n    margin-right: 16px;\n  }\n"]))),D=function(e){var t=e.isOpen,n=e.title,a=e.label,r=void 0===a?"Alert modal":a,l=e.variant,i=void 0===l?"warning":l,o=e.children,c=(0,u.Z)(e,O),d={danger:p().createElement(Z,{size:"lg"}),error:p().createElement(x,{size:"lg"}),info:p().createElement(w,{size:"lg"}),success:p().createElement(T,{size:"lg"}),warning:p().createElement(S,{size:"lg"})},m=p().createElement(C,null,i?d[i]:null,p().createElement(v.D,{id:"alert-modal-header-label",size:"2xl",headingLevel:"h2"},n));return p().createElement(h.u,(0,s.Z)({header:m,"aria-label":r,"aria-labelledby":"alert-modal-header-label",isOpen:!!t,variant:"small",title:n},c),o)};D.propTypes={isOpen:g().bool.isRequired,title:g().string.isRequired,label:g().string,variant:g().string,children:g().node};const q=D},62923:(e,t,n)=>{n.d(t,{Z:()=>b});var a,r,l,i=n(70885),o=n(30168),c=n(92950),s=n.n(c),u=n(45697),d=n.n(u),m=n(12788),p=n(32203),f=n(62394),g=n(22629),v=(0,m.default)(p.Z)(a||(a=(0,o.Z)(["\n  background-color: var(--pf-global--BackgroundColor--200);\n  overflow-wrap: break-word;\n"]))),h=(0,m.default)(f.e)(r||(r=(0,o.Z)(["\n  max-height: 200px;\n  overflow: scroll;\n"]))),y=(0,m.default)(g.L)(l||(l=(0,o.Z)(["\n  text-align: left;\n\n  & .pf-c-expandable__toggle {\n    padding-left: 10px;\n    margin-left: 5px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n"])));function E(e){var t=e.error,n=(0,c.useState)(!1),a=(0,i.Z)(n,2),r=a[0],l=a[1];return s().createElement(s().Fragment,null,Array.isArray(t)&&t.length&&s().createElement(y,{toggleText:"Details",onToggle:function(){l(!r)},isExpanded:r},s().createElement(v,null,s().createElement(h,null,s().createElement("ul",null,t.map((function(e){return"string"==typeof e?s().createElement("li",{key:e},e):null})))))))}E.propTypes={error:d().arrayOf(d().string)};const b=E},80922:(e,t,n)=>{n.d(t,{Z:()=>ze});var a=n(4942),r=n(15861),l=n(70885),i=n(64687),o=n.n(i),c=n(92950),s=n.n(c),u=n(45697),d=n.n(u),m=n(62012),p=n(18257),f=n(87422),g=n(47173),v=n(77583),h=n(42910),y="SET_NAME",E="SET_CATEGORY",b="SET_DESCRIPTION",k="SET_MANUAL_TIME",P="SET_HOSTS",_="SET_FREQUENCY_PERIOD",O="SET_TASKS",Z="SET_TEMPLATE_ID";function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(null!=e&&e.length)return e.sort((function(e,t){return e.task_order-t.task_order})).map((function(e){return e.task}))};var S=n(11406),C=n(81672),D=n(62923),q=n(83115),I=n(50693),R=n(59775),z=n(92607),j=n(87828),L=n(54680),M=n(92694),A=n(96988),N=n(84564),B=n(82048),F=function(e){var t=e.options,n=e.formData,a=e.dispatch,r=n.name,i=n.category,o=n.description,u=n.manual_time,d=n.hosts,m=n.frequency_period,p=(0,c.useState)(!1),f=(0,l.Z)(p,2),g=f[0],v=f[1],h=(0,c.useState)(!1),O=(0,l.Z)(h,2),Z=O[0],x=O[1],w=(0,c.useState)(!1),T=(0,l.Z)(w,2),S=T[0],C=T[1],D=(0,c.useState)(!1),F=(0,l.Z)(D,2),H=F[0],U=F[1];return s().createElement(q.l,null,t&&s().createElement(I.r,{hasGutter:!0,md:6},s().createElement(R.c,{label:"What do you want to automate?",isRequired:!0,fieldId:"name-field"},s().createElement(z.oi,{isRequired:!0,placeholder:"Example: Provision NGINX server",type:"text",id:"name-field",name:"name",value:r,onChange:function(e){return a({type:y,value:e})},onFocus:function(){return U(!r)},onBlur:function(){return U(!r)}}),!n.name&&H&&s().createElement(j.Q,{isError:!0,icon:s().createElement(N.ZP,null),isHidden:!H},"Name is required")),s().createElement(R.c,{label:"What type of task is it?",fieldId:"category-field"},s().createElement(L.P,{id:"category-field",isOpen:g,variant:"single","aria-label":"Plan category selector",maxHeight:390,onToggle:function(){return v(!g)},onSelect:function(e,t){a({type:E,value:t}),v(!1)},selections:i},((null==t?void 0:t.category)||[]).map((function(e){var t=e.key,n=e.value;return s().createElement(M.$,{key:t,value:t},n)})))),s().createElement(R.c,{label:"Enter a description of your automation plan",fieldId:"description-field"},s().createElement(z.oi,{type:"text",placeholder:"Place description here",id:"description-field",name:"description",value:o,onChange:function(e){return a({type:b,value:e})}})),s().createElement(R.c,{label:"How long does it take to do this manually?",fieldId:"manual-time-field"},s().createElement(L.P,{id:"manual-time-field",isOpen:Z,variant:"single",placeholderText:"Select amount","aria-label":"Plan time selector",onToggle:function(){return x(!Z)},onSelect:function(e,t){a({type:k,value:t}),x(!1)},selections:u},((null==t?void 0:t.manual_time)||[]).map((function(e){var t=e.key,n=e.value;return s().createElement(M.$,{key:t,value:t},n)})))),s().createElement(R.c,{label:"How many hosts do you plan to run this on?",fieldId:"hosts-field"},s().createElement(A.Y,{inputAriaLabel:"Number of hosts",widthChars:8,onChange:function(e){((0,B.i_)(e.target.value)||0===e.target.value.length)&&a({type:P,value:parseInt(e.target.value)})},onMinus:function(){return a({type:P,value:(0,B.i_)(d)?d-1:0})},onPlus:function(){return a({type:P,value:(0,B.i_)(d)?d+1:1})},id:"hosts-field",name:"hosts",value:d,min:0})),s().createElement(R.c,{label:"How often do you do this?",fieldId:"frequency-period-field"},s().createElement(L.P,{id:"frequency-period-field",isOpen:S,variant:"single",placeholderText:"Select frequency period","aria-label":"Plan frequency period selector",onToggle:function(){C(!S)},onSelect:function(e,t){a({type:_,value:t}),C(!1)},selections:m},((null==t?void 0:t.frequency_period)||[]).map((function(e){var t=e.key,n=e.value;return s().createElement(M.$,{key:t,value:t},n)}))))))};F.propTypes={options:d().object.isRequired,formData:d().object.isRequired,dispatch:d().func.isRequired};const H=F;var U,G,W,X,Y,$=n(42982),K=n(30168),Q=n(12788),V=n(38779),J=n(78090),ee=n(81217),te=n(65802),ne=n(4396),ae=n(61282),re=n(74317),le=n(83048),ie=n(14087),oe=n(27511),ce=n(12294),se=n(33606),ue=Q.default.div(U||(U=(0,K.Z)(["\n  margin-top: 20px;\n"]))),de=(0,Q.default)(V.D)(G||(G=(0,K.Z)(["\n  margin-bottom: 10px;\n"]))),me=(0,Q.default)(g.zx)(W||(W=(0,K.Z)(["\n  padding: 0 16px;\n"]))),pe=(0,Q.default)(J.r)(X||(X=(0,K.Z)(["\n  padding: 6px 0;\n"]))),fe=(0,Q.default)(ee.V)(Y||(Y=(0,K.Z)(["\n  align-items: center;\n"]))),ge=function(e){var t=e.tasks,n=e.dispatch,a=function(e){n({type:O,value:e})},r=(0,c.useState)(""),i=(0,l.Z)(r,2),o=i[0],u=i[1],d=(0,c.useState)(""),m=(0,l.Z)(d,2),p=m[0],f=m[1],v=(0,c.useState)(""),h=(0,l.Z)(v,2),y=h[0],E=h[1],b=function(){var e=o.trim();""!==e&&(a([].concat((0,$.Z)(t),[e])),u(""))};return s().createElement(s().Fragment,null,s().createElement(q.l,null,s().createElement(I.r,{hasGutter:!0,md:6},s().createElement(R.c,{label:"What tasks do you need to accomplish this plan?",fieldId:"task-field"},s().createElement(te.B,null,s().createElement(z.oi,{placeholder:"Enter a description of each task",type:"text",id:"task-field",name:"task",value:o,onChange:function(e){return u(e)},onKeyDown:function(e){e.key&&"Enter"===e.key&&(e.preventDefault(),b())}}),s().createElement(g.zx,{onClick:b,isDisabled:""===o.trim(),variant:"control","aria-label":"Add task"},s().createElement(ce.ZP,null)))))),t.length>0&&s().createElement(ue,null,s().createElement(de,{headingLevel:"h4",size:"xl"},"Tasks"),s().createElement(ne.FR,{"aria-label":"Draggable list to reorder and remove tasks.",isCompact:!0,onDragFinish:function(e){f("Dragging finished"),a(e.map((function(e){return e.split("-").slice(0,-1).join("-")})))},onDragStart:function(e){E(e),f("Dragging started for task ".concat(e,"."))},onDragMove:function(e,t){f("Dragging task ".concat(y,".  Task ").concat(e," is now task ").concat(t,"."))},onDragCancel:function(){f("Dragging cancelled. Tasks list order is unchanged.")},itemOrder:t.map((function(e,t){return"".concat(e,"-").concat(t)}))},t.map((function(e,n){return s().createElement(ae.L,{"aria-labelledby":"cell-".concat(n+1),id:"".concat(e,"-").concat(n),key:n+1},s().createElement(fe,null,s().createElement(re.v,null,s().createElement(le.D,{"aria-label":"Reorder","aria-labelledby":"cell-".concat(n+1),"aria-describedby":"Press space or enter to begin dragging, and use the arrow keys to navigate up or down. Press enter to confirm the drag, or any other key to cancel the drag operation.","aria-pressed":"false"})),s().createElement(ie.p,{dataListCells:[s().createElement(oe.K,{key:n+1},s().createElement("span",{id:"cell-".concat(n+1)},"".concat(n+1,". ").concat(e)))]}),s().createElement(pe,{"aria-label":"Actions"},s().createElement(me,{onClick:function(){return function(e){a(t.filter((function(t,n){return n!==e})))}(n)},variant:"plain","aria-label":"Delete"},s().createElement(se.ZP,null)))))})))),s().createElement("div",{className:"pf-screen-reader","aria-live":"assertive"},p))};ge.propTypes={tasks:d().array.isRequired,dispatch:d().func.isRequired};const ve=ge;var he,ye=n(44925),Ee=n(44733),be=n(44518),ke=n(38003),Pe=n(3349),_e=n(11470),Oe=n(30403),Ze=n(97139),xe=n(81221),we=["quick_date_range","sort_options"],Te=Q.default.div(he||(he=(0,K.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),Se={group_by:"template",limit:10,group_by_time:!1,offset:0,sort_options:"name",sort_order:"asc",cluster_id:[],inventory_id:[],job_type:[],org_id:[],status:[],template_id:[]},Ce=function(e){var t=e.template_id,n=e.dispatch,a=(0,Ze.Kx)(Se),l=a.queryParams,i=a.setFromPagination,u=a.setFromToolbar,d=a.dispatch,m=(0,h.ZP)((0,r.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.ZW)();case 2:return(t=e.sent).quick_date_range,t.sort_options,n=(0,ye.Z)(t,we),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),{}),p=m.result,f=m.error,v=m.isSuccess,y=m.request,E=(0,h.ZP)(S.Ij,{items:[],meta:{count:0}}),b=E.result,k=b.items,P=b.meta,_=E.isLoading,O=E.isSuccess,x=E.request,w={sort:{sortBy:{direction:l.sort_order},onSort:function(e,t,n){d({type:"SET_SORT_ORDER",value:{sort_order:n}})}}};return(0,c.useEffect)((function(){y(),x(l)}),[l]),v?s().createElement(q.l,null,s().createElement(R.c,{label:"Link a template to this plan:",fieldId:"template-link-field"},s().createElement(xe.Z,{categories:p,filters:l,setFilters:u,pagination:s().createElement(Oe.Z,{count:P.count,params:{limit:+l.limit,offset:+l.offset},setPagination:i,isCompact:!0})}),f&&s().createElement(_e.Z,{message:f.error}),_&&s().createElement(ke.Z,null),O&&k.length<=0&&s().createElement(Pe.Z,null),O&&k.length>0&&s().createElement(be.TableComposable,{"aria-label":"Template link table",variant:"compact"},s().createElement(be.Thead,null,s().createElement(be.Tr,null,s().createElement(be.Th,null),s().createElement(be.Th,w,"Name"))),s().createElement(be.Tbody,null,k.map((function(e){var a=e.id,r=e.name;return s().createElement(be.Tr,{key:"template-detail-".concat(a)},s().createElement(be.Td,{"data-cy":"radio-".concat(a),"data-testid":"radio-".concat(a),key:"template-detail-".concat(a,"-radio-td"),select:{rowIndex:a,onSelect:function(e,t,a){return n({type:Z,value:a})},isSelected:t===a,variant:"radio"}}),s().createElement(be.Td,null,r))})))),s().createElement(Te,null,s().createElement("div",null,-2!==t&&s().createElement(g.zx,{key:"clear-selection-button",variant:"link","aria-label":"Clear selection",onClick:function(){n({type:Z,value:-2})}},"Clear selection")),s().createElement(Oe.Z,{count:P.count,params:{limit:+l.limit,offset:+l.offset},setPagination:i,variant:Ee.a.bottom})))):null};Ce.propTypes={template_id:d().number.isRequired,dispatch:d().func.isRequired};const De=Ce;function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Re=function(e){var t,n=e.title,a=e.options,i=e.data,u=void 0===i?{}:i,d=(0,m.useNavigate)(),x=(0,m.useLocation)().hash,q=(0,c.useState)(null),I=(0,l.Z)(q,2),R=I[0],z=I[1],j=(0,h.ZP)(function(){var e=(0,r.Z)(o().mark((function e(t,n){var a,r,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}if(!n){e.next=7;break}return e.next=4,(0,S.Vs)(n,t);case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,(0,S.he)(t);case 9:return a=e.sent,r=a.id,l=a.plan_created,e.abrupt("return",{plan_created:Ie({id:r},l)});case 13:return e.abrupt("return",{plan_created:{id:0}});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),{plan_created:{id:0}}),L=j.result,M=j.isSuccess,A=j.error,N=j.request,B=function(e){var t,n=(0,c.useReducer)((function(e,t){var n=t.type,a=t.value;switch(n){case y:return w(w({},e),{},{name:a});case E:return w(w({},e),{},{category:a});case b:return w(w({},e),{},{description:a});case k:return w(w({},e),{},{manual_time:a});case P:return w(w({},e),{},{hosts:a});case _:return w(w({},e),{},{frequency_period:a});case O:return w(w({},e),{},{tasks:a});case Z:return w(w({},e),{},{template_id:a});default:throw new Error("usePlanData reducer action type ".concat(n," was not found."))}}),{name:(null==e?void 0:e.name)||"",category:(null==e?void 0:e.category)||"system",description:(null==e?void 0:e.description)||"",manual_time:(null==e?void 0:e.manual_time)||240,hosts:(null==e?void 0:e.hosts)||1,frequency_period:(null==e?void 0:e.frequency_period)||"weekly",tasks:T(null==e?void 0:e.tasks)||[],template_id:(null==e?void 0:e.template_id)||-2}),a=(0,l.Z)(n,2),r=a[0],i=a[1];return{formData:r,requestPayload:(t=w({},r),t.tasks=t.tasks.map((function(e,t){return{task:e,task_order:t+1}})),t.hosts&&""!==t.hosts||(t.hosts=1),t.hourly_rate=50,t.frequency_per_period=1,t),dispatch:i}}(u),F=B.formData,U=B.requestPayload,G=B.dispatch,W=[{step_number:1,id:"details",name:"Details",component:s().createElement(H,{options:a,formData:F,dispatch:G})},{step_number:2,id:"tasks",name:"Tasks",component:s().createElement(ve,{tasks:F.tasks,dispatch:G}),canJumpTo:!!F.name},{step_number:3,id:"link_template",name:"Link template",component:s().createElement(De,{template_id:F.template_id,dispatch:G}),canJumpTo:!!F.name,nextButtonText:"Save"}];(0,c.useEffect)((function(){x?z(W.find((function(e){return"#".concat(e.id)===x})).step_number):(window.history.pushState(null,null,window.location.pathname+"#details"),z(1))}),[]);var X=function(e){window.history.pushState(null,null,window.location.pathname+"#".concat(e.id))},Y=function(){N(U,null==u?void 0:u.id)},$=s().createElement(p.d,null,s().createElement(f.Ts,null,(function(e){var t=e.activeStep,n=e.onNext,a=e.onBack,r=e.onClose;return 3!==t.step_number?s().createElement(s().Fragment,null,s().createElement(g.zx,{variant:g.Wu.primary,type:"submit",onClick:n,isDisabled:!F.name},"Next"),1!==t.step_number&&s().createElement(g.zx,{variant:"secondary",onClick:a},"Back"),s().createElement(g.zx,{variant:"link",onClick:r},"Cancel")):s().createElement(s().Fragment,null,s().createElement(g.zx,{variant:g.Wu.primary,type:"submit",onClick:Y,isDisabled:!F.name},"Save"),s().createElement(g.zx,{variant:"secondary",onClick:a},"Back"),s().createElement(g.zx,{variant:"link",onClick:r},"Cancel"))})));return s().createElement(s().Fragment,null,M&&s().createElement(m.Navigate,{to:"../savings-planner/"+L.plan_created.id}),R&&s().createElement(v.e,{navAriaLabel:"".concat(n," steps"),mainAriaLabel:"".concat(n," content"),steps:W,onGoToStep:X,onNext:X,onBack:X,onSave:Y,onClose:function(){-1!==location.pathname.indexOf("/edit")?d("../savings-planner/"+(null==u?void 0:u.id)):d("../savings-planner")},footer:$,startAtStep:R,height:"calc(100vh - 240px)"}),A&&s().createElement(C.Z,{isOpen:!!A,onClose:function(){N()},title:"Error",variant:"error"},"There was an error saving the plan.",s().createElement(D.Z,{error:null==A||null===(t=A.error)||void 0===t?void 0:t.detail.name})))};Re.propTypes={title:d().string.isRequired,options:d().object.isRequired,data:d().object};const ze=Re},38003:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(92950),r=n.n(a),l=n(9947),i=n(38424),o=n(38779),c=n(75106),s=n(76473);const u=()=>r().createElement(l.u,{variant:l.I.full,style:{minHeight:"400px"}},r().createElement(i.k,{icon:s.TF}),r().createElement(o.D,{headingLevel:"h5",size:"lg"},"Loading..."),r().createElement(c.B,null,"Please wait."))},3349:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(92950),r=n.n(a),l=n(9947),i=n(38424),o=n(38779),c=n(75106),s=n(80810);const u=()=>r().createElement(l.u,{variant:l.I.full},r().createElement(i.k,{icon:s.W1}),r().createElement(o.D,{size:"lg",headingLevel:"h4"},"No results found"),r().createElement(c.B,null,"No results match the filter criteria. Remove all filters or clear all filters to show results."))},30403:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(92950),r=n.n(a),l=n(45697),i=n.n(l),o=n(44733);const c=[{title:"5",value:5},{title:"10",value:10},{title:"15",value:15},{title:"20",value:20},{title:"25",value:25}],s=({count:e=0,perPageOptions:t=null,params:n,setPagination:a,...l})=>{const{offset:i,limit:s}=n,u=Math.floor(i/s+1),d=e=>(e-1)*s;return r().createElement(o.t,{"data-cy":l.isCompact?"pagination_top":"pagination_bottom",itemCount:e,widgetId:"aa-pagination",perPageOptions:t??c,perPage:s,page:u,onPerPageSelect:(e,t,n)=>{a(d(n),t)},onSetPage:(e,t)=>{a(d(t))},...l})};s.propTypes={count:i().number,params:i().exact({offset:i().number.isRequired,limit:i().number.isRequired}).isRequired,setPagination:i().func.isRequired,perPageOptions:i().arrayOf(i().exact({title:i().string.isRequired,value:i().number.isRequired}).isRequired)};const u=s},42982:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(30907),r=n(40181);function l(e){return function(e){if(Array.isArray(e))return(0,a.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,r.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=../sourcemaps/922.6c1cae54a9a43400c234069aca46fd65.js.map