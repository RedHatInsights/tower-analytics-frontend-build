"use strict";(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[2254],{93279:(e,t,n)=>{n.d(t,{Rh:()=>r,T3:()=>l});var a=n(40400);const r={name:"ClockIcon",height:512,width:512,svgPath:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z",yOffset:0,xOffset:0},l=(0,a.IU)(r)},90952:(e,t,n)=>{n.d(t,{v8:()=>r,fU:()=>l});var a=n(40400);const r={name:"SquareFullIcon",height:512,width:512,svgPath:"M512 512H0V0h512v512z",yOffset:0,xOffset:0},l=(0,a.IU)(r)},66395:(e,t,n)=>{n.d(t,{fX:()=>r,ew:()=>l});var a=n(40400);const r={name:"SyncAltIcon",height:512,width:512,svgPath:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z",yOffset:0,xOffset:0},l=(0,a.IU)(r)},83264:(e,t,n)=>{t.td={name:"CaretLeftIcon",height:512,width:192,svgPath:"M192 127.338v257.324c0 17.818-21.543 26.741-34.142 14.142L29.196 270.142c-7.81-7.81-7.81-20.474 0-28.284l128.662-128.662c12.599-12.6 34.142-3.676 34.142 14.142z",yOffset:0,xOffset:0},t.BN=n(35183).createIcon(t.td),t.ZP=t.BN},55411:(e,t,n)=>{n.d(t,{Z:()=>a.Z});var a=n(81672)},23071:(e,t,n)=>{n.d(t,{Z:()=>a.Z});var a=n(62923)},51340:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ee});var a,r,l=n(92950),i=n.n(l),o=n(81163),s=n(83264),c=n(1085),u=n(15861),d=n(4942),m=n(30168),p=n(64687),f=n.n(p),y=n(45697),v=n.n(y),h=n(29163),g=h.default.div(b||(a=["\n  margin-top: 20px;\n  --pf-c-card__actions--PaddingLeft: 0;\n"],r=["\n  margin-top: 20px;\n  --pf-c-card__actions--PaddingLeft: 0;\n"],Object.defineProperty?Object.defineProperty(a,"raw",{value:r}):a.raw=r,b=a));const E=function(e){var t=e.children;return i().createElement(g,null,i().createElement(c.CardActions,null,t))};var b,k,C,w=n(49148),_=n(77388),S=n(70885),O=n(55411),T=n(96183),P=n(23071),D=(0,h.default)(c.Alert)(k||(k=(0,m.Z)(["\n  margin-top: 10px;\n"]))),x=h.default.span(C||(C=(0,m.Z)(["\n  && {\n    margin-right: 10px;\n  }\n"]))),j=function(e){var t=e.onConfirm,n=e.modalTitle,a=void 0===n?"Delete":n,r=e.name,o=void 0===r?"":r,s=e.variant,d=void 0===s?"secondary":s,m=e.isDisabled,p=void 0!==m&&m,y=e.ouiaId,v=void 0===y?null:y,h=e.deleteMessage,g=void 0===h?"Delete?":h,E=e.deleteDetailsRequests,b=void 0===E?[]:E,k=e.disabledTooltip,C=void 0===k?"This item cannot be deleted":k,w=e.children,_=(0,l.useState)(!1),j=(0,S.Z)(_,2),Z=j[0],F=j[1],L=(0,l.useState)(),I=(0,S.Z)(L,2),B=I[0],A=I[1],q=(0,l.useState)({}),R=(0,S.Z)(q,2),M=R[0],N=R[1],U=(0,l.useState)(!1),G=(0,S.Z)(U,2),W=G[0],H=G[1],V=function(){var e=(0,u.Z)(f().mark((function e(t){var n,a,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(!0),!(b.length>0&&t)){e.next=8;break}return e.next=4,(0,T.U)(b);case 4:n=e.sent,a=n.results,(r=n.error)?A(r):N(a);case 8:H(!1),F(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return B?i().createElement(O.Z,{isOpen:!!B,variant:"error",title:"Error!",onClose:function(){V(!1),A()}},i().createElement(P.Z,{error:B.detail})):i().createElement(i().Fragment,null,C?i().createElement(c.Tooltip,{content:C,position:"top"},i().createElement("div",null,i().createElement(c.Button,{spinnerAriaValueText:W?"Loading":void 0,variant:d||"secondary","aria-label":"Delete",isDisabled:p,onClick:function(){return V(!0)},ouiaId:v},w||"Delete"))):i().createElement(c.Button,{ouiaId:v,spinnerAriaValueText:W?"Loading":void 0,variant:d||"secondary","aria-label":"Delete",isDisabled:p,onClick:function(){return V(!0)}},w||"Delete"),i().createElement(O.Z,{isOpen:Z,title:a,variant:"danger",onClose:function(){return V(!1)},actions:[i().createElement(c.Button,{ouiaId:"delete-modal-confirm",key:"delete",variant:"danger","aria-label":"Confirm Delete",isDisabled:p,onClick:function(){t(),V(!1)}},"Delete"),i().createElement(c.Button,{ouiaId:"delete-modal-cancel",key:"cancel",variant:"link","aria-label":"Cancel",onClick:function(){return V(!1)}},"Cancel")]},"Are you sure you want to delete:",i().createElement("br",null),i().createElement("strong",null,o),Object.values(M).length>0&&i().createElement(D,{variant:"warning",isInline:!0,title:i().createElement("div",null,i().createElement("div",{"aria-label":g},g),i().createElement("br",null),Object.entries(M).map((function(e){var t=(0,S.Z)(e,2),n=t[0],a=t[1];return i().createElement("div",{"aria-label":"".concat(n,": ").concat(a),key:n},i().createElement(x,null,n)," ",i().createElement(c.Badge,null,a))})))})))};j.propTypes={onConfirm:v().func.isRequired,modalTitle:v().string,name:v().string,variant:v().object,isDisabled:v().bool,ouiaId:v().string,deleteMessage:v().string,deleteDetailsRequests:v().array,disabledTooltip:v().bool,children:v().node};const Z=j;var F=n(84564),L=n(53345),I=function(e){var t=e.tabsArray,n=e.defaultTabId,a=void 0===n?1:n,r=(0,o.useNavigate)(),l=(0,o.useLocation)();return i().createElement(c.Tabs,{activeKey:function(e){var n;return(null===(n=t.find((function(e){return"string"==typeof e.name&&l.pathname.includes(e.name.toLowerCase())})))||void 0===n?void 0:n.id)||e}(a),onSelect:function(e,n){var a=t.find((function(e){return e.id===n}));a&&r(a.link)}},t.map((function(e){return i().createElement(c.Tab,{"aria-label":"string"==typeof e.name?e.name:"".concat(e.id," tab"),eventKey:e.id,key:e.id,link:e.link,title:i().createElement(c.TabTitleText,null,e.name),role:"tab"})})))};I.propTypes={defaultTabId:v().number,tabsArray:(0,y.arrayOf)((0,y.shape)({id:y.number.isRequired,link:y.string.isRequired,name:(0,y.oneOfType)([y.string.isRequired,y.node.isRequired])})).isRequired};const B=I;var A,q,R=n(81672),M=n(62923),N=n(62455),U=n(77685),G=n(35993),W=n(27443);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=(0,h.default)(c.CardBody)(A||(A=(0,m.Z)(["\n  min-height: 500px;\n  padding: 0;\n  padding-bottom: 20px;\n\n  &:first-child {\n    padding-top: 0;\n  }\n"]))),$=(0,h.default)(c.Divider)(q||(q=(0,m.Z)(["\n  padding-top: 24px;\n"]))),K=function(e){var t=e.tabsArray,n=e.plan,a=e.canWrite,r=(0,o.useLocation)().pathname,s=(0,o.useNavigate)(),m=n.id,p=n.automation_status,y=n.category,v=n.description,h=n.frequency_period,g=n.hosts,b=n.manual_time,k=n.modified,C=n.name,S=n.tasks,O=n.template_details,T=n.template_id,P=(0,_.ZP)(w.nE,{}),D=P.result,x=P.isSuccess,j=P.request;(0,l.useEffect)((function(){j({})}),[]);var I=function(e,t){var n;if(!x||!D[e])return"";var a=D[e].find((function(e){return e.key===t}));return null!==(n=null==a?void 0:a.value)&&void 0!==n?n:""},A=function(e,t){return"None"!==e?i().createElement(N.Z,{key:t,status:e}):i().createElement(c.Label,{key:t,variant:"outline",color:"red",icon:i().createElement(F.ZP,null),style:{marginRight:"0.5rem",marginBottom:"0.5rem"}},"Not Running")},q={Name:C||void 0,"Automation type":y?I("category",y):void 0,Description:v||void 0,"Manual time":b?I("manual_time",b):void 0,"Run on hosts":g||void 0,Frequency:h?I("frequency_period",h):void 0,Template:T?function(e){if(e.id)return i().createElement("a",{onClick:function(){return t=e.id,n=(0,d.Z)({},U.zG,V(V({},G.cY.defaultParams),{},{quick_date_range:"last_30_days",status:["failed","successful"],template_id:[t]})),void s((0,U.uJ)(W.n.jobExplorer,!0,n));var t,n}},e.name)}(O):void 0,"Last job status":Array.isArray(p.status)?p.status.map((function(e,t){return A(e,t)})):A(p.status),"Last updated":k?i().createElement("span",null,(0,L.o0)(k)):void 0},H=(0,_.ZP)(function(){var e=(0,u.Z)(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.Kh)(t);case 2:s((0,U.uJ)(W.n.savingsPlanner,!0));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),K=H.request,Y=H.error,J=(0,_.pF)(Y),X=J.error,Q=J.dismissError;return i().createElement(i().Fragment,null,n&&i().createElement(i().Fragment,null,i().createElement(z,null,i().createElement(B,{tabsArray:t}),i().createElement("div",{style:{padding:"1rem"}},i().createElement(c.DescriptionList,{isHorizontal:!0,columnModifier:{lg:"3Col"}},Object.keys(q).map((function(e,t){return void 0!==q[e]&&i().createElement(c.DescriptionListGroup,{key:t},"Last job status"===e?i().createElement(c.Tooltip,{key:"last_job_status_tooltip",position:c.TooltipPosition.top,content:p.last_known_day?"Status last reported on: ".concat(p.last_known_day):p.last_known_month?"Status last reported on: ".concat(p.last_known_month):p.last_known_year?"Status last reported on: ".concat(p.last_known_year):"Status last reported on: ".concat(p.last_known_date)},i().createElement(c.DescriptionListTerm,null,e)):i().createElement(c.DescriptionListTerm,null,e),i().createElement(c.DescriptionListDescription,null,q[e]))}))),S.length>0&&i().createElement(c.DescriptionList,null,i().createElement($,{component:"div"}),i().createElement(c.DescriptionListGroup,{key:S},i().createElement(c.DescriptionListTerm,null,"Tasks"),i().createElement(c.DescriptionListDescription,null,i().createElement(c.List,{component:"ol",type:"1"},S.map((function(e){var t=e.id,n=e.task;return i().createElement(c.ListItem,{key:t},n)})))))))),a&&i().createElement(c.CardFooter,null,i().createElement(E,null,i().createElement(c.Button,{key:"edit-plan-button",variant:"primary","aria-label":"Edit plan",onClick:function(){s((0,U.uJ)("".concat(r.split("/details")[0],"/edit")))}},"Edit"),i().createElement(Z,{key:"delete-plan-button",name:C,modalTitle:"Delete Plan",onConfirm:function(){return K(m)}},"Delete")),X&&i().createElement(R.Z,{isOpen:!!X,onClose:Q,title:"Error",variant:"error"},i().createElement(M.Z,{error:X.detail})))))};K.propTypes={plan:v().object,tabsArray:v().array,canWrite:v().bool.isRequired};const Y=K;var J=n(90952),X=n(50028),Q=n(91354);const ee=function(e){return"".concat((+e.toFixed(0)).toLocaleString()," hours")};var te=function(e){var t=e.value,n=void 0===t?0:t,a=e.isMoney,r=void 0===a||a;return i().createElement(c.Card,{isPlain:!0},i().createElement(c.CardTitle,{style:{paddingBottom:"0"}},"Total savings"),i().createElement(c.CardBody,null,i().createElement(c.Title,{headingLevel:"h3",size:"4xl",style:{color:r?"var(--pf-global--success-color--200)":"#0063CF"}},"".concat(r?(0,Q.Z)(n):ee(n)))))};te.propTypes={value:v().number,isMoney:v().bool};const ne=te;var ae=n(53688),re=function(){return i().createElement(i().Fragment,null,i().createElement("p",null,i().createElement("strong",null,"Cost")),i().createElement("p",null,"The cost includes the hours spent in implementation, deployment, training and other expenditures for creating, maintaining and running the automation. These hours (cost of investment) are usually higher at the onset, and will be greatly reduced once the automation has been created and only maintenance is required."),i().createElement("br",null),i().createElement("p",null,"For the initial period and the first year, we assume approximately 10 hours spent on each host, as well as some buffer time and a 40% risk adjustment to account for unforeseen situations."),i().createElement("br",null),i().createElement("p",null,"For the next two years after the first year, we assume 4 hours spent on each host, as well as a 40% risk adjustment to account for unforeseen situations."),i().createElement("br",null),i().createElement("p",null,"The formula used to calculate cost for the initial period and year 1:"),i().createElement(c.CodeBlock,null,i().createElement(c.CodeBlockCode,null,"C1 = (time for a manual run on one host in hours * 10) + buffer time\nC2 = C1 * 40% risk adjustment\ninitial cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)\nyear 1 cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)")),i().createElement("br",null),i().createElement("p",null,"The formula used to calculate cost for years 2 and 3:"),i().createElement(c.CodeBlock,null,i().createElement(c.CodeBlockCode,null,"C1 = (time for a manual run on one host in hours * 4)\nC2 = C1 * 40% risk adjustment\nyear 2 cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)\nyear 3 cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)")))},le=function(){return i().createElement(i().Fragment,null,i().createElement("p",null,i().createElement("strong",null,"Savings")),i().createElement("p",null,"The savings indicates the time and money saved as a result of automating the plan."),i().createElement("br",null),i().createElement("p",null,"We assume 50% productivity recapture to account for the productivity that is usually gained by repeated manual implementation of a task over a period of time. We also add a -5% risk adjustment for unforeseen situations that might arise and need to be handled. We also assume a 15% year over year growth in savings."),i().createElement("br",null),i().createElement("p",null,"Money savings for the initial period is 0, so there is no formula necessary."),i().createElement("br",null),i().createElement("p",null,"The formula used to calculate savings for year 0:"),i().createElement(c.CodeBlock,null,i().createElement(c.CodeBlockCode,null,"initial period savings = 0 - initial cost")),i().createElement("br",null),i().createElement("p",null,"The formula used for savings for year 1:"),i().createElement(c.CodeBlock,null,i().createElement(c.CodeBlockCode,null,"S1 = (number of hosts * (manual time in minutes / 60) * yearly frequency of automation)\nS2 = S1 * 50% productivity recapture\nS3 = S2 * 5% risk adjustment * (cost per hour in USD if applicable, based on display)\nyear 1 savings = S2 - S3 - year 1 cost")),i().createElement("br",null),i().createElement("p",null,"The formula used to calculate savings for year 2:"),i().createElement(c.CodeBlock,null,i().createElement(c.CodeBlockCode,null,"S1 = year 1 savings * 15% growth\nyear 2 savings = year 1 savings + S1 - year 2 cost")),i().createElement("br",null),i().createElement("p",null,"The formula used to calculate savings for year 3:"),i().createElement(c.CodeBlock,null,i().createElement(c.CodeBlockCode,null,"S2 = year 2 savings * 15% growth\nyear 3 savings = year 2 savings + S2 - year 3 cost")))};const ie=function(){var e=(0,l.useState)(!1),t=e[0],n=e[1];return i().createElement(i().Fragment,null,i().createElement(c.Button,{variant:c.ButtonVariant.link,onClick:function(){return n(!0)},icon:i().createElement(ae.uM,null)},"Automation formula"),i().createElement(c.Modal,{title:"Automation formula",isOpen:t,onClose:function(){return n(!1)},variant:c.ModalVariant.medium,actions:[i().createElement(c.Button,{key:"cancel",variant:c.ButtonVariant.primary,onClick:function(){return n(!1)}},"Close")]},i().createElement("p",null,"We use risk-adjusted factors to create the 3-year projection of cost and savings related to automation. While we aim to provide as accurate an account of the cost and savings as possible, actual values may differ in practice. The following information breaks down where we get the data, the risk-adjustment factors we use, the assumptions we make, and the formula used to compute the values as displayed in the chart."),i().createElement("br",null),i().createElement(re,null),i().createElement("br",null),i().createElement(le,null)))};var oe=n(86552),se=function(){return se=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},se.apply(this,arguments)},ce=function(e){return{items:e.projections.series_stats,meta:{legend:[],count:0}}},ue=function(e){return{cost:{key:e?"total_costs":"total_hours_spent_risk_adjusted",color:"#8B8D8F"},benefit:{key:e?"total_benefits":"total_hours_saved",color:e?"var(--pf-global--success-color--100)":"#0063CF"},net:{key:e?"cumulative_net_benefits":"cumulative_time_net_benefits",color:"#EE7A00"}}};const de=function(e){var t,n,a,r,o=e.tabsArray,s=e.plan,u=(n={initial:"Initial",year1:"Year 1",year2:"Year 2",year3:"Year 3"},a=(t=s).projections.series_stats.map((function(e){return se(se({},e),{year:n[e.year],total_costs:-1*e.total_costs,total_hours_spent_risk_adjusted:-1*e.total_hours_spent_risk_adjusted})})),se(se({},t),{projections:se(se({},t.projections),{series_stats:a})})),d=(0,l.useState)(!0),m=d[0],p=d[1],f=[{id:1e3,kind:X.$v.wrapper,type:X.yD.chart,parent:null,props:{height:600,domainPadding:{x:100},padding:{bottom:60,left:80},themeColor:X.nz.gray},tooltip:{cursor:!0,stickToAxis:"x",mouseFollow:!0,legendTooltip:{legendData:[{childName:ue(m).benefit.key,name:"Savings",symbol:{fill:ue(m).benefit.color}},{childName:ue(m).cost.key,name:"Costs",symbol:{fill:ue(m).cost.color}},{childName:ue(m).net.key,name:"Cumulative savings",symbol:{fill:ue(m).net.color}}],titleProperyForLegend:"year"},labelFormat:"customTooltipFormatting"},xAxis:{label:"Time"},yAxis:{label:m?"Money Saved":"Hours Saved",tickFormat:"formatNumberAsK",style:{grid:{stroke:"#D2D2D2"},axisLabel:{padding:60}}}},{id:1001,kind:X.$v.stack,parent:1e3,props:{}},{id:1102,kind:X.$v.simple,type:X.oX.bar,name:ue(m).benefit.key,parent:1001,props:{x:"year",y:ue(m).benefit.key,barRatio:.8,barWidth:0,style:{data:{fill:ue(m).benefit.color,width:120}}},tooltip:{labelName:""}},{id:1101,kind:X.$v.simple,type:X.oX.bar,name:ue(m).cost.key,parent:1001,props:{x:"year",y:ue(m).cost.key,barRatio:.8,barWidth:0,style:{data:{fill:ue(m).cost.color,width:120}}},tooltip:{labelName:""}},{id:1002,kind:X.$v.simple,type:X.oX.line,name:ue(m).net.key,parent:1e3,props:{x:"year",y:ue(m).net.key,style:{data:{stroke:ue(m).net.color,strokeWidth:5}}},tooltip:{labelName:""}}];return i().createElement(c.Card,null,i().createElement(B,{tabsArray:o}),i().createElement(c.Grid,null,i().createElement(c.GridItem,{span:9},i().createElement(c.Card,{isPlain:!0},i().createElement(c.CardHeader,null,i().createElement(c.CardActions,null,i().createElement(c.ToggleGroup,{"aria-label":"toggleButton"},i().createElement(c.ToggleGroupItem,{text:"Money",buttonId:"money",isSelected:m,onChange:function(){return p(!0)}}),i().createElement(c.ToggleGroupItem,{text:"Time",buttonId:"time",isSelected:!m,onChange:function(){return p(!1)}}))),i().createElement(c.CardTitle,null,u.name)),i().createElement(c.CardBody,null,i().createElement(oe.Z,{schema:f,data:ce(u),specificFunctions:{labelFormat:{customTooltipFormatting:function(e){var t=e.datum;return m?(0,Q.Z)(+t.y):ee(+t.y)}}}})))),i().createElement(c.GridItem,{span:3},i().createElement(i().Fragment,null,i().createElement(ne,{value:(r=u,m?r.projections.series_stats[3].cumulative_net_benefits:r.projections.series_stats[3].cumulative_time_net_benefits),isMoney:m}),i().createElement(c.Card,{isPlain:!0},i().createElement(c.CardBody,null,i().createElement(c.List,{isPlain:!0},i().createElement(c.ListItem,{icon:i().createElement(J.fU,{color:ue(m).benefit.color})},"Savings from automating this plan"),i().createElement(c.ListItem,{icon:i().createElement(J.fU,{color:ue(m).cost.color})},"Costs from creating, maintaining and running the automation"),i().createElement(c.ListItem,{icon:i().createElement(J.fU,{color:ue(m).net.color})},"Cumulative savings over time")))),i().createElement(ie,null)))))};var me=n(9771),pe=n(83913),fe=n(39173),ye=n(69595),ve=n(80922),he=function(e){var t,n,a=e.data,r=(0,o.useParams)().id,s=(0,o.useNavigate)(),c=(0,_.ZP)(w.nE,{meta:{rbac:{perms:{}}}}),u=c.result,d=c.isSuccess,m=c.request,p=!0===(null===(t=u.meta.rbac.perms)||void 0===t?void 0:t.write)||!0===(null===(n=u.meta.rbac.perms)||void 0===n?void 0:n.all);return(0,l.useEffect)((function(){m({})}),[]),(0,l.useEffect)((function(){d&&!p&&s((0,U.uJ)(function(e){return"".concat(W.n.savingsPlanner,"/").concat(e)}(r)))}),[p]),d?i().createElement(ve.Z,{title:"Edit plan",options:u,data:a}):null};he.propTypes={data:v().object.isRequired};const ge=he,Ee=function(){var e,t,n=(0,o.useParams)().id,a=(0,o.useLocation)(),r={id:[n]},u="Details";-1!==a.pathname.indexOf("/statistics")?u="Statistics":-1!==a.pathname.indexOf("/edit")&&(u="Edit plan");var d=(0,_.ZP)(w.wD,{plan:{},rbac:{perms:{}}}),m=d.result,p=m.rbac,f=m.plan,y=d.isSuccess,v=d.error,h=d.request;(0,l.useEffect)((function(){a.pathname.includes("/edit")||h(n)}),[a]),(0,l.useEffect)((function(){h(n)}),[n]);var g=y&&(!0===(null===(e=p.perms)||void 0===e?void 0:e.write)||!0===(null===(t=p.perms)||void 0===t?void 0:t.all)),E=[{id:0,name:i().createElement(i().Fragment,null,i().createElement(s.ZP,null),"Back to Plans"),link:"../savings-planner"},{id:1,name:"Details",link:"../savings-planner/".concat(n)},{id:2,name:"Statistics",link:"../savings-planner/".concat(n,"/statistics")}],b=y?[{title:"Savings Planner",navigate:"../savings-planner"},{title:f.name,navigate:"../savings-planner/".concat(n)}]:[];return i().createElement(i().Fragment,null,v&&i().createElement(me.Z,{message:v.error}),y&&i().createElement(i().Fragment,null,i().createElement(pe.Z,null,i().createElement(ye.Z,{items:b}),i().createElement(fe.Z,{title:u})),i().createElement(c.PageSection,null,i().createElement(c.Card,null,a.pathname.includes("edit")&&i().createElement(ge,{data:f}),a.pathname.includes("statistics")&&i().createElement(de,{tabsArray:E,plan:f,queryParams:r}),!a.pathname.includes("statistics")&&!a.pathname.includes("edit")&&i().createElement(Y,{plan:f,tabsArray:E,canWrite:g})))))}},96183:(e,t,n)=>{n.d(t,{U:()=>i});var a=n(15861),r=n(64687),l=n.n(r);function i(e){return o.apply(this,arguments)}function o(){return o=(0,a.Z)(l().mark((function e(t){var n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},r=null,i=!1,e.prev=3,e.next=6,Promise.all(t.map(function(){var e=(0,a.Z)(l().mark((function e(t){var a,r,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,r=t.label,e.next=3,a();case 3:o=e.sent,(s=o.items.count)>0&&(n[r]=s,i=!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),r=e.t0;case 11:return e.abrupt("return",{results:i&&n,error:r});case 12:case"end":return e.stop()}}),e,null,[[3,8]])}))),o.apply(this,arguments)}},86552:(e,t,n)=>{n.d(t,{Z:()=>f});var a,r=n(92950),l=n.n(r),i=n(43047),o=n(50028),s=n(77685),c=n(44586);!function(e){e.nonGrouped="nonGrouped",e.grouped="grouped"}(a||(a={}));var u=function(){return u=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)},d=function(){return d=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},d.apply(this,arguments)},m=function(e){var t=e.x,n=e.y,a=(e.disableInlineStyles,function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["x","y","disableInlineStyles"]));return null!=t&&null!=n?l().createElement(i.$O,d({x:t-8,y:n-8},a,a.events)):null},p=function(e){return d(d({},o.wk),{axisFormat:d(d(d({},o.wk.axisFormat),{formatAsYear:function(e){return Intl.DateTimeFormat("en",{year:"numeric"}).format(new Date(e))},formatAsMonth:function(e){return Intl.DateTimeFormat("en",{month:"long"}).format(new Date(e))}}),null==e?void 0:e.axisFormat),labelFormat:d(d({},o.wk.labelFormat),null==e?void 0:e.labelFormat),onClick:d(d({},o.wk.onClick),null==e?void 0:e.onClick),dataComponent:{scatterPlot:m}})};const f=function(e){var t=e.schema,n=e.data,i=e.specificFunctions,m=e.namespace,f=void 0===m?"settings":m,y=(0,s.Kx)({chartSeriesHiddenProps:[]},f),v=y.queryParams.chartSeriesHiddenProps,h=y.dispatch,g=(0,r.useState)({series:[],legend:[]}),E=g[0],b=g[1];return(0,r.useEffect)((function(){b(function(e,t){return void 0===t&&(t=[]),d(d({},e),{series:e.series.map((function(e){return d(d({},e),{hidden:!(!e.serie[0].id&&!e.serie[0].host_id||!t.includes(e.serie[0].hasOwnProperty("host_id").toString()||e.serie[0].hasOwnProperty("id").toString()))})}))})}(function(e){var t,n={series:[],legend:[]};switch(e.type="dates"in e?a.grouped:a.nonGrouped,e.type){case a.grouped:n.series=function(e){var t=e.dates,n=[];return t.forEach((function(e){e.items.forEach((function(t,a){n[a]||(n[a]={serie:[],hidden:!1,name:(0,c.Z)()}),n[a].serie.push(u({created_date:e.date},t))}))})),n}(e);break;case a.nonGrouped:n.series=[{serie:e.items||e.meta.legend,hidden:!1,name:(0,c.Z)()}]}return(null===(t=e.meta)||void 0===t?void 0:t.legend)&&(n.legend=e.meta.legend.map((function(e){var t=n.series.find((function(t){return t.serie.find((function(t){return t.id===e.id}))}));return u(u({},e),{childName:t&&t.name?t.name:""})}))),n}(n),v))}),[n]),l().createElement(o.ZP,{schema:t,functions:d({},p(i)),dataState:[E,function(e){h({type:"SET_CHART_SERIES_HIDDEN_PROPS",value:e.series.map((function(e){return[e.serie[0].id,e.hidden]}))}),b(e)}]})}},62455:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(92950),r=n.n(a),l=n(1085),i=n(68778),o=n(43047),s=n(66395),c=n(69957),u=n(93279),d=n(53345);const m=function(e){var t=e.status;return r().createElement(l.Label,{variant:"outline",color:function(){switch(t){case"successful":return"green";case"failed":case"error":return"red";case"running":case"pending":return"blue";case"canceled":return"orange";default:return"grey"}}(),icon:function(){switch(t){case"successful":return r().createElement(i.rE,null);case"failed":case"error":return r().createElement(o.$O,null);case"running":return r().createElement(s.ew,null);case"canceled":return r().createElement(c.LP,null);default:return r().createElement(u.T3,null)}}(),style:{marginRight:"0.5rem",marginBottom:"0.5rem"}},(0,d.kC)(t))}},91354:(e,t,n)=>{n.d(t,{Z:()=>a});const a=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}}}]);
//# sourceMappingURL=../sourcemaps/2254.4c9e77724cad04ba3ca80e0d8b47ba06.js.map