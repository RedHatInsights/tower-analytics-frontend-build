"use strict";(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[214],{9771:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(92950),a=n.n(r),l=n(1085),o=n(43047),i=n(91573);const s=function(e){var t=e.message;return a().createElement(l.EmptyState,{variant:l.EmptyStateVariant.small},a().createElement(l.EmptyStateIcon,{icon:o.$O,color:i.global_danger_color_200.value}),a().createElement(l.Title,{headingLevel:"h2",size:"lg"},"Error"),a().createElement(l.EmptyStateBody,null,t))}},45994:(e,t,n)=>{n.d(t,{Z:()=>D});var r=n(92950),a=n.n(r),l=n(1085),o=n(76889),i=n(75386),s={status:{type:"select",name:"Status",placeholder:"Filter by job status",hasChips:!0},quick_date_range:{type:"select",name:"Date",placeholder:"Filter by date",hasChips:!1},start_date:{type:"date",name:"Start date",hasChips:!1},end_date:{type:"date",name:"End date",hasChips:!1},job_type:{type:"select",name:"Job",placeholder:"Filter by job type",hasChips:!0},org_id:{type:"select",name:"Organization",placeholder:"Filter by organization",hasChips:!0},cluster_id:{type:"select",name:"Cluster",placeholder:"Filter by cluster",hasChips:!0},task_action_id:{type:"select",name:"Module",placeholder:"Filter by module",hasChips:!0},template_id:{type:"select",name:"Template",placeholder:"Filter by template",hasChips:!0},sort_options:{type:"select",name:"Sort by",placeholder:"Sort by attribute",hasChips:!1},automation_status:{type:"select",name:"Automation status",placeholder:"Filter by automation status",hasChips:!0},frequency_period:{type:"select",name:"Frequency",placeholder:"Filter by frequency",hasChips:!0},category:{type:"select",name:"Category",placeholder:"Filter by category",hasChips:!0},inventory_id:{type:"select",name:"Inventory",placeholder:"Filter by inventory",hasChips:!0},name:{type:"text",name:"Search by name",hasChips:!0},granularity:{type:"select",name:"Granularity",hasChips:!1}};const c=function(e){var t=e.categoryKey,n=e.selected,o=e.setSelected,i=void 0===o?function(){return null}:o,s=e.categories,c=void 0===s?[]:s,u=(0,r.useState)(!1),p=u[0],d=u[1];return a().createElement(l.ToolbarItem,{"data-testid":t},a().createElement(l.Select,{isOpen:p,variant:l.SelectVariant.single,"aria-label":"Categories",onToggle:function(){return d(!p)},onSelect:function(e,t){i(t),d(!1)},selections:n,placeholderText:"Filter by"},c.map((function(e){var t=e.key,n=e.name;return a().createElement(l.SelectOption,{key:t,value:t},n)}))))};var u,p,d=n(29163),y=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,l=t.length;a<l;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},m=(0,d.ZP)("span")(v||(u=["\n  display: block;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  max-width: 300px;\n"],p=["\n  display: block;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  max-width: 300px;\n"],Object.defineProperty?Object.defineProperty(u,"raw",{value:p}):u.raw=p,v=u)),f=function(e){return e&&e.map((function(e){var t=e.key,n=e.value,r=e.description;return a().createElement(l.SelectOption,{key:t,value:t,description:r},a().createElement(l.Tooltip,{content:a().createElement("div",null,n)},a().createElement(m,null,n)))}))};var v,g=n(45697),b=n.n(g),h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},h.apply(this,arguments)},E=function(e){var t=e.categoryKey,n=e.value,r=void 0===n?"":n,o=e.setValue,i=void 0===o?function(){return{}}:o,c=e.otherProps,u=void 0===c?{}:c,p=s[t];return a().createElement(l.DatePicker,h({"aria-label":p.name,value:r,onChange:i,inputProps:{isReadOnly:!0}},u))};E.propTypes={categoryKey:b().string.isRequired,value:b().string,setValue:b().func.isRequired,otherProps:b().any};const _=E;var k=n(80810),S=function(e){var t=e.categoryKey,n=e.isVisible,o=void 0===n||n,i=e.value,c=void 0===i?"":i,u=e.setValue,p=(0,r.useState)(c),d=p[0],y=p[1],m=s[t];return(0,r.useEffect)((function(){y(c)}),[c]),a().createElement(l.ToolbarFilter,{"data-cy":t,key:t,showToolbarItem:o,chips:m.hasChips&&c?[c]:[],categoryName:m.name,deleteChip:m.hasChips?function(){u("")}:void 0},a().createElement(l.InputGroup,null,a().createElement(l.TextInput,{type:"search","aria-label":m.name,value:d,onChange:y,onKeyDown:function(e){e.key&&"Enter"===e.key&&(e.preventDefault(),u(d))}}),a().createElement(l.Button,{variant:"control","aria-label":"Search button for "+m.name,onClick:function(){u(d)}},a().createElement(k.W1,null))))};S.propTypes={categoryKey:b().string.isRequired,value:b().any,isVisible:b().bool,setValue:b().func.isRequired};var C={select:function(e){var t,n,o=e.categoryKey,i=e.value,c=e.selectOptions,u=e.isVisible,p=void 0===u||u,d=e.setValue,m=(0,r.useState)(!1),v=m[0],g=m[1],b=s[o],h=c.map((function(e){var t=e.key,n=e.value,r=e.description;return{key:null==t?void 0:t.toString(),value:null==n?void 0:n.toString(),description:null==r?void 0:r.toString()}}));return a().createElement(l.ToolbarFilter,{"data-cy":o,key:o,showToolbarItem:p,chips:b.hasChips?Array.isArray(i)?(t=i.map((function(e){return e.toString()})),n=h,t&&n?t.reduce((function(e,t){return n.forEach((function(n){var r=n.key,a=n.value;r===t&&e.push(a)})),e}),[]):[]):function(e,t){var n;return e&&"string"==typeof e&&t&&(t.forEach((function(t){var r=t.key,a=t.value;r===e&&(n=a)})),void 0!==n)?[n]:[]}(i.toString(),h):[],categoryName:b.name,deleteChip:b.hasChips?function(e,t){return function(e){var t;if(Array.isArray(i)){var n=null===(t=h.find((function(t){return t.value===e})))||void 0===t?void 0:t.key,r=i.map((function(e){return e.toString()})).filter((function(e){return e!==n}));d(r)}else d(void 0)}(t)}:void 0},a().createElement(l.Select,{variant:Array.isArray(i)?l.SelectVariant.checkbox:l.SelectVariant.single,"aria-label":b.name,onToggle:function(){return g(!v)},onSelect:function(e,t){if(Array.isArray(i)){var n=i.map((function(e){return e.toString()}));d(n.includes(t.toString())?n.filter((function(e){return e!==t.toString()})):y(y([],n,!0),[t],!1))}else d(t),g(!1)},selections:i,isOpen:v,hasInlineFilter:!0,placeholderText:b.placeholder,onFilter:function(e,t){return f(""===t?h:h.filter((function(e){return e.value.toString().toLowerCase().includes(t.toLowerCase())})))},maxHeight:"1000%"},f(h)))},date:_,text:S};const O=function(e){var t=e.categoryKey,n=e.value,r=e.selectOptions,l=e.isVisible,o=void 0===l||l,i=e.setValue,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["categoryKey","value","selectOptions","isVisible","setValue"]),u=s[t],p=C[u.type];return a().createElement(p,{categoryKey:t,value:n||("select"!==u.type?"":void 0),selectOptions:r,isVisible:o,setValue:i,otherProps:c})},w=function(e){var t=e.filterCategories,n=e.defaultSelected,o=e.filters,i=e.setFilters,u=(0,r.useState)(n||Object.keys(t)[0]),p=u[0],d=u[1];return a().createElement(l.ToolbarGroup,{variant:"filter-group"},a().createElement(c,{categoryKey:"category_selector",selected:p,setSelected:d,categories:Object.keys(t).map((function(e){return{key:e,name:s[e].name}}))}),Object.keys(t).map((function(e){return a().createElement(O,{key:e,categoryKey:e,value:o[e],selectOptions:t[e],isVisible:p===e,setValue:function(t){return i(e,t)}})})))};var T=n(53345),V=function(e){return(0,T.Lg)(e).toISOString().split(/T/)[0]},j=function(e){var t=e.split("-");return new Date(+t[0],+t[1]-1,+t[2])};const F=function(e){var t=e.filters,n=e.setFilters,r=e.values,o=t.end_date||V(0),i=t.start_date||V(-30);return a().createElement(l.ToolbarGroup,{variant:l.ToolbarGroupVariant["filter-group"]},r.granularity&&a().createElement(O,{categoryKey:"granularity",value:t.granularity,selectOptions:r.granularity,setValue:function(e){return n("granularity",e)}}),a().createElement(O,{categoryKey:"quick_date_range",value:t.quick_date_range,selectOptions:r.quick_date_range,setValue:function(e){return n("quick_date_range",e)}}),["custom","roi_custom"].includes(t.quick_date_range)&&a().createElement(l.Split,{hasGutter:!0},a().createElement(l.SplitItem,null,a().createElement(O,{categoryKey:"start_date",value:i,setValue:function(e){return n("start_date",e)},validators:[function(e){return e>j(o)?"Must not be after end date":""}]})),a().createElement(l.SplitItem,{style:{paddingTop:"6px"}},"to"),a().createElement(l.SplitItem,null,a().createElement(O,{categoryKey:"end_date",value:o,setValue:function(e){return n("end_date",e)},validators:[function(e){return e<j(i)?"Must not be before start date":e>(0,T.Lg)()?"Must not be after today":""}]}))))};var x=n(44610),I=n(60532);const P=function(e){var t=e.filters,n=e.setFilters,r=e.sort_options;return a().createElement(l.ToolbarGroup,{variant:l.ToolbarGroupVariant["filter-group"]},a().createElement(l.ToolbarItem,null,a().createElement(O,{categoryKey:"sort_options",value:t.sort_options,selectOptions:r,setValue:function(e){return n("sort_options",e)}})),a().createElement(l.ToolbarItem,null,a().createElement(l.Button,{variant:l.ButtonVariant.control,onClick:function(){return n("sort_order","asc"===t.sort_order?"desc":"asc")}},"asc"===t.sort_order&&a().createElement(x.um,null),"desc"===t.sort_order&&a().createElement(I.WJ,null))))};var q=n(91290),K=n(24307),A=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},B=(0,d.ZP)(q.iC)(L||(L=A(["\n  color: #151515;\n"],["\n  color: #151515;\n"]))),G=(0,d.ZP)(l.Button)(R||(R=A(["\n  vertical-align: middle;\n"],["\n  vertical-align: middle;\n"])));const Z=function(e){var t=e.filters,n=e.setFilters,r=e.settingsExpanded,o=e.setSettingsExpanded;return a().createElement(l.Card,{isFlat:!0,style:{backgroundColor:"#EEEEEE"}},a().createElement(l.CardHeader,null,a().createElement(l.CardActions,null,a().createElement(l.Button,{variant:"plain",onClick:function(){return o(!r)}},a().createElement(K.q1,null))),a().createElement(l.CardTitle,null,"Settings")),a().createElement(l.CardBody,null,a().createElement(l.Switch,{id:"showRootWorkflowJobs",label:"Ignore nested workflows and jobs",labelOff:"Ignore nested workflows and jobs",isChecked:!!t.only_root_workflows_and_standalone_jobs,onChange:function(e){return n("only_root_workflows_and_standalone_jobs",e)}}),a().createElement(G,{variant:"plain"},a().createElement(l.Popover,{"aria-label":"ignore nested workflow popover",position:"top",bodyContent:a().createElement("div",null,"If enabled, nested workflows and jobs will not be included in the overall totals. Enable this option to filter out duplicate entries.")},a().createElement(B,null)))))};var L,R;const D=function(e){var t=e.categories,n=e.filters,c=e.defaultSelected,u=void 0===c?"":c,p=e.setFilters,d=e.pagination,y=void 0===d?null:d,m=e.hasSettings,f=void 0!==m&&m,v=e.additionalControls,g=void 0===v?[]:v,b=(0,r.useState)(!1),h=b[0],E=b[1],_=t.quick_date_range,k=t.sort_options,S=t.granularity,C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(t,["quick_date_range","sort_options","granularity"]),O=Object.keys(C).filter((function(e){return Object.keys(s).includes(e)&&Object.keys(n).includes(e)})).reduce((function(e,t){return e[t]=C[t],e}),{}),T=function(e,t){p(e,t)};return a().createElement(l.Toolbar,{className:"pf-m-toggle-group-container",clearAllFilters:function(){return T(void 0,void 0)},collapseListedFiltersBreakpoint:"xl"},a().createElement(l.ToolbarContent,null,a().createElement(l.ToolbarToggleGroup,{toggleIcon:a().createElement(o.k1,null),breakpoint:"xl"},Object.keys(O).length>0&&a().createElement(w,{filterCategories:O,defaultSelected:u,filters:n,setFilters:T}),(_||S)&&a().createElement(F,{filters:n,values:{quick_date_range:_,granularity:S},setFilters:T}),k&&a().createElement(P,{filters:n,setFilters:T,sort_options:k})),f&&a().createElement(l.ToolbarItem,null,a().createElement(l.Button,{variant:l.ButtonVariant.plain,onClick:function(){return E(!h)},"aria-label":"settings",isActive:h},a().createElement(i.IE,null))),g.length>0&&a().createElement(l.ToolbarGroup,null,g.map((function(e,t){return a().createElement(l.ToolbarItem,{key:t},e)}))),y&&a().createElement(l.ToolbarItem,{variant:l.ToolbarItemVariant.pagination,visibility:{default:"hidden",lg:"visible"}},y)),h&&a().createElement(Z,{filters:n,setFilters:T,settingsExpanded:h,setSettingsExpanded:E}))}},83474:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n(45994).Z}}]);
//# sourceMappingURL=../sourcemaps/214.0ff1e43e2cab47d9e4f23f664b64ff13.js.map