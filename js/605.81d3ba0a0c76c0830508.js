(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[605],{83160:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(92950),a=n.n(r),i=n(45697),l=n.n(i),o=n(58788),s=n(84564),c=n(29587),u=function(e){var t=e.message;return a().createElement(o.EmptyState,{variant:o.EmptyStateVariant.small},a().createElement(o.EmptyStateIcon,{icon:s.ZP,color:c.global_danger_color_200.value}),a().createElement(o.Title,{headingLevel:"h2",size:"lg"},"Error"),a().createElement(o.EmptyStateBody,null,t))};u.propTypes={message:l().string};const p=u},48951:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Y});var r=n(96156),a=n(81253),i=n(34699),l=n(92950),o=n.n(l),s=n(45697),c=n.n(s),u=n(58788),p=n(8755),d=n(31257),y={status:{type:"select",isSingle:!1,name:"Status",placeholder:"Filter by job status",hasChips:!0},quick_date_range:{type:"select",isSingle:!0,name:"Date",placeholder:"Filter by date",hasChips:!1},start_date:{type:"date",name:"Start date",hasChips:!1},end_date:{type:"date",name:"End date",hasChips:!1},job_type:{type:"select",isSingle:!1,name:"Job",placeholder:"Filter by job type",hasChips:!0},org_id:{type:"select",isSingle:!1,name:"Organization",placeholder:"Filter by organization",hasChips:!0},cluster_id:{type:"select",isSingle:!1,name:"Cluster",placeholder:"Filter by cluster",hasChips:!0},template_id:{type:"select",isSingle:!1,name:"Template",placeholder:"Filter by template",hasChips:!0},sort_options:{type:"select",isSingle:!0,name:"Sort by",placeholder:"Sort by attribute",hasChips:!1},automation_status:{type:"select",isSingle:!1,name:"Automation status",placeholder:"Filter by automation status",hasChips:!0},frequency_period:{type:"select",isSingle:!1,name:"Frequency",placeholder:"Filter by frequency",hasChips:!0},category:{type:"select",isSingle:!1,name:"Category",placeholder:"Filter by category",hasChips:!0},inventory_id:{type:"select",isSingle:!1,name:"Inventory",placeholder:"Filter by inventory",hasChips:!0},name:{type:"text",name:"Search by name",hasChips:!0}},f=function(e){var t=e.selected,n=e.setSelected,r=void 0===n?function(){}:n,a=e.categories,s=void 0===a?[]:a,c=(0,l.useState)(!1),p=(0,i.Z)(c,2),d=p[0],y=p[1];return o().createElement(u.ToolbarItem,null,o().createElement(u.Select,{isOpen:d,variant:"single","aria-label":"Categories",onToggle:function(){return y(!d)},onSelect:function(e,t){r(t),y(!1)},selections:t,placeholderText:"Filter by"},s.map((function(e){var t=e.key,n=e.name;return o().createElement(u.SelectOption,{key:t,value:t},n)}))))};f.propTypes={categories:c().array,selected:c().string,setSelected:c().func};const m=f;var h,g=n(87329),b=n(32465),v=(0,n(29163).ZP)("span")(h||(h=(0,b.Z)(["\n  display: block;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  max-width: 300px;\n"]))),E=function(e){return e&&e.map((function(e){var t=e.key,n=e.value,r=e.description;return o().createElement(u.SelectOption,{key:t,value:t,description:r},o().createElement(u.Tooltip,{content:o().createElement("div",null,n)},o().createElement(v,null,n)))}))},_=function(e){var t,n,r,a=e.categoryKey,s=e.value,c=e.selectOptions,p=e.isVisible,d=void 0===p||p,f=e.setValue,m=(0,l.useState)(!1),h=(0,i.Z)(m,2),b=h[0],v=h[1],_=y[a];return o().createElement(u.ToolbarFilter,{"data-cy":a,key:a,showToolbarItem:d,chips:_.hasChips?_.isSingle?(n=c,(t=s)&&"string"==typeof t&&n&&(n.forEach((function(e){e.key===t&&(r=e.value)})),void 0!==r)?[r]:[]):function(e,t){return e&&t?e.reduce((function(e,n){return Number.isInteger(parseInt(n))&&(n=parseInt(n)),t.forEach((function(t){t.key===n&&e.push(t.value)})),e}),[]):[]}(s,c):[],categoryName:_.name,deleteChip:_.hasChips?function(e,t){if(y[a].isSingle)f(null);else{var n=c.find((function(e){return e.value===t})).key,r=s.filter((function(e){return e!==n}));f(r)}}:null},o().createElement(u.Select,{variant:_.isSingle?u.SelectVariant.single:u.SelectVariant.checkbox,"aria-label":_.name,onToggle:function(){return v(!b)},onSelect:function(e,t){_.isSingle?(f(t),v(!1)):f(s.includes(t)?s.filter((function(e){return e!==t})):[].concat((0,g.Z)(s),[t]))},selections:s,isOpen:b,hasInlineFilter:!0,placeholderText:_.placeholder,onFilter:function(e,t){return E(""===t?c:c.filter((function(e){return e.value.toLowerCase().includes(t.toLowerCase())})))},maxHeight:"1000%"},E(c)))};_.propTypes={categoryKey:c().string.isRequired,value:c().oneOfType([c().number,c().string,c().arrayOf(c().oneOfType([c().string,c().number]))]).isRequired,selectOptions:c().array,isVisible:c().bool,setValue:c().func.isRequired};const S=_;var k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},C=function(e){var t=e.categoryKey,n=e.value,r=void 0===n?"":n,a=e.setValue,i=void 0===a?function(){return{}}:a,l=e.otherProps,s=void 0===l?{}:l,c=y[t];return o().createElement(u.DatePicker,k({"aria-label":c.name,value:r,onChange:i,inputProps:{isReadOnly:!0}},s))};C.propTypes={categoryKey:c().string.isRequired,value:c().string,setValue:c().func.isRequired,otherProps:c().any};const O=C;var q=n(71070),T=function(e){var t=e.categoryKey,n=e.isVisible,r=void 0===n||n,a=e.value,s=void 0===a?"":a,c=e.setValue,p=(0,l.useState)(s),d=(0,i.Z)(p,2),f=d[0],m=d[1],h=y[t];return(0,l.useEffect)((function(){m(s)}),[s]),o().createElement(u.ToolbarFilter,{"data-cy":t,key:t,showToolbarItem:r,chips:h.hasChips&&s?[s]:[],categoryName:h.name,deleteChip:h.hasChips?function(){c("")}:null},o().createElement(u.InputGroup,null,o().createElement(u.TextInput,{type:"search","aria-label":h.name,value:f,onChange:m,onKeyDown:function(e){e.key&&"Enter"===e.key&&(e.preventDefault(),c(f))}}),o().createElement(u.Button,{variant:"control","aria-label":"Search button for ".concat(h.name),onClick:function(){c(f)}},o().createElement(q.ZP,null))))};T.propTypes={categoryKey:c().string.isRequired,value:c().any,isVisible:c().bool,setValue:c().func.isRequired};var j=["categoryKey","value","selectOptions","isVisible","setValue"],w={select:S,date:O,text:T},F=function(e){var t=e.categoryKey,n=e.value,r=e.selectOptions,i=e.isVisible,l=void 0===i||i,s=e.setValue,c=(0,a.Z)(e,j),u=y[t],p=w[u.type];return o().createElement(p,{categoryKey:t,value:n||("select"!==u.type||u.isSingle?"":[]),selectOptions:r,isVisible:l,setValue:s,otherProps:c})};F.propTypes={categoryKey:c().string.isRequired,value:c().oneOfType([c().number,c().string,c().arrayOf(c().oneOfType([c().string,c().number]))]),selectOptions:c().array,isVisible:c().bool,setValue:c().func.isRequired};const R=F;var V=function(e){var t=e.filterCategories,n=e.filters,r=e.handleSearch,a=e.setFilters,s=(0,l.useState)(Object.keys(t)[0]),c=(0,i.Z)(s,2),p=c[0],d=c[1];return o().createElement(u.ToolbarGroup,{variant:"filter-group"},o().createElement(m,{selected:p,setSelected:d,categories:Object.keys(t).map((function(e){return{key:e,name:y[e].name}}))}),Object.keys(t).map((function(e){return o().createElement(R,{key:e,categoryKey:e,value:n[e],selectOptions:t[e],isVisible:p===e,setValue:function(t){a(e,t),r(e,t)}})})))};V.propTypes={filterCategories:c().object.isRequired,filters:c().object.isRequired,handleSearch:c().func.isRequired,setFilters:c().func.isRequired};const Z=V;var P=n(79886),I=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,P.Lg)(e);return t?n.toISOString().split(/T/)[0]:n},x=function(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])},K=function(e){var t=e.filters,n=e.handleSearch,r=e.setFilters,a=e.values,i=t.end_date||I(0,!0),l=t.start_date||I(-30,!0);return o().createElement(u.ToolbarGroup,{variant:"filter-group"},o().createElement(R,{categoryKey:"quick_date_range",value:t.quick_date_range,selectOptions:a,setValue:function(e){return r("quick_date_range",e)}}),t.quick_date_range&&t.quick_date_range.includes("custom")&&o().createElement(u.Split,{hasGutter:!0},o().createElement(u.SplitItem,null,o().createElement(R,{categoryKey:"start_date",value:l,setValue:function(e){r("start_date",e),n("start_date",e)},validators:[function(e){return"string"==typeof i&&e>x(i)?"Must not be after end date":""}]})),o().createElement(u.SplitItem,{style:{paddingTop:"6px"}},"to"),o().createElement(u.SplitItem,null,o().createElement(R,{categoryKey:"end_date",value:i,setValue:function(e){r("end_date",e),n("end_date",e)},validators:[function(e){return"string"==typeof l&&e<x(l)?"Must not be before start date":e>(0,P.Lg)()?"Must not be after today":""}]}))))};K.propTypes={filters:c().object.isRequired,handleSearch:c().func.isRequired,setFilters:c().func.isRequired,values:c().array.isRequired};const D=K;var B=n(59507),G=n(98702),L=function(e){var t=e.filters,n=e.handleSearch,r=e.setFilters,a=e.sort_options;return o().createElement(u.ToolbarGroup,{variant:"filter-group"},o().createElement(R,{categoryKey:"sort_options",value:t.sort_options,selectOptions:a,setValue:function(e){r("sort_options",e),n("sort_options",e)}}),o().createElement(u.Button,{variant:"control",onClick:function(){r("sort_order","asc"===t.sort_order?"desc":"asc"),n("sort_order","asc"===t.sort_order?"desc":"asc")}},"asc"===t.sort_order&&o().createElement(G.ZP,null),"desc"===t.sort_order&&o().createElement(B.ZP,null)))};L.propTypes={filters:c().object.isRequired,handleSearch:c().func.isRequired,setFilters:c().func.isRequired,sort_options:c().array.isRequired};const A=L;var M=n(87673),z=n(33606),H=function(e){var t=e.filters,n=e.handleSearch,r=e.setFilters,a=e.settingsExpanded,i=e.setSettingsExpanded;return o().createElement(u.Card,{isFlat:!0,style:{backgroundColor:"#EEEEEE"}},o().createElement(u.CardHeader,null,o().createElement(u.CardActions,null,o().createElement(u.Button,{variant:"plain",onClick:function(){return i(!a)}},o().createElement(z.ZP,null))),o().createElement(u.CardTitle,null,"Settings")),o().createElement(u.CardBody,null,o().createElement(u.Switch,{id:"showRootWorkflowJobs",label:"Ignore nested workflows and jobs",labelOff:"Ignore nested workflows and jobs",isChecked:t.only_root_workflows_and_standalone_jobs,onChange:function(e){r("only_root_workflows_and_standalone_jobs",e),n("only_root_workflows_and_standalone_jobs",e)}}),o().createElement(u.Tooltip,{position:"top",content:o().createElement("div",null," ","If enabled, nested workflows and jobs will not be included in the overall totals. Enable this option to filter out duplicate entries.")},o().createElement(M.ZP,null))))};H.propTypes={filters:c().object.isRequired,handleSearch:c().func.isRequired,setFilters:c().func.isRequired,settingsExpanded:c().bool.isRequired,setSettingsExpanded:c().func.isRequired};const N=H;var J=n(334),W=n(21048),Q=["quick_date_range","sort_options"];function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var X=function(e){var t=e.categories,n=e.filters,s=e.qsConfig,c=e.setFilters,f=e.pagination,m=void 0===f?null:f,h=e.hasSettings,g=void 0!==h&&h,b=e.additionalControls,v=void 0===b?[]:b,E=(0,l.useState)(!1),_=(0,i.Z)(E,2),S=_[0],k=_[1],C=t.quick_date_range,O=t.sort_options,q=(0,a.Z)(t,Q),T=(0,J.useHistory)(),j=Object.keys(q).filter((function(e){return Object.keys(y).includes(e)})).reduce((function(e,t){return e[t]=q[t],e}),{}),w=function(e,t){var n=T.location.pathname,r=(0,W.dD)({},T.location.search),a=(0,W.p9)(t,e,r);T.push(a?"".concat(n,"?").concat(a):n)},F=function(e,t){var n=(0,W.dD)(s,T.location.search);n=(0,W.sM)(n,(0,r.Z)({},e,t)),n=(0,W.Zd)(n,(0,r.Z)({},e,t)),""!==t&&0!==t.length||(n=(0,W.mn)(s,n,(0,r.Z)({},e,n[e]))),w(n,s)};return o().createElement(o().Fragment,null,o().createElement(u.Toolbar,{id:"".concat(s.namespace,"-filterable-toolbar-with-chip-groups"),clearAllFilters:function(){(function(e){var t=(0,W.dD)(e,T.location.search),n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);delete n.limit,delete n.sort_options,delete n.sort_order,w((0,W.mn)(e,t,n),e)})(s),c(null,null)},collapseListedFiltersBreakpoint:"xl"},o().createElement(u.ToolbarContent,null,o().createElement(u.Button,{variant:"control"},o().createElement(p.ZP,null)),Object.keys(j).length>0&&o().createElement(Z,{filterCategories:j,filters:n,setFilters:c,handleSearch:F}),C&&o().createElement(D,{filters:n,setFilters:c,values:C,handleSearch:F}),O&&o().createElement(A,{filters:n,setFilters:c,sort_options:O,handleSearch:F}),g&&o().createElement(u.ToolbarItem,null,o().createElement(u.Button,{variant:"plain",onClick:function(){return k(!S)},"aria-label":"settings",isActive:S},o().createElement(d.ZP,null))),v.length>0&&o().createElement(u.ToolbarGroup,null,v.map((function(e,t){return o().createElement(u.ToolbarItem,{key:t},e)}))),m&&o().createElement(u.ToolbarItem,{variant:"pagination",visibility:{default:"hidden",lg:"visible"}},m)),S&&o().createElement(N,{filters:n,setFilters:c,handleSearch:F,settingsExpanded:S,setSettingsExpanded:k})))};X.propTypes={categories:c().object.isRequired,qsConfig:c().object.isRequired,filters:c().object.isRequired,setFilters:c().func.isRequired,pagination:c().object,hasSettings:c().bool,additionalControls:c().array};const Y=X}}]);
//# sourceMappingURL=../sourcemaps/605.5874bff5ffd5398f9826.js.map