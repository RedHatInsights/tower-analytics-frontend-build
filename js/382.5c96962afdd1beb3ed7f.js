"use strict";(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[382],{71382:(e,t,n)=>{n.r(t),n.d(t,{default:()=>we});var r=n(92950),a=n.n(r),o=n(334),i=n(29163),l=n(58788),s=n(86350),u=n(46336),c=n(48716),d=n(39173),p=n(69595),m=n(45697),g=n.n(m),y=n(91738),f=n(94550),h=n(12613),_=n(53677),b=n(77388),v=n(53345),k=n(29587),x=n(9771),w=n(48236),E=n(83061);const A=function(e){var t=e.api,n=e.children;return!t||t.isLoading?a().createElement(w.Z,null):t.error?a().createElement(x.Z,{message:t.error.error}):t.isSuccess?Array.isArray(t.result)&&0===t.result.length||0===Object.keys(t.result).length?a().createElement(E.Z,null):a().createElement(a().Fragment,null,n):null};var P=n(45994),F=n(91354),Z=n(21048),j=n(10001),O=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},T=function(){return T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},T.apply(this,arguments)},D=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},q=(0,i.ZP)(l.CardBody)(Y||(Y=O(["\n  & .pf-c-toolbar,\n  & .pf-c-toolbar__content {\n    padding: 0;\n  }\n"],["\n  & .pf-c-toolbar,\n  & .pf-c-toolbar__content {\n    padding: 0;\n  }\n"]))),C=(0,i.ZP)(f.Tr)(H||(H=O(["\n  & td:first-child {\n    width: 50px;\n  }\n"],["\n  & td:first-child {\n    width: 50px;\n  }\n"]))),z=[{title:"4",value:4},{title:"6",value:6},{title:"8",value:8},{title:"10",value:10}],R=["elapsed"],$=[],I=function(e,t){return"id"===t&&-1===e[t]},S=function(e,t){return I(e,t)?{backgroundColor:k.global_disabled_color_300.value}:{}},G=function(e){var t,n,o,i,s,u=e.defaultParams,c=e.extraAttributes,d=e.readData,p=e.readOptions,m=e.schemaFnc,g=(0,Z.Hm)("non-unique-report",u,["limit","offset"]),k=(0,_.K)(g),x=k.queryParams,w=k.setFromPagination,E=k.setFromToolbar,O=(0,b.ZP)((0,r.useCallback)((function(){return d(x)}),[x]),{}),G=O.request,L=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(O,["request"]),Y=(0,b.ZP)((0,r.useCallback)((function(){return p(x)}),[x]),{}),H=Y.result,K=Y.request,N=(0,r.useState)([]),W=N[0],X=N[1];(0,r.useEffect)((function(){H.sort_options&&X(D(D([],c,!0),H.sort_options,!0))}),[H,c]);var M,B=m((null===(t=W.find((function(e){return e.key===x.sort_options})))||void 0===t?void 0:t.value)||"Label Y",x.sort_options,"yearly"===(M=x.granularity)?"formatAsYear":"monthly"===M?"formatAsMonth":"daily"===M?"formatDateAsDayMonth":void 0);(0,r.useEffect)((function(){G(),K()}),[x]);var J=function(e,t,n){var r;E("sort_order",n),E("sort_options",null===(r=W[t])||void 0===r?void 0:r.key)};return a().createElement(l.Card,null,a().createElement(q,null,a().createElement(P.Z,{categories:H,filters:x,qsConfig:g,setFilters:E,pagination:a().createElement(h.Z,{count:null===(o=null===(n=L.result)||void 0===n?void 0:n.meta)||void 0===o?void 0:o.count,perPageOptions:z,params:{limit:x.limit,offset:x.offset},qsConfig:g.defaultParams,setPagination:w,isCompact:!0})}),a().createElement(A,{api:L},function(e,t,n,r){var o,i,l;return e.isSuccess&&0===(null===(o=e.result.meta)||void 0===o?void 0:o.count)?a().createElement(j.Z,null):a().createElement(a().Fragment,null,a().createElement(y.ZP,{schema:t,functions:(l=e.result,T(T({},y.wk),{axisFormat:T(T({},y.wk.axisFormat),{formatAsYear:function(e){return Intl.DateTimeFormat("en",{year:"numeric"}).format(new Date(e))},formatAsMonth:function(e){return Intl.DateTimeFormat("en",{month:"long"}).format(new Date(e))}}),fetchFnc:function(){return new Promise((function(e){e(l)}))}}))}),a().createElement(f.TableComposable,{"aria-label":"Report Table",variant:f.TableVariant.compact},a().createElement(f.Thead,null,a().createElement(C,null,n.map((function(e){var t=e.key,n=e.value;return a().createElement(f.Th,T({key:t},r(t)),n)})))),a().createElement(f.Tbody,null,null===(i=e.result.meta)||void 0===i?void 0:i.legend.map((function(e){return a().createElement(C,{key:e.id,style:S(e,"id")},n.map((function(t){var n=t.key;return a().createElement(f.Td,{key:e.id+"-"+n},function(e,t){return function(e,t){return"id"===t&&-2===e[t]}(e,t)||I(e,t)?"-":R.includes(t)?(0,v.yH)(e[t]):$.includes(t)?(0,F.Z)(+e[t]):""+e[t]||"No name"}(e,n))})))})))))}(L,B,W,(function(e){var t;return(null===(t=null==H?void 0:H.sort_options)||void 0===t?void 0:t.map((function(e){return e.key}))).includes(e)?{sort:{sortBy:{index:W.findIndex((function(e){return e.key===x.sort_options}))||0,direction:x.sort_order||"none"},onSort:J,columnIndex:W.findIndex((function(t){return t.key===e}))}}:{}})))),a().createElement(l.CardFooter,null,a().createElement(h.Z,{count:null===(s=null===(i=L.result)||void 0===i?void 0:i.meta)||void 0===s?void 0:s.count,perPageOptions:z,params:{limit:x.limit,offset:x.offset},qsConfig:g.defaultParams,setPagination:w,variant:l.PaginationVariant.bottom})))};G.propTypes={defaultParams:g().any,extraAttributes:g().arrayOf(g().exact({key:g().string.isRequired,value:g().string.isRequired}).isRequired).isRequired,readData:g().func.isRequired,readOptions:g().func.isRequired,schemaFnc:g().func.isRequired};const L=G;var Y,H,K=n(51410),N=n(64866),W="Executive";const X={slug:"hosts_changed_by_job_template",name:"Hosts changed by job template",description:"The number of hosts changed by a job template in a specified time window.\n\nYou can use this report to find discrepancies in the host change rate at a particular time, helping you drill down to when and why hosts were unreachable at a particular time.",categories:[W],report:{defaultParams:{limit:6,offset:0,attributes:["total_unique_host_count","total_unique_host_changed_count"],group_by:"template",group_by_time:!0,granularity:"monthly",quick_date_range:"last_6_months",sort_options:"total_unique_host_count",sort_order:"desc",cluster_id:[],inventory_id:[],job_type:[],org_id:[],status:[],template_id:[]},extraAttributes:[{key:"id",value:"ID"},{key:"name",value:"Template name"}],readData:N.og,readOptions:N.FW,schemaFnc:function(e,t,n){return[{id:1,kind:y.$v.wrapper,type:y.yD.chart,parent:null,props:{height:400,padding:{top:10,right:100},domainPadding:{y:25},themeColor:y.nz.multiOrdered},xAxis:{label:"Date",tickFormat:n},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:55}}},api:{url:"",params:{}},legend:{interactive:!0,orientation:y.nw.vertical,position:y.St.right},tooltip:{mouseFollow:!0,stickToAxis:"x",cursor:!0,customFnc:function(e){return e.name+": "+e.y}}},{id:2,kind:y.$v.group,parent:1,template:{id:0,kind:y.$v.simple,type:y.oX.line,parent:0,props:{x:"created_date",y:t}}}]}}},M={slug:"changes_made_by_job_template",name:"Changes made by job template",description:"The total count of changes made by each job template in a specified time window.\n\nYou can use this report to ensure the correct number of changes are made per hostname, as well as see which job templates are doing the most changes to your infrastructure.",categories:[W],report:{defaultParams:{limit:6,offset:0,attributes:["host_count","changed_host_count","host_task_count","host_task_changed_count"],group_by:"template",group_by_time:!0,granularity:"monthly",quick_date_range:"last_6_months",sort_options:"changed_host_count",sort_order:"desc",cluster_id:[],inventory_id:[],job_type:[],org_id:[],status:[],template_id:[]},extraAttributes:[{key:"id",value:"ID"},{key:"name",value:"Template name"}],readData:N.Ij,readOptions:N.ZW,schemaFnc:function(e,t,n){return[{id:1,kind:y.$v.wrapper,type:y.yD.chart,parent:null,props:{height:400,padding:{top:10,right:100},domainPadding:{y:25},themeColor:y.nz.multiOrdered},xAxis:{label:"Date",tickFormat:n},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:55}}},api:{url:"",params:{}},legend:{interactive:!0,orientation:y.nw.vertical,position:y.St.right},tooltip:{mouseFollow:!0,stickToAxis:"x",cursor:!0,customFnc:function(e){return e.name+": "+e.y}}},{id:2,kind:y.$v.group,parent:1,template:{id:0,kind:y.$v.simple,type:y.oX.line,parent:0,props:{x:"created_date",y:t}}}]}}},B={slug:"job_template_run_rate",name:"Job template run rate",description:"The number of times a job template has ran in a specified time window.\n\nYou can use this report to be able to tell which playbooks are running most frequently, allowing you to see which groups in your organization are running Ansible the most.",categories:[W],report:{defaultParams:{limit:6,offset:0,attributes:["failed_count","successful_count","total_count"],group_by:"template",group_by_time:!0,granularity:"monthly",quick_date_range:"last_6_months",sort_options:"total_count",sort_order:"desc",cluster_id:[],inventory_id:[],job_type:[],org_id:[],status:[],template_id:[]},extraAttributes:[{key:"id",value:"ID"},{key:"name",value:"Template name"}],readData:N.Ij,readOptions:N.ZW,schemaFnc:function(e,t,n){return[{id:1,kind:y.$v.wrapper,type:y.yD.chart,parent:null,props:{height:400,padding:{top:10,right:100},domainPadding:{y:25},themeColor:y.nz.multiOrdered},xAxis:{label:"Date",tickFormat:n},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:55}}},api:{url:"",params:{}},legend:{interactive:!0,orientation:y.nw.vertical,position:y.St.right},tooltip:{mouseFollow:!0,stickToAxis:"x",cursor:!0,customFnc:function(e){return e.name+": "+e.y}}},{id:2,kind:y.$v.group,parent:1,template:{id:0,kind:y.$v.simple,type:y.oX.line,parent:0,props:{x:"created_date",y:t}}}]}}},J={slug:"hosts_by_organization",name:"Hosts by organization",description:"The number of unique hosts, grouped by organizations from Ansible Controller.  You can use this report to find which organizations are managing the most hosts with Ansible automation.",categories:[W],report:{defaultParams:{limit:6,offset:0,granularity:"daily",quick_date_range:"last_30_days",status:[],org_id:[],job_type:["workflowjob","job"],cluster_id:[],template_id:[],inventory_id:[],attributes:["total_unique_host_count","total_unique_host_changed_count"],group_by:"org",group_by_time:!0,sort_options:"total_unique_host_count",sort_order:"desc"},extraAttributes:[{key:"id",value:"ID"},{key:"name",value:"Organization name"}],readData:N.og,readOptions:N.FW,schemaFnc:function(e,t,n){return[{id:1,kind:y.$v.wrapper,type:y.yD.chart,parent:null,props:{height:400,padding:{top:10,right:100},domainPadding:{y:25},themeColor:y.nz.multiOrdered},xAxis:{label:"Date",tickFormat:n},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:55}}},api:{url:"",params:{}},legend:{interactive:!0,orientation:y.nw.vertical,position:y.St.right},tooltip:{mouseFollow:!0,stickToAxis:"x",cursor:!0,customFnc:function(e){return e.name+": "+e.y}}},{id:2,kind:y.$v.group,parent:1,template:{id:0,kind:y.$v.simple,type:y.oX.line,parent:0,props:{x:"created_date",y:t}}}]}}};var V,Q,U={slug:"jobs_and_tasks_by_organization",name:"Jobs/Tasks by organization",description:"The number of job template and task runs, grouped by organizations from Ansible Controller. You can use this report to find which organizations are running the most Ansible jobs.",categories:[W],report:{defaultParams:{limit:6,offset:0,granularity:"daily",quick_date_range:"last_30_days",status:[],org_id:[],job_type:["workflowjob","job"],cluster_id:[],template_id:[],inventory_id:[],attributes:["total_count","host_task_count"],group_by:"org",group_by_time:!0,sort_options:"total_count",sort_order:"desc"},extraAttributes:[{key:"id",value:"ID"},{key:"name",value:"Organization name"}],readData:N.Ij,readOptions:N.ZW,schemaFnc:function(e,t,n){return[{id:1,kind:y.$v.wrapper,type:y.yD.chart,parent:null,props:{height:400,padding:{top:10,right:100},domainPadding:{y:25},themeColor:y.nz.multiOrdered},xAxis:{label:"Date",tickFormat:n},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:55}}},api:{url:"",params:{}},legend:{interactive:!0,orientation:y.nw.vertical,position:y.St.right},tooltip:{mouseFollow:!0,stickToAxis:"x",cursor:!0,customFnc:function(e){return e.name+": "+e.y}}},{id:2,kind:y.$v.group,parent:1,template:{id:0,kind:y.$v.simple,type:y.oX.line,parent:0,props:{x:"created_date",y:t}}}]}}},ee=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},te={slug:"",name:"",description:"",categories:[]},ne=[J,U],re=[X,M,B],ae=n(22030),oe=function(){return oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},oe.apply(this,arguments)},ie=i.ZP.p(se||(V=["\n  max-width: 70em;\n  padding-top: 8px;\n"],Q=["\n  max-width: 70em;\n  padding-top: 8px;\n"],Object.defineProperty?Object.defineProperty(V,"raw",{value:Q}):V.raw=Q,se=V));const le=function(){var e=function(e){var t,n=(0,K.ye)(K.GA.orgReports);return null!==(t=ee(ee([],re,!0),n?ne:[],!0).find((function(t){return t.slug===e})))&&void 0!==t?t:te}((0,o.useParams)().slug),t=e.name,n=e.description,r=e.report,i=[{title:"Reports",navigate:ae.Z.get}];return t?a().createElement(a().Fragment,null,a().createElement(c.Z,null,a().createElement(p.Z,{items:i}),a().createElement(d.Z,{title:t}),a().createElement(ie,null,n)),a().createElement(s.Z,null,a().createElement(l.Card,null,r&&a().createElement(L,oe({},r))))):a().createElement(u.Z,{title:"404: Page does not exist.",body:"The report you are looking for does not exist.",buttonText:"Return to Reports page",link:ae.Z.get})};var se,ue,ce,de,pe=n(30168),me=(0,i.ZP)(l.CardTitle)(ue||(ue=(0,pe.Z)(["\n  word-break: break-word;\n"]))),ge=i.ZP.small(ce||(ce=(0,pe.Z)(["\n  display: block;\n  margin-bottom: 10px;\n  color: #6a6e73;\n  white-space: pre-line;\n"]))),ye=(0,i.ZP)(l.Label)(de||(de=(0,pe.Z)(["\n  margin-right: 10px;\n"]))),fe=function(e){var t=e.report,n=t.slug,r=t.description,i=t.name,s=t.categories;return a().createElement(l.Card,null,a().createElement(l.CardHeader,null,a().createElement(l.CardHeaderMain,null,a().createElement(me,null,a().createElement(o.Link,{to:ae.Z.getDetails(n)},i)))),a().createElement(l.CardBody,null,r?a().createElement(ge,null,r):null),a().createElement(l.CardFooter,null,s.map((function(e,t){return a().createElement(ye,{key:t},e)}))))};fe.propTypes={report:g().object};const he=fe;var _e,be,ve=i.ZP.div(_e||(_e=(0,pe.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 76px);\n"]))),ke=(0,i.ZP)(s.Z)(be||(be=(0,pe.Z)(["\n  flex-grow: 1;\n"])));const xe=function(){return a().createElement(ve,null,a().createElement(c.Z,null,a().createElement(d.Z,{title:"Reports"})),a().createElement(ke,null,a().createElement(l.Gallery,{hasGutter:!0,minWidths:{sm:"307px",md:"307px",lg:"307px",xl:"307px","2xl":"307px"}},(e=(0,K.ye)(K.GA.orgReports),ee(ee([],re,!0),e?ne:[],!0)).map((function(e){return a().createElement(he,{key:e.slug,report:e})})))));var e},we=function(){return a().createElement(o.Switch,null,a().createElement(o.Route,{exact:!0,path:ae.Z.get},a().createElement(xe,null)),a().createElement(o.Route,{path:ae.Z.details},a().createElement(le,null)))}}}]);
//# sourceMappingURL=../sourcemaps/382.2de2ab1b2d70a2eb6d8926a902c99441.js.map