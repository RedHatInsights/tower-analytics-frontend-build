"use strict";(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[609],{63609:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Wt});var n,r,o=a(92950),l=a.n(o),i=a(86235),s=a(29163),u=a(86350),c=a(46336),d=a(48716),p=a(39173),m=a(69595),g=a(48607),_=a(91573),h=a(53345),b=a(91354),f=a(1085),y=a(94592),v=a(35993),E=(0,s.ZP)(f.DescriptionList)(x||(n=["\n  row-gap: 16px;\n"],r=["\n  row-gap: 16px;\n"],Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,x=n));const k=function(e){var t,a,n,r,o,i,s,u,c,d,p,m,_,h,b,k,x,T=e.isExpanded,w=e.item,A=w?{ok:null!==(t=null==w?void 0:w.successful_count)&&void 0!==t?t:0,skipped:null!==(a=null==w?void 0:w.skipped_count)&&void 0!==a?a:0,failed:null!==(n=null==w?void 0:w.failed_count)&&void 0!==n?n:0,error:null!==(r=null==w?void 0:w.error_count)&&void 0!==r?r:0}:null,P=w?{ok:null!==(o=null==w?void 0:w.average_host_task_ok_count_per_host)&&void 0!==o?o:0,skipped:null!==(i=null==w?void 0:w.average_host_task_skipped_count_per_host)&&void 0!==i?i:0,changed:null!==(s=null==w?void 0:w.average_host_task_changed_count_per_host)&&void 0!==s?s:0,failed:null!==(u=null==w?void 0:w.average_host_task_failed_count_per_host)&&void 0!==u?u:0,unreachable:null!==(c=null==w?void 0:w.average_host_task_unreachable_count_per_host)&&void 0!==c?c:0}:null,C=w?{ok:null!==(d=null==w?void 0:w.ok_host_count)&&void 0!==d?d:0,skipped:null!==(p=null==w?void 0:w.skipped_host_count)&&void 0!==p?p:0,changed:null!==(m=null==w?void 0:w.changed_host_count)&&void 0!==m?m:0,failed:null!==(_=null==w?void 0:w.failed_host_count)&&void 0!==_?_:0,unreachable:null!==(h=null==w?void 0:w.unreachable_host_count)&&void 0!==h?h:0}:null;return l().createElement(g.Tr,{isExpanded:T},l().createElement(g.Td,{colSpan:6},l().createElement(g.ExpandableRowContent,null,l().createElement(f.Flex,null,l().createElement(f.FlexItem,null,l().createElement("strong",null,"Job status")),l().createElement(f.FlexItem,{align:{default:"alignRight"}},l().createElement("strong",null,"Jobs"),"  ",null!==(b=null==w?void 0:w.total_count)&&void 0!==b?b:0)),l().createElement(y.Z,{categoryCount:A,categoryColor:v.ss,showPercent:!0}),l().createElement(f.Flex,null,l().createElement(f.FlexItem,null,l().createElement("strong",null,"All Host status")),l().createElement(f.FlexItem,{align:{default:"alignRight"}},l().createElement("strong",null,"Hosts"),"  ",null!==(k=null==w?void 0:w.host_count)&&void 0!==k?k:0)),l().createElement(y.Z,{categoryCount:C,categoryColor:v.ss,showPercent:!0}),l().createElement(f.Flex,null,l().createElement(f.FlexItem,null,l().createElement("strong",null,"All Task status")),l().createElement(f.FlexItem,{align:{default:"alignRight"}},l().createElement("strong",null,"Tasks"),"  ",null!==(x=null==w?void 0:w.host_task_count)&&void 0!==x?x:0)),l().createElement(y.Z,{categoryCount:P,categoryColor:v.ss,showPercent:!0}),l().createElement(f.Divider,{component:"div",style:{marginTop:"2rem",marginBottom:"1.5rem"}}),function(e){var t=e.most_failed_tasks;if(null!=t)return l().createElement(l().Fragment,null,l().createElement("p",null,l().createElement("strong",null,"Most failed tasks")),l().createElement("br",null),l().createElement(f.Grid,{hasGutter:!0},t.slice(0,t.length).map((function(e,t){var a,n,r,o,i,s,u={passed:null!==(a=null==e?void 0:e.passed_host_count)&&void 0!==a?a:0,failed:null!==(n=null==e?void 0:e.failed_host_count)&&void 0!==n?n:0,unreachable:null!==(r=null==e?void 0:e.unreachable_host_count)&&void 0!==r?r:0},c={passed:null!==(o=null==e?void 0:e.successful_count)&&void 0!==o?o:0,failed:null!==(i=null==e?void 0:e.failed_count)&&void 0!==i?i:0,unfinished:null!==(s=null==e?void 0:e.unfinished_count)&&void 0!==s?s:0};return l().createElement(l().Fragment,null,l().createElement(f.GridItem,null,l().createElement(E,{isHorizontal:!0},function(e){return[{label:"Task name",value:e.task_name},{label:"Module name",value:e.module_name}]}(e).map((function(e){var t=e.label,a=e.value;return l().createElement(f.DescriptionListGroup,{key:t},l().createElement(f.DescriptionListTerm,null,t),l().createElement(f.DescriptionListDescription,null,a))})))),l().createElement(f.GridItem,{lg:6,md:12,key:"hosts-"+t},l().createElement(f.Flex,null,l().createElement(f.FlexItem,null,l().createElement("strong",null,"Host status")),l().createElement(f.FlexItem,{align:{default:"alignRight"}},l().createElement("strong",null,"Hosts"),"  ",function(e){return parseInt(e.passed_host_count)+parseInt(e.failed_host_count)+parseInt(e.unreachable_host_count)}(e))),l().createElement(y.Z,{categoryCount:u,categoryColor:v.ss,showPercent:!0})),l().createElement(f.GridItem,{lg:6,md:12,key:"tasks-"+t},l().createElement(f.Flex,null,l().createElement(f.FlexItem,null,l().createElement("strong",null,"Task status")),l().createElement(f.FlexItem,{align:{default:"alignRight"}},l().createElement("strong",null,"Tasks"),"  ",function(e){return parseInt(e.successful_count)+parseInt(e.failed_count)+parseInt(e.unfinished_count)}(e))),l().createElement(y.Z,{categoryCount:c,categoryColor:v.ss,showPercent:!0})))}))))}(w),l().createElement(f.DescriptionList,{isHorizontal:!0,columnModifier:{lg:"3Col"}},function(e){var t,a;return[{label:"Clusters",value:null!==(t=e.total_cluster_count)&&void 0!==t?t:0},{label:"Organizations",value:null!==(a=e.total_org_count)&&void 0!==a?a:0}]}(w).map((function(e){var t=e.label,a=e.value;return l().createElement(f.DescriptionListGroup,{key:t},l().createElement(f.DescriptionListTerm,null,t),l().createElement(f.DescriptionListDescription,null,a))}))))))};var x,T=["elapsed"],w=[],A=function(e,t){return"id"===t&&-1===e[t]};const P=function(e){var t,a=e.legendEntry,n=e.headers,r=e.expandRows,i=(0,o.useState)(!1),s=i[0],u=i[1];return l().createElement(l().Fragment,null,l().createElement(g.Tr,{style:(t=a,"id",A(t,"id")?{backgroundColor:_.global_disabled_color_300.value}:{})},r&&l().createElement(g.Td,{expand:{rowIndex:+a.id,isExpanded:s,onToggle:function(){return u(!s)}}}),n.map((function(e){var t=e.key;return l().createElement(g.Td,{key:a.id+"-"+t},function(e,t){return function(e,t){return"id"===t&&-2===e[t]}(e,t)||A(e,t)?"-":T.includes(t)?(0,h.yH)(+e[t]):w.includes(t)?(0,b.Z)(+e[t]):""+e[t]}(a,t))}))),r&&l().createElement(k,{isExpanded:s,item:a}))};var C=function(){return C=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},C.apply(this,arguments)};const D=function(e){var t=e.legend,a=e.headers,n=e.getSortParams,r=void 0===n?function(){return{}}:n,o=e.expandRows,i=void 0!==o&&o;return l().createElement(g.TableComposable,{"aria-label":"Report Table",variant:g.TableVariant.compact},l().createElement(g.Thead,null,l().createElement(g.Tr,null,i&&l().createElement(g.Th,null),a.map((function(e){var t=e.key,a=e.value;return l().createElement(g.Th,C({key:t},r(t),{"data-testid":t}),a)})))),l().createElement(g.Tbody,null,t.map((function(e){return l().createElement(P,{key:e.id,legendEntry:e,headers:a,expandRows:i})}))))};var F=a(91738),O=function(){return O=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},O.apply(this,arguments)},j=function(e){return O(O({},F.wk),{axisFormat:O(O({},F.wk.axisFormat),{formatAsYear:function(e){return Intl.DateTimeFormat("en",{year:"numeric"}).format(new Date(e))},formatAsMonth:function(e){return Intl.DateTimeFormat("en",{month:"long"}).format(new Date(e))}}),fetchFnc:function(){return new Promise((function(t){t(e)}))}})};const L=function(e){var t=e.schema,a=e.data;return l().createElement(F.ZP,{schema:t,functions:j(a)})};var I=a(12613),Z=a(64631),S=a(77388),R=a(9771),G=a(48236),q=a(83061);const X=function(e){var t=e.api,a=e.children;return!t||t.isLoading?l().createElement(G.Z,null):t.error?l().createElement(R.Z,{message:t.error.error}):t.isSuccess?0===t.result.meta.count?l().createElement(q.Z,null):l().createElement(l().Fragment,null,a):null};var z=a(45994),$=a(70885),H=a(45697),N=a.n(H),B=a(98478),M=a(84564),U=a(44633),V=a(55411),Y=a(23071),K=function(e){var t,a,n,r=e.slug,i=e.endpointUrl,s=e.queryParams,u=e.y,c=e.label,d=e.xTickFormat,p=e.totalCount,m=(0,o.useState)(!1),g=(0,$.Z)(m,2),_=g[0],h=g[1],b=(0,o.useState)(!1),y=(0,$.Z)(b,2),v=y[0],E=y[1],k=(0,o.useState)(!0),x=(0,$.Z)(k,2),T=x[0],w=x[1],A=(0,S.ZP)((function(){return(0,U.$w)({slug:r,endpointUrl:i,queryParams:s,y:u,label:c,x_tick_format:d,showExtraRows:T})}),null),P=A.error,C=A.isLoading,D=A.request,F=null==P||null===(t=P.error)||void 0===t||null===(a=t.detail)||void 0===a?void 0:a.name,O=null!==(n=null==F?void 0:F.at(0))&&void 0!==n?n:"Download PDF version of report";return(0,o.useEffect)((function(){P&&h(!0)}),[P]),l().createElement(l().Fragment,null,l().createElement(f.Tooltip,{position:f.TooltipPosition.top,content:O},l().createElement(f.Button,{variant:P?f.ButtonVariant.link:f.ButtonVariant.plain,"aria-label":O,onClick:function(){return E(!0)},isDanger:!!P},C&&l().createElement(f.Spinner,{isSVG:!0,size:"md"}),!C&&P&&l().createElement(M.ZP,null),!C&&!P&&l().createElement(B.ZP,null))),l().createElement(f.Modal,{variant:f.ModalVariant.small,title:"Export report",isOpen:v,onClose:function(){E(!1)},actions:[l().createElement(f.Button,{key:"export",variant:f.ButtonVariant.primary,onClick:function(){D(),E(!1)}},"Export"),l().createElement(f.Button,{key:"cancel",variant:f.ButtonVariant.link,onClick:function(){return E(!1)}},"Cancel")]},l().createElement(f.Grid,{md:4},l().createElement(f.GridItem,null,l().createElement(f.Radio,{onChange:function(){return w(!0)},isChecked:T,name:"optionSelected",label:"Current page",id:"current-page-radio","aria-label":"current-page-radio"})),l().createElement(f.GridItem,null,l().createElement(f.Radio,{onChange:function(){return w(!1)},isChecked:!T,name:"optionSelected",label:p<=100?"All ".concat(p," items"):"Top 100",id:"total-count-radio","aria-label":"total-count-radio"})))),l().createElement(V.Z,{isOpen:_,title:"PDF download error!",onClose:function(){h(!1)}},l().createElement(Y.Z,{error:F})))};K.propTypes={slug:N().string.isRequired,endpointUrl:N().string.isRequired,queryParams:N().object.isRequired,y:N().string.isRequired,label:N().string.isRequired,xTickFormat:N().string.isRequired,totalCount:N().number.isRequired};const J=K;var W=a(65317),Q="Executive",ee=[{title:"4",value:4},{title:"6",value:6},{title:"8",value:8},{title:"10",value:10}],te=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},ae=(0,s.ZP)(f.CardBody)(re||(re=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}(["\n  & .pf-c-toolbar,\n  & .pf-c-toolbar__content {\n    padding: 0;\n  }\n"],["\n  & .pf-c-toolbar,\n  & .pf-c-toolbar__content {\n    padding: 0;\n  }\n"])));const ne=function(e){var t,a,n=e.slug,r=e.defaultParams,i=e.defaultTableHeaders,s=e.tableAttributes,u=e.expandedAttributes,c=e.availableChartTypes,d=e.dataEndpointUrl,p=e.readData,m=e.readOptions,g=e.schemaFnc,_=(0,W.ye)(W.GA.pdfDownloadButton),b=(0,Z.Kx)(r),y=b.queryParams,v=b.setFromPagination,E=b.setFromToolbar,k=(0,S.ZP)((0,o.useCallback)((function(){return p(y)}),[y]),{meta:{count:0,legend:[]}}),x=k.request,T=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(k,["request"]),w=(0,S.ZP)((function(){return m(y)}),{sort_options:[]}),A=w.result,P=w.request;(0,o.useEffect)((function(){x(),P()}),[y]);var C,F=(0,o.useState)(c[0]),O=F[0],j=F[1],R=te(te([],i,!0),s?A.sort_options.filter((function(e){var t=e.key;return s.includes(t)})):A.sort_options,!0),G={y:y.sort_options,label:(null===(a=null===(t=A.sort_options)||void 0===t?void 0:t.find((function(e){return e.key===y.sort_options})))||void 0===a?void 0:a.value)||"Label Y",xTickFormat:(C=y.granularity,"yearly"===C?"formatAsYear":"monthly"===C?"formatAsMonth":"daily"===C?"formatDateAsDayMonth":""),chartType:O},q=[c.length>1&&l().createElement(f.ToggleGroup,{"aria-label":"Chart type toggle",key:"chart-toggle"},c.map((function(e){return l().createElement(f.ToggleGroupItem,{key:e,text:(0,h.kC)(e)+" Chart",buttonId:e,isSelected:e===O,onChange:function(){return j(e)}})}))),_&&l().createElement(J,{key:"download-button",slug:n,endpointUrl:d,queryParams:y,y:G.y,label:G.label,xTickFormat:G.xTickFormat,totalCount:T.result.meta.count})];return l().createElement(f.Card,null,l().createElement(ae,null,l().createElement(z.Z,{categories:A,filters:y,setFilters:E,pagination:l().createElement(I.Z,{count:T.result.meta.count,perPageOptions:ee,params:{limit:+y.limit,offset:+y.offset},setPagination:v,isCompact:!0}),additionalControls:q}),R&&l().createElement(X,{api:T},l().createElement(L,{schema:g(G.label,G.y,G.xTickFormat,G.chartType),data:T.result}),l().createElement(D,{legend:T.result.meta.legend,headers:R,getSortParams:function(e){var t,a=null===(t=null==A?void 0:A.sort_options)||void 0===t?void 0:t.map((function(e){return e.key}));return(null==a?void 0:a.includes(e))?{sort:{sortBy:{index:R.findIndex((function(e){return e.key===y.sort_options}))||0,direction:y.sort_order||"none"},onSort:function(e,t,a){var n;E("sort_order",a),E("sort_options",null===(n=R[t])||void 0===n?void 0:n.key)},columnIndex:R.findIndex((function(t){return t.key===e}))}}:{}},expandRows:u.length>0}))),l().createElement(f.CardFooter,null,l().createElement(I.Z,{count:T.result.meta.count,perPageOptions:ee,params:{limit:+y.limit,offset:+y.offset},setPagination:v,variant:f.PaginationVariant.bottom})))};var re,oe=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},le="hosts_changed_by_job_template",ie=["total_unique_host_count","total_unique_host_changed_count"],se=[];const ue={slug:le,name:"Hosts changed by job template",description:"The number of hosts changed by a job template in a specified time window.\n\nYou can use this report to find discrepancies in the host change rate at a particular time, helping you drill down to when and why hosts were unreachable at a particular time.",categories:[Q],reportParams:{slug:le,defaultParams:{limit:6,offset:0,attributes:oe(oe([],ie,!0),se,!0),group_by:"template",group_by_time:!0,granularity:"monthly",quick_date_range:"last_6_months",sort_options:"total_unique_host_count",sort_order:"desc",cluster_id:[],inventory_id:[],job_type:[],org_id:[],status:[],template_id:[]},defaultTableHeaders:[{key:"id",value:"ID"},{key:"name",value:"Template name"}],tableAttributes:ie,expandedAttributes:se,availableChartTypes:[F.oX.line,F.oX.bar],dataEndpointUrl:U.r_,readData:U.og,readOptions:U.FW,schemaFnc:function(e,t,a,n){return void 0===n&&(n=F.oX.line),[{id:1,kind:F.$v.wrapper,type:F.yD.chart,parent:null,props:{height:400,padding:{top:40,bottom:85,right:90,left:90},domainPadding:{y:25,x:n==F.oX.bar?85:0},themeColor:F.nz.multiOrdered},xAxis:{label:"Date",tickFormat:a,style:{axisLabel:{padding:50}}},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:60}}},api:{url:"",params:{}},legend:{interactive:!0,orientation:F.nw.vertical,position:F.St.right,turncateAt:18},tooltip:{mouseFollow:!0,stickToAxis:"x",cursor:!0,legendTooltip:{titleProperyForLegend:"created_date"}}},{id:2,kind:F.$v.group,parent:1,template:{id:0,kind:F.$v.simple,type:n,parent:0,props:{x:"created_date",y:t},tooltip:{labelName:""}}}]}}};var ce=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},de="changes_made_by_job_template",pe=["host_count","changed_host_count","host_task_count","host_task_changed_count"],me=[];const ge={slug:de,name:"Changes made by job template",description:"The total count of changes made by each job template in a specified time window.\n\nYou can use this report to ensure the correct number of changes are made per hostname, as well as see which job templates are doing the most changes to your infrastructure.",categories:[Q],reportParams:{slug:de,defaultParams:{limit:6,offset:0,attributes:ce(ce([],pe,!0),me,!0),group_by:"template",group_by_time:!0,granularity:"monthly",quick_date_range:"last_6_months",sort_options:"changed_host_count",sort_order:"desc",cluster_id:[],inventory_id:[],job_type:[],org_id:[],status:[],template_id:[]},defaultTableHeaders:[{key:"id",value:"ID"},{key:"name",value:"Template name"}],tableAttributes:pe,expandedAttributes:me,availableChartTypes:[F.oX.line,F.oX.bar],dataEndpointUrl:U.Sm,readData:U.Ij,readOptions:U.ZW,schemaFnc:function(e,t,a,n){return void 0===n&&(n=F.oX.line),[{id:1,kind:F.$v.wrapper,type:F.yD.chart,parent:null,props:{height:400,padding:{top:40,bottom:85,right:90,left:90},domainPadding:{y:25,x:n==F.oX.bar?85:0},themeColor:F.nz.multiOrdered},xAxis:{label:"Date",tickFormat:a,style:{axisLabel:{padding:50}}},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:60}}},api:{url:"",params:{}},legend:{interactive:!0,orientation:F.nw.vertical,position:F.St.right,turncateAt:18},tooltip:{mouseFollow:!0,stickToAxis:"x",cursor:!0,legendTooltip:{titleProperyForLegend:"created_date"}}},{id:2,kind:F.$v.group,parent:1,template:{id:0,kind:F.$v.simple,type:n,parent:0,props:{x:"created_date",y:t},tooltip:{labelName:""}}}]}}};var _e=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},he="job_template_run_rate",be=["failed_count","successful_count","total_count"],fe=[];const ye={slug:he,name:"Job template run rate",description:"The number of times a job template has ran in a specified time window.\n\nYou can use this report to be able to tell which playbooks are running most frequently, allowing you to see which groups in your organization are running Ansible the most.",categories:[Q],reportParams:{slug:he,defaultParams:{limit:6,offset:0,attributes:_e(_e([],be,!0),fe,!0),group_by:"template",group_by_time:!0,granularity:"monthly",quick_date_range:"last_6_months",sort_options:"total_count",sort_order:"desc",cluster_id:[],inventory_id:[],job_type:[],org_id:[],status:[],template_id:[]},defaultTableHeaders:[{key:"id",value:"ID"},{key:"name",value:"Template name"}],tableAttributes:be,expandedAttributes:fe,availableChartTypes:[F.oX.line,F.oX.bar],dataEndpointUrl:U.Sm,readData:U.Ij,readOptions:U.ZW,schemaFnc:function(e,t,a,n){return void 0===n&&(n=F.oX.line),[{id:1,kind:F.$v.wrapper,type:F.yD.chart,parent:null,props:{height:400,padding:{top:40,bottom:85,right:90,left:90},domainPadding:{y:25,x:n==F.oX.bar?85:0},themeColor:F.nz.multiOrdered},xAxis:{label:"Date",tickFormat:a,style:{axisLabel:{padding:50}}},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:60}}},api:{url:"",params:{}},legend:{interactive:!0,orientation:F.nw.vertical,position:F.St.right,turncateAt:18},tooltip:{mouseFollow:!0,stickToAxis:"x",cursor:!0,legendTooltip:{titleProperyForLegend:"created_date"}}},{id:2,kind:F.$v.group,parent:1,template:{id:0,kind:F.$v.simple,type:n,parent:0,props:{x:"created_date",y:t},tooltip:{labelName:""}}}]}}};var ve=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},Ee="hosts_by_organization",ke=["total_unique_host_count","total_unique_host_changed_count"],xe=[];const Te={slug:Ee,name:"Hosts by organization",description:"The number of unique hosts, grouped by organizations from Ansible Controller.\n\nYou can use this report to find which organizations are managing the most hosts with Ansible automation.",categories:[Q],reportParams:{slug:Ee,defaultParams:{limit:6,offset:0,granularity:"daily",quick_date_range:"last_30_days",status:[],org_id:[],job_type:["workflowjob","job"],cluster_id:[],template_id:[],inventory_id:[],attributes:ve(ve([],ke,!0),xe,!0),group_by:"org",group_by_time:!0,sort_options:"total_unique_host_count",sort_order:"desc"},defaultTableHeaders:[{key:"id",value:"ID"},{key:"name",value:"Organization name"}],tableAttributes:ke,expandedAttributes:xe,availableChartTypes:[F.oX.line,F.oX.bar],dataEndpointUrl:U.r_,readData:U.og,readOptions:U.FW,schemaFnc:function(e,t,a,n){return void 0===n&&(n=F.oX.line),[{id:1,kind:F.$v.wrapper,type:F.yD.chart,parent:null,props:{height:400,padding:{top:40,bottom:85,right:90,left:90},domainPadding:{y:25,x:n==F.oX.bar?85:0},themeColor:F.nz.multiOrdered},xAxis:{label:"Date",tickFormat:a,style:{axisLabel:{padding:50}}},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:60}}},api:{url:"",params:{}},legend:{interactive:!0,orientation:F.nw.vertical,position:F.St.right,turncateAt:18},tooltip:{mouseFollow:!0,stickToAxis:"x",cursor:!0,legendTooltip:{titleProperyForLegend:"created_date"}}},{id:2,kind:F.$v.group,parent:1,template:{id:0,kind:F.$v.simple,type:n,parent:0,props:{x:"created_date",y:t},tooltip:{labelName:""}}}]}}};var we=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},Ae="jobs_and_tasks_by_organization",Pe=["total_count","host_task_count"],Ce=[];const De={slug:Ae,name:"Jobs/Tasks by organization",description:"The number of job template and task runs, grouped by organizations from Ansible Controller.\n\nYou can use this report to find which organizations are running the most Ansible jobs.",categories:[Q],reportParams:{slug:Ae,defaultParams:{limit:6,offset:0,granularity:"daily",quick_date_range:"last_30_days",status:[],org_id:[],job_type:["workflowjob","job"],cluster_id:[],template_id:[],inventory_id:[],attributes:we(we([],Pe,!0),Ce,!0),group_by:"org",group_by_time:!0,sort_options:"total_count",sort_order:"desc"},defaultTableHeaders:[{key:"id",value:"ID"},{key:"name",value:"Organization name"}],tableAttributes:Pe,expandedAttributes:Ce,availableChartTypes:[F.oX.line,F.oX.bar],dataEndpointUrl:U.Sm,readData:U.Ij,readOptions:U.ZW,schemaFnc:function(e,t,a,n){return void 0===n&&(n=F.oX.line),[{id:1,kind:F.$v.wrapper,type:F.yD.chart,parent:null,props:{height:400,padding:{top:40,bottom:85,right:90,left:90},domainPadding:{y:25,x:n==F.oX.bar?85:0},themeColor:F.nz.multiOrdered},xAxis:{label:"Date",tickFormat:a,style:{axisLabel:{padding:50}}},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:60}}},api:{url:"",params:{}},legend:{interactive:!0,orientation:F.nw.vertical,position:F.St.right,turncateAt:18},tooltip:{mouseFollow:!0,stickToAxis:"x",cursor:!0,legendTooltip:{titleProperyForLegend:"created_date"}}},{id:2,kind:F.$v.group,parent:1,template:{id:0,kind:F.$v.simple,type:n,parent:0,props:{x:"created_date",y:t},tooltip:{labelName:""}}}]}}};var Fe=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},Oe="templates_explorer",je=["failed_count","successful_count","total_count"],Le=["average_host_task_count_per_host","average_host_task_ok_count_per_host","average_host_task_failed_count_per_host","average_host_task_unreachable_count_per_host","average_host_task_skipped_count_per_host","successful_count","failed_count","error_count","started","finished","elapsed","created","total_cluster_count","total_org_count","most_failed_tasks","host_count","host_task_count","host_task_changed_count","host_task_failed_count","host_task_ok_count","host_task_skipped_count","host_task_unreachable_count","failed_host_count","unreachable_host_count","changed_host_count","ok_host_count","skipped_host_count","total_count"];const Ie={slug:Oe,name:"Templates explorer",description:"An overview of the job templates that have ran across your Ansible cluster.\n\nYou can use this report to review the status of a particular job template across its job runs, giving you an overview of the times a template fails a job run, a host, or a task. You can also review the host and task status for tasks that fail the most, allowing you to identify any bottlenecks or problems with the templates you are running.",categories:["Operations"],reportParams:{slug:Oe,defaultParams:{limit:6,offset:0,attributes:Fe(Fe([],je,!0),Le,!0),group_by:"template",group_by_time:!1,granularity:"monthly",quick_date_range:"last_6_months",sort_options:"total_count",sort_order:"desc",cluster_id:[],inventory_id:[],job_type:[],org_id:[],status:[],template_id:[]},defaultTableHeaders:[{key:"id",value:"ID"},{key:"name",value:"Template name"}],tableAttributes:je,expandedAttributes:Le,availableChartTypes:[F.oX.bar],dataEndpointUrl:U.Sm,readData:U.Ij,readOptions:U.ZW,schemaFnc:function(e,t){return[{id:1,kind:F.$v.wrapper,type:F.yD.chart,parent:null,props:{height:400,padding:{top:40,bottom:85,right:90,left:90},domainPadding:{y:25,x:85},themeColor:F.nz.multiOrdered},xAxis:{label:"Template",style:{axisLabel:{padding:50}}},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:60}}},api:{url:"",params:{}}},{id:2,kind:F.$v.group,parent:1,template:{id:0,kind:F.$v.simple,type:F.oX.bar,parent:0,props:{x:"name",y:t},tooltip:{standalone:!0,labelName:e}}}]}}};var Ze=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},Se="most_used_modules",Re=["host_task_count","host_task_changed_count","host_task_ok_count","host_task_failed_count","host_task_unreachable_count"],Ge=[];const qe={slug:Se,name:"Most used modules",description:"The number of job template and task runs, grouped by Ansible module usage.\n\nYou can use this report to find which modules are being used the most across your automation, helping you to check things like organization-wide adoption of purpose-built modules over potentially less performant, catch-all solutions.",categories:[Q],reportParams:{slug:Se,defaultParams:{limit:6,offset:0,attributes:Ze(Ze([],Re,!0),Ge,!0),group_by:"module",group_by_time:!0,granularity:"monthly",quick_date_range:"last_6_months",sort_options:"host_task_count",sort_order:"desc",cluster_id:[],inventory_id:[],job_type:[],org_id:[],status:[],template_id:[]},defaultTableHeaders:[{key:"id",value:"ID"},{key:"name",value:"Module name"}],tableAttributes:Re,expandedAttributes:Ge,availableChartTypes:[F.oX.line,F.oX.bar],dataEndpointUrl:U.iZ,readData:U.wi,readOptions:U.tH,schemaFnc:function(e,t,a,n){return void 0===n&&(n=F.oX.line),[{id:1,kind:F.$v.wrapper,type:F.yD.chart,parent:null,props:{height:400,padding:{top:40,bottom:85,right:90,left:90},domainPadding:{y:25,x:n==F.oX.bar?85:0},themeColor:F.nz.multiOrdered},xAxis:{label:"Date",tickFormat:a,style:{axisLabel:{padding:50}}},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:60}}},api:{url:"",params:{}},legend:{interactive:!0,orientation:F.nw.vertical,position:F.St.right},tooltip:{mouseFollow:!0,stickToAxis:"x",cursor:!0,legendTooltip:{titleProperyForLegend:"created_date"}}},{id:2,kind:F.$v.group,parent:1,template:{id:0,kind:F.$v.simple,type:n,parent:0,props:{x:"created_date",y:t},tooltip:{labelName:""}}}]}}};var Xe=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},ze="module_usage_by_organization",$e=["host_task_count","host_task_changed_count","host_task_ok_count","host_task_failed_count","host_task_unreachable_count"],He=[];const Ne={slug:ze,name:"Module usage by organization",description:"The number of job template and task runs for a specified set of Ansible modules, grouped by organizations from Ansible Controller.\n\nYou can use this report to find which organizations are using particular modules, helping you to check things like adoption of purpose-built modules of particular teams.",categories:[Q],reportParams:{slug:ze,defaultParams:{limit:6,offset:0,attributes:Xe(Xe([],$e,!0),He,!0),group_by:"org",group_by_time:!0,granularity:"monthly",quick_date_range:"last_6_months",sort_options:"host_task_count",sort_order:"desc",cluster_id:[],inventory_id:[],job_type:[],org_id:[],status:[],task_action_id:[],template_id:[]},defaultTableHeaders:[{key:"id",value:"ID"},{key:"name",value:"Organization name"}],tableAttributes:$e,expandedAttributes:He,availableChartTypes:[F.oX.line,F.oX.bar],dataEndpointUrl:U.iZ,readData:U.wi,readOptions:U.tH,schemaFnc:function(e,t,a,n){return void 0===n&&(n=F.oX.line),[{id:1,kind:F.$v.wrapper,type:F.yD.chart,parent:null,props:{height:400,padding:{top:40,bottom:85,right:90,left:90},domainPadding:{y:25,x:n==F.oX.bar?85:0},themeColor:F.nz.multiOrdered},xAxis:{label:"Date",tickFormat:a,style:{axisLabel:{padding:50}}},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:60}}},api:{url:"",params:{}},legend:{interactive:!0,orientation:F.nw.vertical,position:F.St.right},tooltip:{mouseFollow:!0,stickToAxis:"x",cursor:!0,legendTooltip:{titleProperyForLegend:"created_date"}}},{id:2,kind:F.$v.group,parent:1,template:{id:0,kind:F.$v.simple,type:n,parent:0,props:{x:"created_date",y:t},tooltip:{labelName:""}}}]}}};var Be=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},Me="module_usage_by_job_template",Ue=["host_task_count","host_task_changed_count","host_task_ok_count","host_task_failed_count","host_task_unreachable_count"],Ve=[];const Ye={slug:Me,name:"Module usage by job template",description:"The number of job template and task runs for a specified set of Ansible modules, grouped by job template.\n\nYou can use this report to find which job templates are using particular modules, helping you to check things like adoption of purpose-built modules for particular templates.",categories:[Q],reportParams:{slug:Me,defaultParams:{limit:6,offset:0,attributes:Be(Be([],Ue,!0),Ve,!0),group_by:"template",group_by_time:!0,granularity:"monthly",quick_date_range:"last_6_months",sort_options:"host_task_count",sort_order:"desc",cluster_id:[],inventory_id:[],job_type:[],org_id:[],status:[],task_action_id:[],template_id:[]},defaultTableHeaders:[{key:"id",value:"ID"},{key:"name",value:"Template name"}],tableAttributes:Ue,expandedAttributes:Ve,availableChartTypes:[F.oX.line,F.oX.bar],dataEndpointUrl:U.iZ,readData:U.wi,readOptions:U.tH,schemaFnc:function(e,t,a,n){return void 0===n&&(n=F.oX.line),[{id:1,kind:F.$v.wrapper,type:F.yD.chart,parent:null,props:{height:400,padding:{top:40,bottom:85,right:90,left:90},domainPadding:{y:25,x:n==F.oX.bar?85:0},themeColor:F.nz.multiOrdered},xAxis:{label:"Date",tickFormat:a,style:{axisLabel:{padding:50}}},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:60}}},api:{url:"",params:{}},legend:{interactive:!0,orientation:F.nw.vertical,position:F.St.right},tooltip:{mouseFollow:!0,stickToAxis:"x",cursor:!0,legendTooltip:{titleProperyForLegend:"created_date"}}},{id:2,kind:F.$v.group,parent:1,template:{id:0,kind:F.$v.simple,type:n,parent:0,props:{x:"created_date",y:t},tooltip:{labelName:""}}}]}}};var Ke=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},Je="module_usage_by_task",We=["host_task_count","host_task_changed_count","host_task_ok_count","host_task_failed_count","host_task_unreachable_count"],Qe=[];const et={slug:Je,name:"Module usage by task",description:"The number of job template and task runs for a specified set of Ansible modules, grouped by task.\n\nYou can use this report to find which tasks are using particular modules, helping you to check things like adoption of purpose-built modules for particular tasks.",categories:[Q],reportParams:{slug:Je,defaultParams:{limit:6,offset:0,attributes:Ke(Ke([],We,!0),Qe,!0),group_by:"task",group_by_time:!0,granularity:"monthly",quick_date_range:"last_6_months",sort_options:"host_task_count",sort_order:"desc",cluster_id:[],inventory_id:[],job_type:[],org_id:[],status:[],task_action_id:[],template_id:[]},defaultTableHeaders:[{key:"id",value:"ID"},{key:"name",value:"Task name"}],tableAttributes:We,expandedAttributes:Qe,availableChartTypes:[F.oX.line,F.oX.bar],dataEndpointUrl:U.iZ,readData:U.wi,readOptions:U.tH,schemaFnc:function(e,t,a,n){return void 0===n&&(n=F.oX.line),[{id:1,kind:F.$v.wrapper,type:F.yD.chart,parent:null,props:{height:400,padding:{top:40,bottom:85,right:90,left:90},domainPadding:{y:25,x:n==F.oX.bar?85:0},themeColor:F.nz.multiOrdered},xAxis:{label:"Date",tickFormat:a,style:{axisLabel:{padding:50}}},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:e,style:{axisLabel:{padding:60}}},api:{url:"",params:{}},legend:{interactive:!0,orientation:F.nw.vertical,position:F.St.right},tooltip:{mouseFollow:!0,stickToAxis:"x",cursor:!0,legendTooltip:{titleProperyForLegend:"created_date"}}},{id:2,kind:F.$v.group,parent:1,template:{id:0,kind:F.$v.simple,type:n,parent:0,props:{x:"created_date",y:t},tooltip:{labelName:""}}}]}}};var tt=a(15861),at=a(45987),nt=a(4942),rt=a(42982),ot=a(87757),lt=a.n(ot),it=a(83474),st=function(){return st=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},st.apply(this,arguments)},ut=function(e){return st(st({},F.wk),{fetchFnc:function(){return new Promise((function(t){t(e)}))}})};const ct=function(e){var t=e.schema,a=e.data;return l().createElement(F.ZP,{schema:t,functions:ut({items:a,type:F.Ii.nonGrouped,response_type:""})})},dt=function(e){var t=e.totalSavings,a=void 0===t?0:t;return l().createElement(f.Card,{isPlain:!0,isCompact:!0},l().createElement(f.CardTitle,null,"Total savings"),l().createElement(f.CardBody,null,l().createElement(f.Title,{headingLevel:"h3",size:"4xl",style:{color:"var(--pf-global--success-color--200)"}},(0,b.Z)(a))))};var pt=a(97960),mt=(0,s.ZP)(f.InputGroup)(ht||(ht=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}(["\n  width: 170px;\n"],["\n  width: 170px;\n"]))),gt=function(e){return+e&&+e<0?NaN:e};const _t=function(e){var t=e.costManual,a=void 0===t?0:t,n=e.setCostManual,r=void 0===n?function(){return{}}:n,o=e.costAutomation,i=void 0===o?0:o,s=e.setCostAutomation,u=void 0===s?function(){return{}}:s;return l().createElement(f.Card,{isPlain:!0,isCompact:!0},l().createElement(f.CardBody,null,l().createElement("p",null,"Manual cost of automation",l().createElement("span",{style:{color:"var(--pf-global--Color--dark-200)",fontSize:"0.8em",display:"block"}},"(e.g. average salary of mid-level Software Engineer)")),l().createElement(mt,null,l().createElement(f.InputGroupText,null,l().createElement(pt.bk,null)),l().createElement(f.TextInput,{id:"manual-cost",type:"number","aria-label":"manual-cost",value:isNaN(a)?"":a.toString(),onChange:function(e){return r(gt(+e))}}),l().createElement(f.InputGroupText,null,"/hr")),l().createElement("p",{style:{paddingTop:"10px"}},"Automated process cost"),l().createElement(mt,null,l().createElement(f.InputGroupText,null,l().createElement(pt.bk,null)),l().createElement(f.TextInput,{id:"automation-cost",type:"number","aria-label":"automation-cost",value:isNaN(i)?"":i.toString(),onChange:function(e){return u(gt(+e))}}),l().createElement(f.InputGroupText,null,"/hr"))))};var ht,bt=a(53688);const ft=function(){var e=(0,o.useState)(!1),t=e[0],a=e[1];return l().createElement(l().Fragment,null,l().createElement(f.Button,{variant:f.ButtonVariant.link,onClick:function(){return a(!0)},icon:l().createElement(bt.uM,null)},"Automation formula"),l().createElement(f.Modal,{title:"Automation formula",isOpen:t,onClose:function(){return a(!1)},variant:f.ModalVariant.medium,actions:[l().createElement(f.Button,{key:"cancel",variant:f.ButtonVariant.primary,onClick:function(){return a(!1)}},"Close")]},l().createElement("p",null,l().createElement("b",null,"Manual cost for template X"),l().createElement("br",null),"(time for a manual run on one host in hours * (sum of all hosts across all job runs) ) * cost per hour"),l().createElement("br",null),l().createElement("p",null,l().createElement("b",null,"Automation cost for template X"),l().createElement("br",null),"cost of automation per hour * sum of total elapsed hours for a template"),l().createElement("br",null),l().createElement("p",null,l().createElement("b",null,"Savings"),l().createElement("br",null),"Sum of (manual cost - automation cost) across all templates")))},yt=function(e){var t=e.template;return l().createElement(g.Td,{colSpan:5},l().createElement(g.ExpandableRowContent,null,l().createElement(f.DescriptionList,{columnModifier:{default:"3Col"}},l().createElement(f.DescriptionListGroup,null,l().createElement(f.DescriptionListTerm,null,"ID"),l().createElement(f.DescriptionListDescription,null,t.id)),l().createElement(f.DescriptionListGroup,null,l().createElement(f.DescriptionListTerm,null,"Elapsed"),l().createElement(f.DescriptionListDescription,null,t.elapsed)),l().createElement(f.DescriptionListGroup,null,l().createElement(f.DescriptionListTerm,null,"Host count"),l().createElement(f.DescriptionListDescription,null,t.host_count)),l().createElement(f.DescriptionListGroup,null,l().createElement(f.DescriptionListTerm,null,"Total count"),l().createElement(f.DescriptionListDescription,null,t.total_count)),l().createElement(f.DescriptionListGroup,null,l().createElement(f.DescriptionListTerm,null,"Total org count"),l().createElement(f.DescriptionListDescription,null,t.total_org_count)),l().createElement(f.DescriptionListGroup,null,l().createElement(f.DescriptionListTerm,null,"Total cluster count"),l().createElement(f.DescriptionListDescription,null,t.total_cluster_count)),l().createElement(f.DescriptionListGroup,null,l().createElement(f.DescriptionListTerm,null,"Total inventory count"),l().createElement(f.DescriptionListDescription,null,t.total_inventory_count)))))},vt=function(e){var t=e.template,a=e.variableRow,n=e.setDataRunTime,r=e.setEnabled,i=e.redirectToJobExplorer,s=(0,o.useState)(!1),u=s[0],c=s[1];return l().createElement(l().Fragment,null,l().createElement(g.Tr,null,l().createElement(g.Td,{expand:{rowIndex:t.id,isExpanded:u,onToggle:function(){return c(!u)}}}),l().createElement(g.Td,null,l().createElement(f.Tooltip,{content:"List of jobs for this template for past 30 days"},l().createElement(f.Button,{onClick:function(){return i(t.id)},variant:f.ButtonVariant.link},t.name))),l().createElement(g.Td,null,t[a.key]),l().createElement(g.Td,null,l().createElement(f.InputGroup,null,l().createElement(f.TextInput,{style:{maxWidth:"150px"},type:"number","aria-label":"time run manually",value:t.avgRunTime/60,onChange:function(e){return n(60*+e,t.id)}}),l().createElement(f.InputGroupText,null,"min"),l().createElement(f.InputGroupText,{variant:f.InputGroupTextVariant.plain},"x ",t.successful_hosts_total," host runs"))),l().createElement(g.Td,{style:{color:_.global_success_color_200.value}},(0,b.Z)(+t.delta)),l().createElement(g.Td,null,l().createElement(f.Switch,{label:"Show",labelOff:"Hide",isChecked:t.enabled,onChange:function(e){return r(e)}}))),l().createElement(g.Tr,{isExpanded:u},l().createElement(yt,{template:t})))},Et=function(e){var t=e.data,a=void 0===t?[]:t,n=e.variableRow,r=e.setDataRunTime,o=void 0===r?function(){return{}}:r,i=e.setEnabled,s=void 0===i?function(){return function(){return{}}}:i,u=e.redirectToJobExplorer,c=void 0===u?function(){return{}}:u;return l().createElement(f.Card,null,l().createElement(f.CardBody,null,l().createElement("p",null,"Enter the time it takes to run the following templates manually."),l().createElement(g.TableComposable,{"aria-label":"ROI Table",variant:g.TableVariant.compact},l().createElement(g.Thead,null,l().createElement(g.Tr,null,l().createElement(g.Th,null),l().createElement(g.Th,null,"Name"),l().createElement(g.Th,null,n.value),l().createElement(g.Th,null,"Time"),l().createElement(g.Th,null,"Savings"),l().createElement(g.Th,null,l().createElement(f.Switch,{label:"Show all",labelOff:"Show all",isChecked:!a.find((function(e){return!e.enabled})),onChange:function(e){return s(void 0)(e)}})))),l().createElement(g.Tbody,null,a.map((function(e){return l().createElement(vt,{key:e.id,template:e,variableRow:n,setDataRunTime:o,redirectToJobExplorer:c,setEnabled:s(e.id)})}))))))};var kt=a(20806),xt=["request","setValue"];function Tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(a),!0).forEach((function(t){(0,nt.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var At=[].concat((0,rt.Z)(ee),[{title:"15",value:15},{title:"20",value:20},{title:"25",value:25}]),Pt=function(e){return e.filter((function(e){return e.enabled}))},Ct=function(e,t,a){return e.map((function(e){var n=(0,h.B3)(e.avgRunTime)*e.successful_hosts_total*parseFloat(a),r=(0,h.B3)(e.successful_elapsed_total)*parseFloat(t),o=(0,h.YD)(r,n);return wt(wt({},e),{},{delta:o,manualCost:n,automatedCost:r})}))},Dt=function(e){var t=e.slug,a=e.defaultParams,n=(e.defaultTableHeaders,e.tableAttributes,e.expandedAttributes,e.availableChartTypes,e.dataEndpointUrl),r=e.readData,i=e.readOptions,s=e.schemaFnc,u=(0,o.useState)("50"),c=(0,$.Z)(u,2),d=c[0],p=c[1],m=(0,o.useState)("20"),g=(0,$.Z)(m,2),_=g[0],h=g[1],b=(0,Z.eR)(),y=(0,Z.Kx)(a),E=y.queryParams,k=y.setFromToolbar,x=y.setFromPagination,T=(0,S.ZP)((function(){return i(E)}),{sort_options:[{key:a.sort_options,value:a.sort_options}]}),w=T.result,A=T.request,P=(0,S.ZP)((0,tt.Z)(lt().mark((function e(){var t;return lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(E);case 2:return t=e.sent,e.abrupt("return",wt(wt({},t),{},{items:Ct((a=t,void 0,n=a.items,(void 0===n?[]:n).map((function(e){return wt(wt({},e),{},{delta:0,avgRunTime:3600,manualCost:0,automatedCost:0,enabled:!0})}))),_,d)}));case 4:case"end":return e.stop()}var a,n}),e)}))),{items:[],meta:{count:0}}),C=P.request,D=P.setValue,F=(0,at.Z)(P,xt);(0,o.useEffect)((function(){D(Ct(F.result.items,_,d))}),[_,d]),(0,o.useEffect)((function(){A(),C()}),[E]);var O;return l().createElement(X,{api:F},l().createElement(f.Card,null,l().createElement(f.CardBody,null,l().createElement(it.Z,{categories:w,filters:E,setFilters:k,pagination:l().createElement(I.Z,{count:F.result.meta.count,perPageOptions:At,params:{limit:+E.limit,offset:+E.offset},setPagination:x,isCompact:!0}),additionalControls:[l().createElement(J,{key:"download-button",slug:t,endpointUrl:n,queryParams:E,y:void 0,label:void 0,xTickFormat:void 0,totalCount:F.result.meta.count})]}),l().createElement(f.Grid,{hasGutter:!0},l().createElement(f.GridItem,{span:9},l().createElement(f.Card,{isPlain:!0},l().createElement(f.CardHeader,null,l().createElement(f.CardTitle,null,"Automation savings")),l().createElement(f.CardBody,null,l().createElement(ct,{schema:s(),data:Pt(F.result.items)})))),l().createElement(f.GridItem,{span:3},l().createElement(f.Stack,null,l().createElement(f.StackItem,null,l().createElement(dt,{totalSavings:(O=Pt(F.result.items),O.reduce((function(e,t){return e+t.delta}),0))})),l().createElement(f.StackItem,null,l().createElement(f.Stack,null,l().createElement(f.StackItem,null,l().createElement(_t,{costManual:d,setCostManual:p,costAutomation:_,setCostAutomation:h})),l().createElement(f.StackItem,null,l().createElement(ft,null)))))),l().createElement(f.GridItem,{span:12},l().createElement(Et,{redirectToJobExplorer:function(e){var t=(0,nt.Z)({},Z.zG,wt(wt({},v.cY.defaultParams),{},{quick_date_range:"last_30_days",template_id:[e]}));b(kt.n.jobExplorer,t)},data:F.result.items,variableRow:w.sort_options.find((function(e){return e.key===E.sort_options})),setDataRunTime:function(e,t){var a=F.result.items.map((function(a){return a.id===t?(a.avgRunTime=e,Ct([a],_,d)[0]):a}));D(a)},setEnabled:function(e){return function(t){D(e?F.result.items.map((function(a){return a.id===e?wt(wt({},a),{},{enabled:t}):a})):F.result.items.map((function(e){return wt(wt({},e),{},{enabled:t})})))}}})))),l().createElement(f.CardFooter,null,l().createElement(I.Z,{count:F.result.meta.count,perPageOptions:At,params:{limit:+E.limit,offset:+E.offset},setPagination:x,variant:f.PaginationVariant.bottom}))))};Dt.propTypes={slug:N().string.isRequired,defaultParams:N().object.isRequired,defaultTableHeaders:N().array.isRequired,tableAttributes:N().array.isRequired,expandedAttributes:N().array.isRequired,availableChartTypes:N().array.isRequired,dataEndpointUrl:N().string.isRequired,readData:N().func.isRequired,readOptions:N().func.isRequired,schemaFnc:N().func.isRequired};const Ft=Dt;var Ot="automation_calculator",jt={slug:Ot,name:"Automation calculator",description:"Some desc.",categories:[Q],reportParams:{slug:Ot,defaultParams:v.GL.defaultParams,defaultTableHeaders:[],tableAttributes:[],expandedAttributes:[],availableChartTypes:[],dataEndpointUrl:U.B7,readData:U.QJ,readOptions:U.Yn,schemaFnc:function(){return[{id:1,kind:F.$v.wrapper,type:F.yD.chart,parent:null,props:{height:400,padding:{top:40,bottom:150,right:0,left:90},domainPadding:{y:25,x:85}},xAxis:{label:"Templates",style:{axisLabel:{padding:130}},labelProps:{angle:-45,textAnchor:"end",dx:0,dy:0},fixLabelOverlap:!1},yAxis:{tickFormat:"formatNumberAsK",showGrid:!0,label:"Savings per template",style:{axisLabel:{padding:60}}},api:{url:"",params:{}}},{id:2,kind:F.$v.group,parent:1,template:{id:0,kind:F.$v.simple,type:F.oX.bar,parent:0,props:{x:"name",y:"delta"},tooltip:{standalone:!0,labelName:"Saving"}}}]}},ReportComponent:Ft},Lt=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},It={slug:"",name:"",description:"",categories:[]},Zt=[ue,ge,ye,Te,De,Ie],St=[qe,Ne,Ye,et],Rt=[jt],Gt=a(22030),qt=function(){return qt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},qt.apply(this,arguments)},Xt=s.ZP.p($t||($t=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}(["\n  max-width: 70em;\n  padding-top: 8px;\n"],["\n  max-width: 70em;\n  padding-top: 8px;\n"])));const zt=function(){var e=function(e){var t,a=(0,W.ye)(W.GA.moduleReports),n=(0,W.ye)(W.GA.newAutomationCalculator);return null!==(t=Lt(Lt(Lt([],Zt,!0),a?St:[],!0),n?Rt:[],!0).find((function(t){return t.slug===e})))&&void 0!==t?t:It}((0,i.useParams)().slug),t=e.name,a=e.description,n=e.reportParams,r=e.ReportComponent,o=e.slug,s=[{title:"Reports",navigate:Gt.Z.get}],g=null!=r?r:ne;return""!==o&&n?l().createElement(l().Fragment,null,l().createElement(d.Z,null,l().createElement(m.Z,{items:s}),l().createElement(p.Z,{title:t}),l().createElement(Xt,null,a)),l().createElement(u.Z,null,l().createElement(g,qt({},n)))):l().createElement(c.Z,{title:"404: Page does not exist.",body:"The report you are looking for does not exist.",buttonText:"Return to Reports page",link:Gt.Z.get})};var $t,Ht=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Nt=(0,s.ZP)(f.CardTitle)(Vt||(Vt=Ht(["\n  word-break: break-word;\n"],["\n  word-break: break-word;\n"]))),Bt=s.ZP.small(Yt||(Yt=Ht(["\n  display: block;\n  margin-bottom: 10px;\n  color: #6a6e73;\n  white-space: pre-line;\n"],["\n  display: block;\n  margin-bottom: 10px;\n  color: #6a6e73;\n  white-space: pre-line;\n"]))),Mt=(0,s.ZP)(f.Label)(Kt||(Kt=Ht(["\n  margin-right: 10px;\n"],["\n  margin-right: 10px;\n"])));const Ut=function(e){var t=e.report,a=t.slug,n=t.description,r=t.name,o=t.categories;return l().createElement(f.Card,{"data-testid":a},l().createElement(f.CardHeader,null,l().createElement(f.CardHeaderMain,null,l().createElement(Nt,null,l().createElement(i.Link,{to:Gt.Z.getDetails(a)},r)))),l().createElement(f.CardBody,null,n?l().createElement(Bt,null,n):null),l().createElement(f.CardFooter,null,o.map((function(e,t){return l().createElement(Mt,{key:t},e)}))))};var Vt,Yt,Kt;const Jt=function(){return l().createElement(l().Fragment,null,l().createElement(d.Z,null,l().createElement(p.Z,{title:"Reports"})),l().createElement(u.Z,null,l().createElement(f.Gallery,{"data-testid":"all_reports",hasGutter:!0,minWidths:{sm:"307px",md:"307px",lg:"307px",xl:"307px","2xl":"307px"}},(e=(0,W.ye)(W.GA.moduleReports),t=(0,W.ye)(W.GA.newAutomationCalculator),Lt(Lt(Lt([],Zt,!0),e?St:[],!0),t?Rt:[],!0)).map((function(e){return l().createElement(Ut,{key:e.slug,report:e})})))));var e,t},Wt=function(){return l().createElement(i.Switch,null,l().createElement(i.Route,{exact:!0,path:Gt.Z.get},l().createElement(Jt,null)),l().createElement(i.Route,{path:Gt.Z.details},l().createElement(zt,null)))}}}]);
//# sourceMappingURL=../sourcemaps/609.a4b24d89c2e8a82b7e3f7c97352878ab.js.map