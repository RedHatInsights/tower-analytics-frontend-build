(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{101:function(t,e,a){"use strict";a.d(e,"a",function(){return c}),a.d(e,"l",function(){return u}),a.d(e,"e",function(){return d}),a.d(e,"j",function(){return m}),a.d(e,"i",function(){return p}),a.d(e,"f",function(){return f}),a.d(e,"b",function(){return h}),a.d(e,"k",function(){return g}),a.d(e,"h",function(){return b}),a.d(e,"c",function(){return v}),a.d(e,"g",function(){return y}),a.d(e,"d",function(){return E}),a.d(e,"m",function(){return x}),a.d(e,"n",function(){return j});var n=a(94),r=a.n(n),i=a(102),o="/api/tower-analytics/v1/job_explorer/";function l(){var t=window.location.href.split("/");return t.pop(),t.join("/")}function s(t){return t.json().then(function(e){return t.ok?e:404===t.status||401===t.status?Promise.reject({status:t.status,message:e}):Promise.reject(e)})}var c=function(){return fetch("/api/tower-analytics/v0/authorized/").then(s)},u=function(t){var e=t.params,a=void 0===e?{}:e,n=new URL("/api/tower-analytics/v1/dashboard_organization_statistics_options/",l());return fetch(n,{method:"POST",body:JSON.stringify(a)}).then(s)},d=function(t){var e=t.params,a=void 0===e?{}:e,n=r()({},a,{attributes:["total_unique_host_count"],group_by_time:!0,group_by:"org",sort_by:"host_task_count:".concat(a.sort_by)}),o=new URL("/api/tower-analytics/v1/host_explorer/",l());return o.search=Object(i.stringify)({limit:n.limit,sort_by:n.sort_by}),fetch(o,{method:"POST",body:JSON.stringify(n)}).then(s)},m=function(t){var e=t.params,a=void 0===e?{}:e,n=r()({},a,{attributes:["total_count"],group_by_time:!0,group_by:"org",sort_by:"total_count:".concat(a.sort_by)}),c=new URL(o,l());return c.search=Object(i.stringify)({limit:n.limit,sort_by:n.sort_by}),fetch(c,{method:"POST",body:JSON.stringify(n)}).then(s)},p=function(t){var e=t.params,a=void 0===e?{}:e,n=r()({},a,{group_by:"org",include_others:!0,attributes:["host_count"],sort_by:"total_count:".concat(a.sort_by)}),c=new URL(o,l());return c.search=Object(i.stringify)({limit:n.limit,sort_by:n.sort_by}),fetch(c,{method:"POST",body:JSON.stringify(n)}).then(s)},f=function(t){var e=t.params,a=void 0===e?{}:e,n=r()({},a,{group_by:"org",include_others:!0,granularity:"daily",attributes:["host_task_count"],sort_by:"host_task_count:".concat(a.sort_by)}),c=new URL(o,l());return c.search=Object(i.stringify)({limit:n.limit,sort_by:n.sort_by}),fetch(c,{method:"POST",body:JSON.stringify(n)}).then(s)},h=function(){return fetch("/api/tower-analytics/v0/clusters/").then(s)},g=function(t){var e=t.params,a=void 0===e?{}:e,n=l(),r=new URL("/api/tower-analytics/v0/notifications/",n);return Object.keys(a).forEach(function(t){return r.searchParams.append(t,a[t])}),fetch(r).then(s)},b=function(t){var e=t.params,a=void 0===e?{}:e,n=l(),r=new URL("/api/tower-analytics/v1/job_explorer_options/",n);return fetch(r,{method:"POST",body:JSON.stringify(a)}).then(s)},v=function(t){var e=t.params,a=void 0===e?{}:e,n=l(),r=new URL("/api/tower-analytics/v1/dashboard_clusters_options/",n);return fetch(r,{method:"POST",body:JSON.stringify(a)}).then(s)},y=function(t){var e=t.params,a=void 0===e?{}:e,n={limit:a.limit,offset:a.offset,sort_by:a.sort_by},r=Object(i.stringify)(n),c=l(),u=new URL(o,c);return u.search=r,fetch(u,{method:"POST",body:JSON.stringify(a)}).then(s)},E=function(t){var e=t.params,a=void 0===e?{}:e,n={limit:a.limit,offset:a.offset,sort_by:a.sort_by},r=Object(i.stringify)(n),o=l(),c=new URL("/api/tower-analytics/v1/event_explorer/",o);return c.search=r,fetch(c,{method:"POST",body:JSON.stringify(a)}).then(s)},x=function(t){var e=t.params,a=void 0===e?{}:e,n=l(),r=new URL("/api/tower-analytics/v1/roi_templates/",n);return Object.keys(a).forEach(function(t){return r.searchParams.append(t,a[t])}),fetch(r,{method:"POST",body:JSON.stringify(a)}).then(s)},j=function(t){var e=t.params,a=void 0===e?{}:e,n=l(),r=new URL("/api/tower-analytics/v1/roi_templates_options/",n);return fetch(r,{method:"POST",body:JSON.stringify(a)}).then(s)}},107:function(t,e,a){"use strict";a.d(e,"a",function(){return h});var n=a(98),r=a.n(n),i=a(76),o=a.n(i),l=a(25),s=a.n(l),c=a(94),u=a.n(c),d=a(0),m=a(72),p=a.n(m),f=a(82),h=function(t){var e=Object(d.useReducer)(function(e,a){var n=a.type,r=a.value;switch(n){case"SET_STARTDATE":return u()({},e,{startDate:r});case"SET_ENDDATE":return u()({},e,{endDate:r});case"SET_ID":return parseInt(r)?u()({},e,{id:parseInt(r)}):(e.id,s()(e,["id"]));case"SET_LIMIT":return parseInt(r.limit)?u()({},e,{limit:parseInt(r.limit)}):(e.limit,s()(e,["limit"]));case"SET_SEVERITY":return""===r.severity?(e.severity,s()(e,["severity"])):u()({},e,r);case"SET_OFFSET":case"SET_ATTRIBUTES":case"SET_JOB_TYPE":case"SET_STATUS":case"SET_ORG":case"SET_CLUSTER":case"SET_TEMPLATE":case"SET_SORTBY":case"SET_ROOT_WORKFLOWS_AND_JOBS":return u()({},e,r);case"SET_QUICK_DATE_RANGE":var i=u()({},e);return"custom"!==r&&(i=u()({},i,{start_date:null,end_date:null})),i=u()({},i,r);case"SET_START_DATE":case"SET_END_DATE":var l={};return Object.entries(r).forEach(function(t){var e=o()(t,2),a=e[0],n=e[1];l[a]=Object(f.f)(n)}),u()({},e,l);case"REINITIALIZE":return u()({},r);case"RESET_FILTER":return u()({},e,t);default:throw new Error}},u()({},t)),a=o()(e,2),n=a[0],i=a[1],l={status:"SET_STATUS",quick_date_range:"SET_QUICK_DATE_RANGE",job_type:"SET_JOB_TYPE",org_id:"SET_ORG",cluster_id:"SET_CLUSTER",template_id:"SET_TEMPLATE",sort_by:"SET_SORTBY",start_date:"SET_START_DATE",end_date:"SET_END_DATE",only_root_workflows_and_standalone_jobs:"SET_ROOT_WORKFLOWS_AND_JOBS"};return{queryParams:n,dispatch:i,setLimit:function(t){return i({type:"SET_LIMIT",value:{limit:t}})},setOffset:function(t){return i({type:"SET_OFFSET",value:{offset:t}})},setFromToolbar:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(t?{type:l[t],value:r()({},t,e)}:{type:"RESET_FILTER"})},setSeverity:function(t){return i({type:"SET_SEVERITY",value:{severity:t}})},setEndDate:function(){var t=p()().format("YYYY-MM-DD");i({type:"SET_ENDDATE",value:t})},setId:function(t){return i({type:"SET_ID",value:t})},setStartDate:function(t){var e;7===t&&(e=p()().subtract(1,"week").format("YYYY-MM-DD")),14===t&&(e=p()().subtract(2,"weeks").format("YYYY-MM-DD")),e=31===t?p()().subtract(1,"month").format("YYYY-MM-DD"):p()().subtract(t,"days").format("YYYY-MM-DD"),i({type:"SET_STARTDATE",value:e})},setStartDateAsString:function(t){return i({type:"SET_STARTDATE",value:t})}}}},109:function(t,e,a){"use strict";var n=a(0),r=a.n(n),i=a(1),o=a.n(i),l=a(110),s=a(69),c=a(84),u=a(108),d=a(124),m=a(357),p=a.n(m),f=function(t){var e=t.preflightError;return r.a.createElement(c.EmptyState,{variant:c.EmptyStateVariant.full},r.a.createElement(u.EmptyStateIcon,{icon:p.a}),404===e.status&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.Title,{headingLevel:"h5",size:"lg"},"No data found"),r.a.createElement(d.EmptyStateBody,null,"Please visit"," ",r.a.createElement("a",{href:"https://docs.ansible.com/ansible-tower/latest/html/administration/usability_data_collection.html#automation-analytics",target:"_blank",rel:"noopener noreferrer"},"here")," ","to learn how to enable Automation Analytics.")),401===e.status&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.Title,{headingLevel:"h5",size:"lg"},"Not authorized"),r.a.createElement(d.EmptyStateBody,null,"You do not have the correct permissions to view this page.")),!e.status&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.Title,{headingLevel:"h5",size:"lg"},"Something went wrong, please try reloading the page"),r.a.createElement(l.Button,{variant:"primary",onClick:function(){return window.location.reload()}},"Reload")))};f.propTypes={preflightError:o.a.object},e.a=f},113:function(t,e,a){"use strict";a.d(e,"b",function(){return n}),a.d(e,"d",function(){return r}),a.d(e,"c",function(){return i}),a.d(e,"a",function(){return o});var n={attributes:["id","status","job_type","started","finished","elapsed","created","cluster_name","org_name","most_failed_tasks"],defaultParams:{status:["successful","failed"],quick_date_range:"last_30_days",job_type:["workflowjob","job"],org_id:[],cluster_id:[],template_id:[],sort_by:"created:desc",start_date:null,end_date:null,only_root_workflows_and_standalone_jobs:!1,limit:5}},r={defaultParams:{status:["successful"],org_id:[],cluster_id:[],template_id:[],quick_date_range:"roi_last_year",job_type:["job"],sort_by:"template_productivity_score:desc",start_date:null,end_date:null,limit:25,only_root_workflows_and_standalone_jobs:!0,attributes:["successful_hosts_total","successful_elapsed_total","total_org_count","total_cluster_count"],group_by:"template",group_by_time:!1,granularity:"monthly"}},i={defaultParams:{status:[],org_id:[],quick_date_range:"last_30_days",sort_by:"desc",limit:5,job_type:["workflowjob","job"],cluster_id:[],template_id:[],start_date:null,end_date:null}},o={defaultParams:{status:["successful","failed"],quick_date_range:"last_30_days",job_type:["workflowjob","job"],group_by_time:!0,org_id:[],cluster_id:[],template_id:[],only_root_workflows_and_standalone_jobs:!1}}},114:function(t,e,a){"use strict";var n=a(76),r=a.n(n),i=a(94),o=a.n(i),l=a(0),s=function(t,e){switch(e.type){case"FETCH_INIT":return o()({},t,{isLoading:!0,isSuccess:!1,error:null});case"FETCH_SUCCESS":return o()({},t,{isLoading:!1,isSuccess:!0,error:null,data:e.payload});case"FETCH_FAILURE":return o()({},t,{isLoading:!1,isSuccess:!1,error:e.payload});case"UPDATE_DATA":return o()({},t,{data:e.payload});default:throw new Error}};e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},a=Object(l.useState)(null),n=r()(a,2),i=n[0],o=n[1],c=Object(l.useReducer)(s,{isLoading:!1,isSuccess:!1,error:null,data:t}),u=r()(c,2),d=u[0],m=u[1];Object(l.useEffect)(function(){if(i){var t=!1;return m({type:"FETCH_INIT"}),window.insights.chrome.auth.getUser().then(function(){return i.then(function(a){t||m({type:"FETCH_SUCCESS",payload:e(a)})}).catch(function(e){t||m({type:"FETCH_FAILURE",payload:e})})}),function(){t=!0}}},[i]);return[d,o,function(t){m({type:"UPDATE_DATA",payload:t})}]}},115:function(t,e,a){"use strict";var n=a(31),r=a.n(n),i=a(0),o=a.n(i),l=a(1),s=a.n(l),c=a(89),u=function(t){var e=function(e){var a=e.id,n=e.margin;return o.a.createElement(t,r()({},e,{getWidth:function(){return parseInt(c.r("#"+a).style("width"))-n.left-n.right||700},getHeight:function(){return parseInt(c.r("#"+a).style("height"))-n.top-n.bottom||450}}))};return e.propTypes={id:s.a.string,margin:s.a.object},e};u.propTypes={Chart:s.a.element},e.a=u},116:function(t,e,a){"use strict";var n=a(0),r=a.n(n),i=a(69),o=a(84),l=a(108),s=a(316),c=a.n(s);e.a=function(){return r.a.createElement(o.EmptyState,{variant:o.EmptyStateVariant.full},r.a.createElement(l.EmptyStateIcon,{icon:c.a}),r.a.createElement(i.Title,{headingLevel:"h5",size:"lg"},"No Data"))}},139:function(t,e,a){"use strict";var n=a(0),r=a.n(n),i=a(1),o=a.n(i),l=a(84),s=a(124),c=a(108),u=a(69),d=a(341),m=a.n(d),p=a(549),f=function(t){var e=t.message;return r.a.createElement(l.EmptyState,{variant:l.EmptyStateVariant.small},r.a.createElement(c.EmptyStateIcon,{icon:m.a,color:p.a.value}),r.a.createElement(u.Title,{headingLevel:"h2",size:"lg"},"Error"),r.a.createElement(s.EmptyStateBody,null,e))};f.propTypes={message:o.a.string},e.a=f},142:function(t,e,a){"use strict";var n=a(25),r=a.n(n),i=a(76),o=a.n(i),l=a(0),s=a.n(l),c=a(1),u=a.n(c),d=a(486),m=a(488),p=a(178),f=a(110),h=a(120),g=a(132),b=a(340),v=a(87),y=a(106),E=a(88),x=a(481),j=a(480),_=a(490),T=a.n(_),w=a(478),k=a.n(w),O=a(491),S=a.n(O),C=a(485),B=a.n(C),L=a(482),D=a.n(L),I=a(161),A=a(119),F=function(t){var e=t.selected,a=t.setSelected,n=void 0===a?function(){}:a,r=t.categories,i=void 0===r?[]:r,c=Object(l.useState)(!1),u=o()(c,2),d=u[0],m=u[1];return s.a.createElement(h.ToolbarItem,null,s.a.createElement(I.Select,{isOpen:d,variant:"single","aria-label":"Categories",onToggle:function(){return m(!d)},onSelect:function(t,e){n(e),m(!1)},selections:e,placeholderText:"Filter by"},i.map(function(t){var e=t.key,a=t.name;return s.a.createElement(A.SelectOption,{key:e,value:e},a)})))};F.propTypes={categories:u.a.array,selected:u.a.string,setSelected:u.a.func};var z=F,R=a(176),M=a(137),P=function(t){var e=t.onInputChange,a=void 0===e?function(){}:e,n=t.startDate,r=void 0===n?"":n,i=t.endDate,o=void 0===i?"":i;return s.a.createElement(s.a.Fragment,null,s.a.createElement(R.InputGroup,null,s.a.createElement(M.TextInput,{name:"startDate",id:"startDate",type:"date","aria-label":"Start Date",value:r,onChange:function(t){return a("start_date",t)}})),s.a.createElement(R.InputGroup,null,s.a.createElement(M.TextInput,{name:"endDate",id:"endDate",type:"date","aria-label":"End Date",value:o,onChange:function(t){return a("end_date",t)}})))};P.propTypes={startDate:u.a.string,endDate:u.a.string,onInputChange:u.a.func};var N=P,W={status:{isSingle:!1,name:"Status",placeholder:"Filter by job status"},quick_date_range:{isSingle:!0,name:"Date",placeholder:"Filter by date"},job_type:{isSingle:!1,name:"Job",placeholder:"Filter by job type"},org_id:{isSingle:!1,name:"Organization",placeholder:"Filter by organization"},cluster_id:{isSingle:!1,name:"Cluster",placeholder:"Filter by cluster"},template_id:{isSingle:!1,name:"Template",placeholder:"Filter by template"},sort_by:{isSingle:!0,name:"Sort by",placeholder:"Sort by attribute"}},q=a(138),U=a.n(q),H=a(78),Y=a.n(H),J=a(473),V=a(79);function G(){var t=Y()(["\n    display: block;\n    overflow-x: hidden;\n    text-overflow: ellipsis;\n    max-width: 300px;\n"]);return G=function(){return t},t}var K=Object(V.a)(A.SelectOption)(G()),$=function(t){return t&&t.map(function(t){var e=t.key,a=t.value,n=t.description;return s.a.createElement(K,{key:e,value:e,description:n},s.a.createElement("span",{style:{marginLeft:5}},a," "))})},X=function(t){var e=t.categoryKey,a=t.filter,n=void 0===a?null:a,r=t.values,i=void 0===r?[]:r,c=t.isVisible,u=void 0===c||c,d=t.hasChips,m=void 0===d||d,p=t.setFilter,f=Object(l.useState)(!1),h=o()(f,2),g=h[0],b=h[1],v=W[e];return s.a.createElement(J.ToolbarFilter,{"data-cy":e,key:e,showToolbarItem:u,chips:m?v.isSingle?function(t,e){var a;return t&&"string"==typeof t&&e&&(e.forEach(function(e){e.key===t&&(a=e.value)}),void 0!==a)?[a]:[]}(n,i):function(t,e){return t&&e?t.reduce(function(t,a){return Number.isInteger(parseInt(a))&&(a=parseInt(a)),e.forEach(function(e){e.key===a&&t.push(e.value)}),t},[]):[]}(n,i):[],categoryName:v.name,deleteChip:m?function(t,a){if(W[e].isSingle)p(null);else{var r=i.find(function(t){return t.value===a}).key,o=n.filter(function(t){return t!==r});p(o)}}:null},s.a.createElement(I.Select,{variant:v.isSingle?"single":"checkbox","aria-label":e,onToggle:function(){return b(!g)},onSelect:function(t,e){v.isSingle?(p(e),b(!1)):p(n.includes(e)?n.filter(function(t){return t!==e}):[].concat(U()(n),[e]))},selections:n,isOpen:g,hasInlineFilter:!0,placeholderText:v.placeholder,onFilter:function(t){var e=t.target.value;return $(""===e?i:i.filter(function(t){return t.value.toLowerCase().includes(e.toLowerCase())}))},maxHeight:"1000%"},$(i)))};X.propTypes={categoryKey:u.a.string.isRequired,filter:u.a.any,values:u.a.array,isVisible:u.a.bool,hasChips:u.a.bool,setFilter:u.a.func.isRequired};var Q=X,Z=function(t){var e=t.categories,a=t.filters,n=t.setFilters,i=t.pagination,c=void 0===i?null:i,u=t.hasSettings,_=void 0!==u&&u,w=Object(l.useState)(!1),O=o()(w,2),C=O[0],L=O[1],I=e.quick_date_range,A=e.sort_by,F=r()(e,["quick_date_range","sort_by"]),R=Object.keys(F).filter(function(t){return Object.keys(W).includes(t)}).reduce(function(t,e){return t[e]=F[e],t},{}),M=Object(l.useState)(Object.keys(R)[0]),P=o()(M,2),q=P[0],U=P[1],H=function(t,e){n(t,e)};return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.Toolbar,{id:"filterable-toolbar-with-chip-groups",clearAllFilters:function(){n(null,null)},collapseListedFiltersBreakpoint:"xl"},s.a.createElement(m.ToolbarContent,null,s.a.createElement(f.Button,{variant:"control"},s.a.createElement(T.a,null)),Object.keys(R).length>0&&s.a.createElement(function(){return s.a.createElement(p.ToolbarGroup,{variant:"filter-group"},s.a.createElement(z,{selected:q,setSelected:U,categories:Object.keys(R).map(function(t){return{key:t,name:W[t].name}})}),Object.keys(R).map(function(t){return s.a.createElement(Q,{key:t,categoryKey:t,filter:a[t],values:e[t],isVisible:q===t,setFilter:function(e){return n(t,e)}})}))},null),I&&s.a.createElement(function(){return s.a.createElement(p.ToolbarGroup,{variant:"filter-group"},s.a.createElement(Q,{categoryKey:"quick_date_range",filter:a.quick_date_range,values:I,setFilter:function(t){return n("quick_date_range",t)},hasChips:!1}),a.quick_date_range&&a.quick_date_range.includes("custom")&&s.a.createElement(N,{startDate:a.start_date?a.start_date:"",endDate:a.end_date?a.end_date:"",onInputChange:H}))},null),A&&s.a.createElement(function(){return s.a.createElement(p.ToolbarGroup,{variant:"filter-group"},s.a.createElement(Q,{categoryKey:"sort_by",filter:a.sort_by,values:A,setFilter:function(t){return n("sort_by",t)},hasChips:!1}),s.a.createElement(f.Button,{variant:"control"},s.a.createElement(k.a,null)))},null),_&&s.a.createElement(h.ToolbarItem,null,s.a.createElement(f.Button,{variant:"plain",onClick:function(){return L(!C)},"aria-label":"settings",isActive:C},s.a.createElement(S.a,null))),c&&s.a.createElement(h.ToolbarItem,{variant:"pagination",visibility:{default:"hidden",lg:"visible"}},c)),C&&s.a.createElement(function(){return s.a.createElement(v.Card,{isFlat:!0,style:{backgroundColor:"#EEEEEE"}},s.a.createElement(j.CardHeader,null,s.a.createElement(x.CardActions,null,s.a.createElement(f.Button,{variant:"plain",onClick:function(){return L(!C)}},s.a.createElement(D.a,null))),s.a.createElement(y.CardTitle,null,"Settings")),s.a.createElement(E.CardBody,null,s.a.createElement(b.Switch,{id:"showRootWorkflowJobs",label:"Ignore nested workflows and jobs",labelOff:"Ignore nested workflows and jobs",isChecked:a.only_root_workflows_and_standalone_jobs,onChange:function(t){n("only_root_workflows_and_standalone_jobs",t)}}),s.a.createElement(g.Tooltip,{position:"top",content:s.a.createElement("div",null," ","If enabled, nested workflows and jobs will not be included in the overall totals. Enable this option to filter out duplicate entries.")},s.a.createElement(B.a,null))))},null)))};Z.propTypes={categories:u.a.object.isRequired,filters:u.a.object.isRequired,setFilters:u.a.func.isRequired,pagination:u.a.object,hasSettings:u.a.bool};var tt=Z;e.a=tt},342:function(t,e,a){"use strict";var n=a(7),r=a(102);e.a=function(t,e){return function(a){var i=Object(r.stringify)(a,{arrayFormat:"bracket"});t.push({pathname:n.a[e],search:i})}}},352:function(t,e,a){var n={"./af":189,"./af.js":189,"./ar":190,"./ar-dz":191,"./ar-dz.js":191,"./ar-kw":192,"./ar-kw.js":192,"./ar-ly":193,"./ar-ly.js":193,"./ar-ma":194,"./ar-ma.js":194,"./ar-sa":195,"./ar-sa.js":195,"./ar-tn":196,"./ar-tn.js":196,"./ar.js":190,"./az":197,"./az.js":197,"./be":198,"./be.js":198,"./bg":199,"./bg.js":199,"./bm":200,"./bm.js":200,"./bn":201,"./bn.js":201,"./bo":202,"./bo.js":202,"./br":203,"./br.js":203,"./bs":204,"./bs.js":204,"./ca":205,"./ca.js":205,"./cs":206,"./cs.js":206,"./cv":207,"./cv.js":207,"./cy":208,"./cy.js":208,"./da":209,"./da.js":209,"./de":210,"./de-at":211,"./de-at.js":211,"./de-ch":212,"./de-ch.js":212,"./de.js":210,"./dv":213,"./dv.js":213,"./el":214,"./el.js":214,"./en-SG":215,"./en-SG.js":215,"./en-au":216,"./en-au.js":216,"./en-ca":217,"./en-ca.js":217,"./en-gb":218,"./en-gb.js":218,"./en-ie":219,"./en-ie.js":219,"./en-il":220,"./en-il.js":220,"./en-nz":221,"./en-nz.js":221,"./eo":222,"./eo.js":222,"./es":223,"./es-do":224,"./es-do.js":224,"./es-us":225,"./es-us.js":225,"./es.js":223,"./et":226,"./et.js":226,"./eu":227,"./eu.js":227,"./fa":228,"./fa.js":228,"./fi":229,"./fi.js":229,"./fo":230,"./fo.js":230,"./fr":231,"./fr-ca":232,"./fr-ca.js":232,"./fr-ch":233,"./fr-ch.js":233,"./fr.js":231,"./fy":234,"./fy.js":234,"./ga":235,"./ga.js":235,"./gd":236,"./gd.js":236,"./gl":237,"./gl.js":237,"./gom-latn":238,"./gom-latn.js":238,"./gu":239,"./gu.js":239,"./he":240,"./he.js":240,"./hi":241,"./hi.js":241,"./hr":242,"./hr.js":242,"./hu":243,"./hu.js":243,"./hy-am":244,"./hy-am.js":244,"./id":245,"./id.js":245,"./is":246,"./is.js":246,"./it":247,"./it-ch":248,"./it-ch.js":248,"./it.js":247,"./ja":249,"./ja.js":249,"./jv":250,"./jv.js":250,"./ka":251,"./ka.js":251,"./kk":252,"./kk.js":252,"./km":253,"./km.js":253,"./kn":254,"./kn.js":254,"./ko":255,"./ko.js":255,"./ku":256,"./ku.js":256,"./ky":257,"./ky.js":257,"./lb":258,"./lb.js":258,"./lo":259,"./lo.js":259,"./lt":260,"./lt.js":260,"./lv":261,"./lv.js":261,"./me":262,"./me.js":262,"./mi":263,"./mi.js":263,"./mk":264,"./mk.js":264,"./ml":265,"./ml.js":265,"./mn":266,"./mn.js":266,"./mr":267,"./mr.js":267,"./ms":268,"./ms-my":269,"./ms-my.js":269,"./ms.js":268,"./mt":270,"./mt.js":270,"./my":271,"./my.js":271,"./nb":272,"./nb.js":272,"./ne":273,"./ne.js":273,"./nl":274,"./nl-be":275,"./nl-be.js":275,"./nl.js":274,"./nn":276,"./nn.js":276,"./pa-in":277,"./pa-in.js":277,"./pl":278,"./pl.js":278,"./pt":279,"./pt-br":280,"./pt-br.js":280,"./pt.js":279,"./ro":281,"./ro.js":281,"./ru":282,"./ru.js":282,"./sd":283,"./sd.js":283,"./se":284,"./se.js":284,"./si":285,"./si.js":285,"./sk":286,"./sk.js":286,"./sl":287,"./sl.js":287,"./sq":288,"./sq.js":288,"./sr":289,"./sr-cyrl":290,"./sr-cyrl.js":290,"./sr.js":289,"./ss":291,"./ss.js":291,"./sv":292,"./sv.js":292,"./sw":293,"./sw.js":293,"./ta":294,"./ta.js":294,"./te":295,"./te.js":295,"./tet":296,"./tet.js":296,"./tg":297,"./tg.js":297,"./th":298,"./th.js":298,"./tl-ph":299,"./tl-ph.js":299,"./tlh":300,"./tlh.js":300,"./tr":301,"./tr.js":301,"./tzl":302,"./tzl.js":302,"./tzm":303,"./tzm-latn":304,"./tzm-latn.js":304,"./tzm.js":303,"./ug-cn":305,"./ug-cn.js":305,"./uk":306,"./uk.js":306,"./ur":307,"./ur.js":307,"./uz":308,"./uz-latn":309,"./uz-latn.js":309,"./uz.js":308,"./vi":310,"./vi.js":310,"./x-pseudo":311,"./x-pseudo.js":311,"./yo":312,"./yo.js":312,"./zh-cn":313,"./zh-cn.js":313,"./zh-hk":314,"./zh-hk.js":314,"./zh-tw":315,"./zh-tw.js":315};function r(t){var e=i(t);return a(e)}function i(t){var e=n[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}r.keys=function(){return Object.keys(n)},r.resolve=i,t.exports=r,r.id=352},550:function(t,e,a){"use strict";a.r(e);var n=a(76),r=a.n(n),i=a(94),o=a.n(i),l=a(25),s=a.n(l),c=a(78),u=a.n(c),d=a(0),m=a.n(d),p=a(1),f=a.n(p),h=a(79),g=a(107),b=a(114),v=a(342),y=a(82),E=a(83),x=a(116),j=a(109),_=a(139),T=a(101),w=a(70),k=a(68),O=a(87),S=a(88),C=a(106),B=a(343),L=a(498),D=a(138),I=a.n(D),A=a(89),F=a(115),z=a(340);function R(){var t=u()(["\n  margin-left: 20px;\n\n  svg {\n    display: none;\n  }\n"]);return R=function(){return t},t}function M(){var t=u()(["\n  font-size: 15px;\n  margin-left: 20px;\n"]);return M=function(){return t},t}function P(){var t=u()(["\n  font-size: 15px;\n  display: inline-block;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: left;\n"]);return P=function(){return t},t}function N(){var t=u()(["\n  min-width: 12px;\n  height: 12px;\n  background: ",";\n  margin-right: 20px;\n"]);return N=function(){return t},t}function W(){var t=u()(["\n  display: flex;\n  align-items: center;\n  overflow: auto;\n"]);return W=function(){return t},t}function q(){var t=u()(["\n  display: flex;\n  padding: 7.5px 15px;\n  align-items: center;\n  justify-content: space-between;\n"]);return q=function(){return t},t}function U(){var t=u()(["\n  margin-top: 20px;\n  margin-bottom: 20px;\n  overflow: auto;\n  width: 100%;\n  height: ",";\n"]);return U=function(){return t},t}var H=h.a.div(U(),function(t){return t.height}),Y=h.a.div(q()),J=h.a.div(W()),V=h.a.div.attrs(function(t){return{color:t.color||"black"}})(N(),function(t){return t.color}),G=h.a.span(P()),K=h.a.span(M()),$=Object(h.a)(z.Switch)(R()),X=function(t){var e=t.data,a=t.selected,n=t.height,r=t.onToggle,i=function(t,e){var a=e.target.value;r(parseFloat(a))};return m.a.createElement(H,{height:n},e.map(function(t,e){var n=t.name,r=t.value,o=t.id,l=t.count;return m.a.createElement(Y,{key:e},m.a.createElement(J,null,m.a.createElement(V,{color:r}),m.a.createElement(G,null,n)),l&&m.a.createElement(K,null,l),a&&m.a.createElement($,{isChecked:a.some(function(t){return t===o}),onChange:i,"aria-label":n,value:o,key:e}))}))};X.propTypes={data:f.a.array,selected:f.a.array,onToggle:f.a.func,height:f.a.string};var Q=X;function Z(){var t=u()(["\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: nowrap;\n  flex-shrink: 0;\n"]);return Z=function(){return t},t}var tt=h.a.div(Z()),et=function(t){var e=t.split("-");return"".concat(e[1],"/").concat(e[2])},at=function(t){var e=t.onClick,a=void 0===e?null:e,n=t.TooltipClass,i=s()(t,["onClick","TooltipClass"]),o=i.data[0].items,l=o.map(function(t){var e=-1===t.id?"Others":t.name;return{name:e,value:i.colorFunc(e),id:t.id}}),c=Object(d.useState)(o.map(function(t){return t.id}).slice(0,8)),u=r()(c,2),p=u[0],f=u[1],h=null,g=function(){A.s("#"+i.id+" > *").remove();var t=i.data,e=i.timeFrame,r=t.reduce(function(t,e){var a=e.date,n=e.items.filter(function(t){var e=t.id;return p.includes(e)});return t.concat({date:a,selectedOrgs:n})},[]),o=i.getWidth(),l=i.getHeight(),s=A.n().range([0,o]).padding(.35),c=A.n(),u=A.o().range([l,0]),d=Math.round(r.length/(e/2)),m=r.map(function(t){return t.date});31===e&&(m=r.map(function(t,e){return e%d==0?t.date:void 0}).filter(function(t){return t}));var f=A.b(s).tickValues(m).tickFormat(et),h=A.c(u).ticks(8).tickSize(-o,0,0),g=A.r("#"+i.id).append("svg").attr("width",o+i.margin.left+i.margin.right).attr("height",l+i.margin.bottom+i.margin.top).append("g").attr("transform","translate("+i.margin.left+","+i.margin.top+")"),b=r.map(function(t){return t.date}),v=r[0].selectedOrgs.map(function(t){return t.name}),y=new n({svg:"#"+i.id});s.domain(b),c.domain(v).range([0,s.bandwidth()]),u.domain([0,A.k(r,function(t){return A.k(t.selectedOrgs,function(t){return 1.15*t.value})})||8]),g.append("g").attr("class","y axis").call(h).selectAll("line").attr("stroke","#d7d7d7").append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").style("font-weight","bold").text("Value"),g.append("text").attr("transform","rotate(-90)").attr("y",0-i.margin.left).attr("x",0-l/2).attr("dy","1em").style("text-anchor","middle").text(i.yLabel),g.append("g").attr("class","x axis").attr("transform","translate(0,"+l+")").call(f).selectAll("line").attr("stroke","#d7d7d7"),g.append("text").attr("transform","translate("+o/2+" ,"+(l+i.margin.top+25)+")").style("text-anchor","middle").text("Date");var E=g.selectAll(".slice").data(r);E.exit().remove();var x=E.enter().append("g").attr("class","g foo").attr("transform",function(t){return"translate("+s(t.date)+",0)"}),j=(E=E.merge(x)).selectAll("rect").data(function(t){return t.selectedOrgs});j.exit().remove();var _=i.colorFunc,T=j.enter().append("rect").attr("width",c.bandwidth()).attr("x",function(t){return c(t.name)}).style("fill",function(t){return _(t.name)}).attr("y",function(t){return u(t.value)}).attr("height",function(t){return l-u(t.value)}).on("mouseover",function(t){A.r(this).style("cursor",a?"pointer":"default"),A.r(this).style("fill",A.m(_(t.name)).darker(1)),y.handleMouseOver()}).on("mousemove",y.handleMouseOver).on("mouseout",function(t){A.r(this).style("fill",_(t.name)),y.handleMouseOut()}).on("click",a);j=j.merge(T)},b=function(){clearTimeout(h),h=setTimeout(function(){g()},500)};return Object(d.useEffect)(function(){return g(),window.addEventListener("resize",b),function(){clearTimeout(h),window.removeEventListener("resize",b)}},[]),Object(d.useEffect)(function(){g()},[i.data,p]),m.a.createElement(tt,null,m.a.createElement("div",{id:i.id}),l.length>0&&m.a.createElement(Q,{id:"".concat(i.id,"-legend"),data:l,selected:p,onToggle:function(t){p.includes(t)?f(p.filter(function(e){return e!==t})):f([].concat(I()(p),[t]))},height:"350px"}))};at.propTypes={id:f.a.string,data:f.a.array,margin:f.a.object,getHeight:f.a.func,getWidth:f.a.func,timeFrame:f.a.number,colorFunc:f.a.func,yLabel:f.a.string,onClick:f.a.func,TooltipClass:f.a.any.isRequired};var nt=Object(F.a)(at),rt=a(22),it=a.n(rt),ot=a(23),lt=a.n(ot),st=a(98),ct=a.n(st),ut=function(t){var e=t.split("-");return"".concat(e[1],"/").concat(e[2])},dt=function(){function t(e){var a=this;it()(this,t),ct()(this,"handleMouseOver",function(t){var e,n,r,i=A.f.pageX-A.r(a.svg).node().getBoundingClientRect().x+10,o=A.f.pageY-A.r(a.svg).node().getBoundingClientRect().y-10;if(t){e=t.date,n=t.name,r=t.value,t.name.length>16&&(n=t.name.slice(0,16).concat("..."));var l=ut,s=a.toolTipBase.node().getBoundingClientRect().width,c=A.r(a.svg+"> svg").node().getBoundingClientRect().width,u=100-s/c*100<i/c*100;a.date.text(""+l(e)),a.orgName.text(""+n),a.jobs.text(r+" Jobs"),a.jobsWidth=a.jobs.node().getComputedTextLength();var d,m=a.jobsWidth/a.boxWidth*100,p=m/45;d=m>45?a.boxWidth*p:a.boxWidth,a.boundingBox.attr("width",d),a.toolTipBase.attr("transform","translate("+i+","+o+")"),u?(a.toolTipPoint.attr("transform","translate(-20, 0) rotate(45)"),a.boundingBox.attr("x",-d-20),a.jobs.attr("x",-a.jobsWidth-20-7),a.orgName.attr("x",-d-7),a.clickMore.attr("x",-d-7),a.date.attr("x",-d-7)):(a.toolTipPoint.attr("transform","translate(10, 0) rotate(45)"),a.boundingBox.attr("x",10),a.orgName.attr("x",20),a.clickMore.attr("x",20),a.jobs.attr("x",d/2),a.date.attr("x",20)),a.toolTipBase.style("opacity",1),a.toolTipBase.interrupt()}}),ct()(this,"handleMouseOut",function(){a.toolTipBase.transition().delay(15).style("opacity",0).style("pointer-events","none")}),this.svg=e.svg,this.draw()}return lt()(t,[{key:"draw",value:function(){this.width=125,this.toolTipBase=A.r(this.svg+"> svg").append("g"),this.toolTipBase.attr("id","svg-chart-Tooltip.base-"+this.svg.slice(1)),this.toolTipBase.attr("overflow","visible"),this.toolTipBase.style("opacity",0),this.toolTipBase.style("pointer-events","none"),this.toolTipBase.attr("transform","translate(100, 100)"),this.boxWidth=125,this.textWidthThreshold=20,this.toolTipPoint=this.toolTipBase.append("rect").attr("transform","translate(10, -10) rotate(45)").attr("x",0).attr("y",0).attr("height",20).attr("width",20).attr("fill","#393f44"),this.boundingBox=this.toolTipBase.append("rect").attr("x",10).attr("y",-23).attr("rx",2).attr("height",68).attr("width",this.boxWidth).attr("fill","#393f44"),this.date=this.toolTipBase.append("text").attr("x",20).attr("y",14).attr("font-size",12).attr("fill","white").text("Date"),this.jobs=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",72).attr("y",14).text("0 Jobs"),this.orgName=this.toolTipBase.append("text").attr("fill","white").attr("font-weight",800).attr("x",20).attr("y",-1).attr("font-size",12).text("Org"),this.clickMore=this.toolTipBase.append("text").attr("fill","white").attr("x",20).attr("y",30).attr("font-size",12).text("Click for details")}}]),t}(),mt=function(t){var e=t.split("-");return"".concat(e[1],"/").concat(e[2])},pt=function(){function t(e){var a=this;it()(this,t),ct()(this,"handleMouseOver",function(t){var e,n,r,i=A.f.pageX-A.r(a.svg).node().getBoundingClientRect().x+10,o=A.f.pageY-A.r(a.svg).node().getBoundingClientRect().y-10;if(t){e=t.date,n=t.name,r=t.value,t.name.length>16&&(n=t.name.slice(0,16).concat("..."));var l=mt,s=a.toolTipBase.node().getBoundingClientRect().width,c=A.r(a.svg+"> svg").node().getBoundingClientRect().width,u=100-s/c*100<i/c*100;a.date.text(""+l(e)),a.orgName.text(""+n),a.jobs.text(r+" Hosts"),a.jobsWidth=a.jobs.node().getComputedTextLength();var d,m=a.jobsWidth/a.boxWidth*100,p=m/45;d=m>45?a.boxWidth*p:a.boxWidth,a.boundingBox.attr("width",d),a.toolTipBase.attr("transform","translate("+i+","+o+")"),u?(a.toolTipPoint.attr("transform","translate(-20, 0) rotate(45)"),a.boundingBox.attr("x",-d-20),a.jobs.attr("x",-a.jobsWidth-20-7),a.orgName.attr("x",-d-7),a.clickMore.attr("x",-d-7),a.date.attr("x",-d-7)):(a.toolTipPoint.attr("transform","translate(10, 0) rotate(45)"),a.boundingBox.attr("x",10),a.orgName.attr("x",20),a.clickMore.attr("x",20),a.jobs.attr("x",d/2),a.date.attr("x",20)),a.toolTipBase.style("opacity",1),a.toolTipBase.interrupt()}}),ct()(this,"handleMouseOut",function(){a.toolTipBase.transition().delay(15).style("opacity",0).style("pointer-events","none")}),this.svg=e.svg,this.draw()}return lt()(t,[{key:"draw",value:function(){this.width=125,this.toolTipBase=A.r(this.svg+"> svg").append("g"),this.toolTipBase.attr("id","svg-chart-Tooltip.base-"+this.svg.slice(1)),this.toolTipBase.attr("overflow","visible"),this.toolTipBase.style("opacity",0),this.toolTipBase.style("pointer-events","none"),this.toolTipBase.attr("transform","translate(100, 100)"),this.boxWidth=125,this.textWidthThreshold=20,this.toolTipPoint=this.toolTipBase.append("rect").attr("transform","translate(10, -10) rotate(45)").attr("x",0).attr("y",0).attr("height",20).attr("width",20).attr("fill","#393f44"),this.boundingBox=this.toolTipBase.append("rect").attr("x",10).attr("y",-23).attr("rx",2).attr("height",68).attr("width",this.boxWidth).attr("fill","#393f44"),this.date=this.toolTipBase.append("text").attr("x",20).attr("y",14).attr("font-size",12).attr("fill","white").text("Date"),this.jobs=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",72).attr("y",14).text("0 Jobs"),this.orgName=this.toolTipBase.append("text").attr("fill","white").attr("font-weight",800).attr("x",20).attr("y",-1).attr("font-size",12).text("Org"),this.clickMore=this.toolTipBase.append("text").attr("fill","white").attr("x",20).attr("y",30).attr("font-size",12).text("Click for details")}}]),t}();function ft(){var t=u()(["\n  display: flex;\n  flex-wrap: nowrap;\n  flex-shrink: 0;\n"]);return ft=function(){return t},t}var ht=h.a.div(ft()),gt=function(){function t(e){var a=this;it()(this,t),ct()(this,"handleMouseOver",function(t){var e,n,r;!0!==a.drawn&&(a.draw(t),a.drawn=!0);var i=A.f.pageX-A.r(a.svg).node().getBoundingClientRect().x+10,o=A.f.pageY-A.r(a.svg).node().getBoundingClientRect().y-10;if(t){if(t&&t.data){e=t.data.percent,n=t.data.success_rate,r=t.data.name,t.data.name.length>16&&(r=t.data.name.slice(0,13).concat("..."))}var l=a.toolTipBase.node().getBoundingClientRect().width,s=A.r(a.svg+"> svg").node().getBoundingClientRect().width,c=100-l/s*100<i/s*100;a.percentageTotal.text(e+"%"),n&&a.percentageSuccess&&a.percentageSuccess.text("("+n+"% successful)"),a.orgName.text(" "+r),a.toolTipBase.attr("transform","translate("+i+","+o+")"),c?(a.toolTipPoint.attr("transform","translate(-20, -10) rotate(45)"),a.boundingBOx.attr("x",-125),a.orgName.attr("x",-112),a.percentageTotal.attr("x",-112),a.showSuccess&&a.percentageSuccess.attr("x",-112)):(a.toolTipPoint.attr("transform","translate(10, -10) rotate(45)"),a.boundingBOx.attr("x",10),a.orgName.attr("x",20),a.percentageTotal.attr("x",20),a.showSuccess&&a.percentageSuccess.attr("x",20)),a.toolTipBase.style("opacity",1),a.toolTipBase.interrupt()}}),ct()(this,"handleMouseOut",function(){a.toolTipBase.transition().delay(15).style("opacity",0).style("pointer-events","none")}),this.svg=e.svg,this.drawn=!1,this.showSuccess=!1}return lt()(t,[{key:"draw",value:function(t){this.showSuccess=!!(t&&t.data&&"success_rate"in t.data);var e=this.showSuccess?70:52,a=this.showSuccess?120:108;this.toolTipBase=A.r(this.svg+"> svg").append("g"),this.toolTipBase.attr("id","svg-chart-Tooltip.base-"+this.svg.slice(1)),this.toolTipBase.attr("overflow","visible"),this.toolTipBase.style("opacity",0),this.toolTipBase.style("pointer-events","none"),this.toolTipBase.attr("transform","translate(100, 100)"),this.toolTipPoint=this.toolTipBase.append("rect").attr("transform","translate(10, -10) rotate(45)").attr("x",0).attr("y",0).attr("height",20).attr("width",20).attr("fill","#393f44"),this.boundingBOx=this.toolTipBase.append("rect").attr("x",10).attr("y",-23).attr("rx",2).attr("height",e).attr("width",a).attr("fill","#393f44"),this.orgName=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("font-weight",800).attr("x",20).attr("y",0).text("Organization"),this.percentageTotal=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("font-weight",800).attr("x",20).attr("y",16).text("0"),this.percentageSuccess=null,this.showSuccess&&(this.percentageSuccess=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("font-weight",800).attr("x",20).attr("y",30).text(""))}}]),t}(),bt=function(t){var e=t.data,a=t.id,n=t.colorFunc,i=t.margin,o=t.getWidth,l=t.getHeight,s=e.map(function(t){var e=-1===t.id?"Others":t.name;return{id:t.id,name:e,value:n(e),count:Math.round(t.count)}}).sort(function(t,e){return t.count>e.count?1:e.count>t.count?-1:0}),c=Object(d.useState)(e.map(function(t){return t.id}).slice(0,8)),u=r()(c,2),p=u[0],f=u[1],h=null,g=function(){A.s("#"+a+" > *").remove();var t=o(),r=l(),s=A.r("#"+a).append("svg").attr("width",t+i.left+i.right).attr("height",r+i.bottom).append("g");s.append("g").attr("class","slices"),s.append("g").attr("class","labels"),s.append("g").attr("class","lines");var c=Math.min(t,r)/2,u=e.filter(function(t){var e=t.id;return p.includes(e)}),d=Object(y.j)(u);u.forEach(function(t){t.count=+t.count,t.percent=+Math.round(t.count/d*100)});var m=new gt({svg:"#"+a}),f=A.l().sort(null).value(function(t){return t.count}),h=A.a().outerRadius(c-10).innerRadius(0);s.attr("transform","translate("+(t+i.left+i.right)/2+","+(r+i.top+i.bottom)/2+")"),s.selectAll("path").data(f(u)).enter().append("path").attr("d",h).attr("fill",function(t){return n(t.data.name)}),s.selectAll("path").on("mouseover",function(t){A.r(this).style("fill",A.m(n(t.data.name)).darker(1)),m.handleMouseOver(t)}).on("mouseout",function(t){A.r(this).style("fill",n(t.data.name)),m.handleMouseOut()}).on("mousemove",m.handleMouseOver),s.append("g").classed("labels",!0),s.append("g").classed("lines",!0)},b=function(){clearTimeout(h),h=setTimeout(function(){g()},500)};return Object(d.useEffect)(function(){return g(),window.addEventListener("resize",b),function(){clearTimeout(h),window.removeEventListener("resize",b)}},[]),Object(d.useEffect)(function(){g()},[e,p]),m.a.createElement(ht,null,m.a.createElement("div",{id:a}),s.length>0&&m.a.createElement(Q,{id:"".concat(a,"-legend"),data:s,selected:p,onToggle:function(t){p.includes(t)?f(p.filter(function(e){return e!==t})):f([].concat(I()(p),[t]))},height:"300px"}))};bt.propTypes={id:f.a.string,data:f.a.array,margin:f.a.object,getHeight:f.a.func,getWidth:f.a.func,timeFrame:f.a.number,colorFunc:f.a.func};var vt=Object(F.a)(bt),yt=a(142),Et=a(113);function xt(){var t=u()(["\n  min-height: 500px;\n"]);return xt=function(){return t},t}function jt(){var t=u()(["\n  display: flex;\n  overflow: hidden;\n\n  .pf-c-card {\n    width: 50%;\n    margin-top: 20px;\n    overflow: auto;\n  }\n\n  .pf-c-card:first-of-type {\n    margin-right: 20px;\n  }\n"]);return jt=function(){return t},t}function _t(){var t=u()(["\n  border-bottom: 2px solid #ebebeb;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  &&& {\n    min-height: 60px;\n    --pf-c-card--first-child--PaddingTop: 10px;\n    --pf-c-card__header--not-last-child--PaddingBottom: 10px;\n\n    h3 {\n      font-size: 0.875em;\n    }\n  }\n"]);return _t=function(){return t},t}var Tt=Object(h.a)(C.CardTitle)(_t()),wt=h.a.div(jt()),kt=Object(h.a)(O.Card)(xt()),Ot=Object(A.p)(["#06C","#4CB140","#009596","#5752D1","#F4C145","#EC7A08","#8BC1F7","#23511E","#A2D9D9","#2A265F","#F9E0A2","#8F4700","#002F5D"]),St=function(t){var e=t.meta,a=(t.inventory_id,s()(t,["meta","inventory_id"]));return o()({},a,{sort_by:e.sort_by})},Ct=function(t){return function(e){var a=e.items;return(void 0===a?[]:a).map(function(e){var a=e.id,n=e[t],r=e.name;return{id:a,count:n,name:-1===a?"Others":r||"No organization"}})}},Bt=[{api:T.j,attr:"total_count",label:"Jobs across organizations",onClick:function(t){return function(e){var a=e.date,n=e.id;if(-1!==n){var r=Object(y.f)(a);t({quick_date_range:"custom",start_date:r,end_date:r,status:["successful","failed","new","pending","waiting","error","canceled","running"],org_id:[n]})}}},tooltip:dt},{api:T.e,attr:"total_unique_host_count",label:"Hosts across organizations",onClick:function(){return null},tooltip:pt}],Lt=function(t){var e=t.history,a=Object(v.a)(e,"jobExplorer"),n=Object(b.a)(null),i=r()(n,2),o=i[0],l=i[1],s=Object(d.useState)(0),c=r()(s,2),u=c[0],p=c[1],f=Object(b.a)([],function(t){return function(e){var a=e.dates;return(void 0===a?[]:a).map(function(e){var a=e.date,n=e.items;return{date:a,items:n.map(function(e){var n=e.id,r=e[t],i=e.name;return{id:n,date:a,value:r,name:-1===n?"Others":i||"No organization"}})}})}}(Bt[u].attr)),h=r()(f,2),y=h[0],C=h[1],D=Object(b.a)([],Ct("host_count")),I=r()(D,2),A=I[0],F=I[1],z=Object(b.a)([],Ct("host_task_count")),R=r()(z,2),M=R[0],P=R[1],N=Object(b.a)({},St),W=r()(N,2),q=W[0],U=W[1],H=Object(g.a)(Et.c.defaultParams),Y=H.queryParams,J=H.setFromToolbar;return Object(d.useEffect)(function(){insights.chrome.appNavClick({id:"organization-statistics",secondaryNav:!0}),l(Object(T.a)()),U(Object(T.l)({params:Y}))},[]),Object(d.useEffect)(function(){var t=Bt[u].api;C(t({params:Y}))},[Y,u]),Object(d.useEffect)(function(){F(Object(T.i)({params:Y})),P(Object(T.f)({params:Y}))},[Y]),m.a.createElement(m.a.Fragment,null,m.a.createElement(k.PageHeader,null,m.a.createElement(k.PageHeaderTitle,{title:"Organization Statistics"}),m.a.createElement(yt.a,{categories:q.data,filters:Y,setFilters:J})),o.error&&m.a.createElement(w.Main,null,m.a.createElement(j.a,{preflightError:o.error})),o.isSuccess&&m.a.createElement(m.a.Fragment,null,m.a.createElement(w.Main,null,m.a.createElement(kt,null,m.a.createElement(B.Tabs,{activeKey:u,onSelect:function(t,e){p(e)}},m.a.createElement(L.Tab,{eventKey:0,title:"Orgs"}),m.a.createElement(L.Tab,{eventKey:1,title:"Hosts"})),m.a.createElement(S.CardBody,null,y.isLoading&&m.a.createElement(E.a,null),y.error&&m.a.createElement(_.a,{message:y.error.error}),y.isSuccess&&y.data.length<=0&&m.a.createElement(x.a,null),y.isSuccess&&y.data.length>0&&m.a.createElement(nt,{margin:{top:20,right:20,bottom:50,left:50},id:"d3-grouped-bar-chart-root",data:y.data,history:e,timeFrame:y.data.length,colorFunc:Ot,yLabel:Bt[u].label,onClick:Bt[u].onClick(a),TooltipClass:Bt[u].tooltip}))),m.a.createElement(wt,null,m.a.createElement(O.Card,null,m.a.createElement(S.CardBody,{style:{padding:0}},m.a.createElement(Tt,{style:{padding:0}},m.a.createElement("h2",{style:{marginLeft:"20px"}},"Job Runs by Organization")),A.isLoading&&m.a.createElement(E.a,null),A.error&&m.a.createElement(_.a,{message:A.error.error}),A.isSuccess&&A.data.length<=0&&m.a.createElement(x.a,null),A.isSuccess&&A.data.length>0&&m.a.createElement(vt,{margin:{top:20,right:20,bottom:0,left:20},id:"d3-donut-1-chart-root",data:A.data,timeFrame:A.data.length,colorFunc:Ot}))),m.a.createElement(O.Card,null,m.a.createElement(S.CardBody,{style:{padding:0}},m.a.createElement(Tt,{style:{padding:0}},m.a.createElement("h2",{style:{marginLeft:"20px"}},"Usage by Organization (Tasks)")),M.isLoading&&m.a.createElement(E.a,null),M.error&&m.a.createElement(_.a,{message:M.error.error}),M.isSuccess&&M.data.length<=0&&m.a.createElement(x.a,null),M.isSuccess&&M.data.length>0&&m.a.createElement(vt,{margin:{top:20,right:20,bottom:0,left:20},id:"d3-donut-2-chart-root",data:M.data,timeFrame:M.data.length,colorFunc:Ot})))))))};Lt.propTypes={history:f.a.object};e.default=Lt},551:function(t,e,a){"use strict";a.r(e);var n=a(15),r=a.n(n),i=a(29),o=a.n(i),l=a(94),s=a.n(l),c=a(25),u=a.n(c),d=a(76),m=a.n(d),p=a(0),f=a.n(p),h=a(107),g=a(83),b=a(109),v=a(101),y=a(113),E=a(114),x=a(70),j=a(68),_=a(87),T=a(88),w=a(106),k=a(22),O=a.n(k),S=a(23),C=a.n(S),B=a(26),L=a.n(B),D=a(27),I=a.n(D),A=a(45),F=a.n(A),z=a(28),R=a.n(z),M=a(2),P=a(115),N=a(89),W=a(1),q=a.n(W),U=a(98),H=a.n(U),Y=function(){function t(e){var a=this;O()(this,t),H()(this,"handleMouseOver",function(t){var e=0,n=0,r=0,i=N.f.pageX-N.r(a.svg).node().getBoundingClientRect().x+10,o=N.f.pageY-N.r(a.svg).node().getBoundingClientRect().y-10,l=N.w("%m/%d");if(t){var s=a.toolTipBase.node().getBoundingClientRect().width,c=N.r(a.svg+"> svg").node().getBoundingClientRect().width,u=100-s/c*100<i/c*100;t&&(e=t.RAN||0,n=t.FAIL||0,r=t.TOTAL||0,a.date.text(l(t.DATE||null))),t&&t.data&&(e=t.data.RAN||0,n=t.data.FAIL||0,r=t.data.TOTAL||0,a.date.text(l(t.data.DATE||null))),a.jobs.text(r+" jobs"),a.jobsWidth=a.jobs.node().getComputedTextLength(),a.failed.text(""+n),a.successful.text(""+e),a.successTextWidth=a.successful.node().getComputedTextLength(),a.failTextWidth=a.failed.node().getComputedTextLength();var d,m=a.jobsWidth/a.boxWidth*100,p=m/40;d=m>40?a.boxWidth*p:a.boxWidth,a.boundingBox.attr("width",d),a.toolTipBase.attr("transform","translate("+i+","+o+")"),u?(a.toolTipPoint.attr("transform","translate(-20, 0) rotate(45)"),a.boundingBox.attr("x",-d-20),a.circleSuccess.attr("cx",-d),a.circleFail.attr("cx",-d),a.failedIcon.attr("x",-d-7),a.successIcon.attr("x",-d-7),a.successText.attr("x",17-d),a.failText.attr("x",17-d),a.successful.attr("x",-a.successTextWidth-20-12),a.failed.attr("x",-a.failTextWidth-20-12),a.date.attr("x",-d-5),a.jobs.attr("x",-a.jobsWidth/2-7),a.clickMore.attr("x",-d)):(a.toolTipPoint.attr("transform","translate(10, 0) rotate(45)"),a.boundingBox.attr("x",10),a.circleSuccess.attr("cx",26),a.circleFail.attr("cx",26),a.failedIcon.attr("x",19),a.successIcon.attr("x",19),a.successText.attr("x",43),a.failText.attr("x",43),a.successful.attr("x",d-a.successTextWidth),a.failed.attr("x",d-a.failTextWidth),a.date.attr("x",20),a.jobs.attr("x",d),a.clickMore.attr("x",20)),a.toolTipBase.style("opacity",1),a.toolTipBase.interrupt()}}),H()(this,"handleMouseOut",function(){a.toolTipBase.transition().delay(15).style("opacity",0).style("pointer-events","none")}),this.svg=e.svg,this.colors=e.colors,this.draw()}return C()(t,[{key:"draw",value:function(){this.toolTipBase=N.r(this.svg+"> svg").append("g"),this.toolTipBase.attr("id","svg-chart-Tooltip.base-"+this.svg.slice(1)),this.toolTipBase.attr("overflow","visible"),this.toolTipBase.style("opacity",0),this.toolTipBase.style("pointer-events","none"),this.toolTipBase.attr("transform","translate(100, 100)"),this.boxWidth=145,this.textWidthThreshold=20,this.toolTipPoint=this.toolTipBase.append("rect").attr("transform","translate(10, -10) rotate(45)").attr("x",0).attr("y",0).attr("height",20).attr("width",20).attr("fill","#393f44"),this.boundingBox=this.toolTipBase.append("rect").attr("x",10).attr("y",-41).attr("rx",2).attr("height",110).attr("width",this.boxWidth).attr("fill","#393f44"),this.circleSuccess=this.toolTipBase.append("circle").attr("cx",26).attr("cy",0).attr("r",8).attr("stroke","white").attr("fill","white"),this.circleFail=this.toolTipBase.append("circle").attr("cx",26).attr("cy",26).attr("r",8).attr("stroke","white").attr("fill","white"),this.successText=this.toolTipBase.append("text").attr("x",43).attr("y",4).attr("font-size",12).attr("fill","white").text("Successful"),this.failText=this.toolTipBase.append("text").attr("x",43).attr("y",28).attr("font-size",12).attr("fill","white").text("Failed"),this.successIcon=this.toolTipBase.append("text").attr("class","fas fa-sm").attr("fill",this.colors(1)).attr("x",19).attr("y",5).text(""),this.failedIcon=this.toolTipBase.append("text").attr("class","fas fa-sm").attr("fill",this.colors(0)).attr("x",20).attr("y",31).text(""),this.jobs=this.toolTipBase.append("text").attr("fill","white").attr("x",137).attr("y",-21).attr("font-size",12).attr("text-anchor","end").text("No jobs"),this.successful=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",122).attr("y",4).text("0"),this.failed=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",122).attr("y",28).text("0"),this.date=this.toolTipBase.append("text").attr("fill","white").attr("stroke","white").attr("x",20).attr("y",-21).attr("font-size",12).text("Never"),this.clickMore=this.toolTipBase.append("text").attr("fill","white").attr("x",20).attr("y",55).attr("font-size",12).text("Click for details")}}]),t}(),J=a(102),V=a(7),G=a(82),K=function(t){function e(t){var a;return O()(this,e),(a=L()(this,I()(e).call(this,t))).draw=a.draw.bind(F()(a)),a.init=a.init.bind(F()(a)),a.resize=a.resize.bind(F()(a)),a.redirectToJobExplorer=a.redirectToJobExplorer.bind(F()(a)),a.state={formattedData:[],timeout:null},a}return R()(e,t),C()(e,[{key:"redirectToJobExplorer",value:function(t){var e=t.data.DATE,a=V.a.jobExplorer,n=Object(G.f)(e),r=this.props,i=r.orgId,o={start_date:n,end_date:n,quick_date_range:"custom",status:["failed","successful"],template_id:r.templateId,org_id:i},l=Object(J.stringify)(o,{arrayFormat:"bracket"});this.props.history.push({pathname:a,search:l})}},{key:"resize",value:function(){var t=this,e=this.state.timeout;clearTimeout(e),this.setState({timeout:setTimeout(function(){t.init()},500)})}},{key:"init",value:function(){this.draw()}},{key:"draw",value:function(){N.s("#"+this.props.id+" > *").remove();var t,e=N.x("%Y-%m-%d"),a=this.props.data.reduce(function(t,a){var n=a.created_date,r=a.successful_count,i=a.failed_count,o=e(n)||new Date,l=+r||0,s=+i||0,c=+r+i||0;return t.concat({DATE:o,RAN:l,FAIL:s,TOTAL:c})},[]),n=this.props.getWidth(),r=this.props.getHeight(),i=N.n().rangeRound([0,n]).padding(.35),o=N.o().range([r,0]),l=N.r("#"+this.props.id).append("svg").attr("width",n+this.props.margin.left+this.props.margin.right).attr("height",r+this.props.margin.top+this.props.margin.bottom).append("g").attr("transform","translate("+this.props.margin.left+","+this.props.margin.top+")"),s=N.p(["#6EC664","#A30000"]),c=new Y({svg:"#"+this.props.id,colors:s}),u=N.t().keys(["FAIL","RAN"]).order(N.v).offset(N.u)(a);i.domain(u[0].map(function(t){return t.data.DATE})),o.domain([0,N.k(u[u.length-1],function(t){return 1.15*t[1]})||8]),l.append("g").attr("class","y-axis").call(N.c(o).tickSize(-n,0,0)).selectAll("line").attr("stroke","#d7d7d7"),l.selectAll(".y-axis .tick text").attr("x",-5),l.append("text").attr("transform","rotate(-90)").attr("y",0-this.props.margin.left).attr("x",0-r/2).attr("dy","1em").style("text-anchor","middle").text("Jobs across all clusters");var d=Math.round(a.length/(a.length/2));t=a.map(function(t){return t.DATE}),a.length>14&&(t=a.map(function(t,e){return e%d==0?t.DATE:void 0}).filter(function(t){return t})),l.append("g").attr("class","x-axis").attr("transform","translate(0,"+r+")").call(N.b(i).tickValues(t).tickFormat(N.w("%-m/%-d"))).selectAll("line").attr("stroke","#d7d7d7"),l.selectAll(".x-axis .tick text").attr("y",10),l.append("text").attr("transform","translate("+n/2+" ,"+(r+this.props.margin.top+20)+")").style("text-anchor","middle").text("Date");var m=l.selectAll("layer").data(u).enter().append("g").attr("class","layer").style("fill",function(t,e){return s(e)});m.selectAll("rect").data(function(t){return t}).enter().append("rect").attr("x",function(t){return i(t.data.DATE)}).attr("y",function(t){return o(t[0])}).attr("height",0).attr("width",i.bandwidth()-1).transition().duration(550).ease(N.e).attr("y",function(t){return o(t[1])}).attr("height",function(t){return o(t[0])-o(t[1])}),m.selectAll("rect").on("mouseover",c.handleMouseOver).on("mousemove",c.handleMouseOver).on("mouseout",c.handleMouseOut).on("click",this.redirectToJobExplorer)}},{key:"componentDidMount",value:function(){this.init(),window.addEventListener("resize",this.resize)}},{key:"componentDidUpdate",value:function(t){t.data!==this.props.data&&this.init()}},{key:"componentWillUnmount",value:function(){var t=this.state.timeout;clearTimeout(t),window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){return f.a.createElement("div",{id:this.props.id})}}]),e}(p.Component);K.propTypes={id:q.a.string,templateId:q.a.array,orgId:q.a.array,data:q.a.array,margin:q.a.object,getHeight:q.a.func,getWidth:q.a.func,history:q.a.object};var $=Object(P.a)(Object(M.h)(K)),X=function(t){function e(t){var a;return O()(this,e),(a=L()(this,I()(e).call(this,t))).init=a.init.bind(F()(a)),a.draw=a.draw.bind(F()(a)),a.resize=a.resize.bind(F()(a)),a.updateCluster=a.updateCluster.bind(F()(a)),a.redirectToJobExplorer=a.redirectToJobExplorer.bind(F()(a)),a.state={formattedData:[],timeout:null},a}return R()(e,t),C()(e,[{key:"redirectToJobExplorer",value:function(t){var e=t.DATE,a=V.a.jobExplorer,n=Object(G.f)(e),r=this.props,i=r.clusterId,o=r.templateId,l={start_date:n,end_date:n,quick_date_range:"custom",status:["failed","successful"],cluster_id:i,org_id:r.orgId,template_id:o},s=Object(J.stringify)(l,{arrayFormat:"bracket"});this.props.history.push({pathname:a,search:s})}},{key:"resize",value:function(){var t=this,e=this.state.timeout;clearTimeout(e),this.setState({timeout:setTimeout(function(){t.init()},500)})}},{key:"updateCluster",value:function(){this.init()}},{key:"init",value:function(){this.draw()}},{key:"draw",value:function(){N.s("#"+this.props.id+" > *").remove();var t=this.props.getWidth(),e=this.props.getHeight();function a(t){t.transition().duration(1e3).attrTween("stroke-dasharray",n)}function n(){var t=this.getTotalLength(),e=N.i("0,"+t,t+","+t);return function(t){return e(t)}}var r=N.q().rangeRound([0,t]),i=N.o().range([e,0]),o=N.p(["#6EC664","#A30000","#06C"]),l=N.r("#"+this.props.id).append("svg").attr("width",t+this.props.margin.left+this.props.margin.right).attr("height",e+this.props.margin.top+this.props.margin.bottom).attr("z",100).append("g").attr("transform","translate("+this.props.margin.left+","+this.props.margin.top+")"),s=new Y({svg:"#"+this.props.id,colors:o}),c=this.props.data,u=N.x("%Y-%m-%d"),d=c.reduce(function(t,e){var a=e.created_date,n=e.successful_count,r=e.failed_count,i=u(a)||new Date,o=+n||0,l=+r||0,s=+n+r||0;return t.concat({DATE:i,RAN:o,FAIL:l,TOTAL:s})},[]);r.domain(N.g(d,function(t){return t.DATE})),i.domain([0,N.k(d,function(t){return 1.15*t.TOTAL||8})]);var m,p=N.j().curve(N.d).x(function(t){return r(t.DATE)}).y(function(t){return i(t.RAN)}),f=N.j().defined(function(t){return!isNaN(t.FAIL)}).curve(N.d).x(function(t){return r(t.DATE)}).y(function(t){return i(t.FAIL)});l.append("g").attr("class","y-axis").call(N.c(i).ticks(10).tickSize(-t)).selectAll("line").attr("stroke","#d7d7d7"),l.selectAll(".y-axis .tick text").attr("x",-5),l.append("text").attr("transform","rotate(-90)").attr("y",0-this.props.margin.left).attr("x",0-e/2).attr("dy","1em").style("text-anchor","middle").text("Job runs");var h=Math.round(d.length/(d.length/2));m=d.map(function(t){return t.DATE}),d.length>14&&(m=d.map(function(t,e){return e%h==0?t.DATE:void 0}).filter(function(t){return t})),l.append("g").attr("class","x-axis").attr("transform","translate(0,"+e+")").call(N.b(r).tickValues(m).tickSize(-e).tickFormat(N.w("%-m/%-d"))).selectAll("line").attr("stroke","#d7d7d7"),l.selectAll(".x-axis .tick text").attr("y",10),l.append("text").attr("transform","translate("+t/2+" ,"+(e+this.props.margin.top+20)+")").style("text-anchor","middle").text("Date");var g=l.append("path").attr("class","mouse-line").style("stroke","black").style("stroke-width","3px").style("stroke-dasharray","3, 3").style("opacity","0"),b=function(t){s.handleMouseOver(t),g.transition().style("opacity","1")},v=function(){var t=this.cx.baseVal.value;g.attr("d",function(){var a="M"+t+","+e;return a+=" "+t+",0"})},y=function(){s.handleMouseOut(),g.transition().style("opacity",0)};l.append("path").data([d]).attr("class","line").style("fill","none").style("stroke",function(){return o(1)}).attr("stroke-width",2).attr("d",p).call(a),l.append("path").data([d]).attr("class","line").style("fill","none").style("stroke",function(){return o(0)}).attr("stroke-width",2).attr("d",f).call(a),l.selectAll("dot").data(d).enter().append("circle").attr("r",3).style("stroke",function(){return o(1)}).style("fill",function(){return o(1)}).attr("cx",function(t){return r(t.DATE)}).attr("cy",function(t){return i(t.RAN)}).on("mouseover",b).on("mousemove",v).on("mouseout",y).on("click",this.redirectToJobExplorer),l.selectAll("dot").data(d).enter().append("circle").attr("r",3).style("stroke",function(){return o(0)}).style("fill",function(){return o(0)}).attr("cx",function(t){return r(t.DATE)}).attr("cy",function(t){return i(t.FAIL)}).on("mouseover",b).on("mousemove",v).on("mouseout",y).on("click",this.redirectToJobExplorer)}},{key:"componentDidMount",value:function(){this.updateCluster(),window.addEventListener("resize",this.resize)}},{key:"componentDidUpdate",value:function(t){t.data!==this.props.data&&this.updateCluster()}},{key:"componentWillUnmount",value:function(){var t=this.state.timeout;clearTimeout(t),window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){return f.a.createElement("div",{id:this.props.id})}}]),e}(p.Component);X.propTypes={id:q.a.string,clusterId:q.a.array,templateId:q.a.array,orgId:q.a.array,data:q.a.array,margin:q.a.object,getHeight:q.a.func,getWidth:q.a.func,history:q.a.object};var Q=Object(P.a)(Object(M.h)(X)),Z=a(78),tt=a.n(Z),et=a(79),at=a(116),nt=a(117),rt=a(134),it=a(133);function ot(){var t=tt()(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]);return ot=function(){return t},t}function lt(){var t=tt()(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  padding: 0 15px 10px 15px;\n"]);return lt=function(){return t},t}function st(){var t=tt()(["\n  --pf-c-data-list__cell-cell--MarginRight: 0;\n"]);return st=function(){return t},t}var ct=Object(et.a)(it.DataListCell)(st()),ut=Object(et.a)(rt.DataListItem)(lt()),dt=Object(et.a)(ct)(ot()),mt=function(t){var e=t.modules,a=t.isLoading;return f.a.createElement(nt.DataList,{"aria-label":"Top Modules",style:{maxHeight:"400px",overflow:"auto",height:"400px",background:"white"}},f.a.createElement(ut,{"aria-labelledby":"top-modules-header"},f.a.createElement(ct,null,f.a.createElement("h3",null,"Top modules")),f.a.createElement(dt,null,f.a.createElement("h3",null,"Usage"))),a&&f.a.createElement(rt.DataListItem,{"aria-labelledby":"modules-loading",key:a,style:{border:"none"}},f.a.createElement(it.DataListCell,null,f.a.createElement(g.a,null))),!a&&e.length<=0&&f.a.createElement(rt.DataListItem,{"aria-labelledby":"modules-no-data",key:a,style:{border:"none"}},f.a.createElement(it.DataListCell,null,f.a.createElement(at.a,null))),!a&&e.filter(function(t){return null!==t.name}).map(function(t,e){var a=t.name,n=t.host_task_count;return f.a.createElement(ut,{"aria-labelledby":"top-modules-detail",key:e},f.a.createElement(ct,null,f.a.createElement("span",null,Object(G.k)(a))),f.a.createElement(dt,null,n))}))};mt.propTypes={modules:q.a.array,isLoading:q.a.bool};var pt=mt,ft=a(110),ht=a(336),gt=a(446),bt=a(445),vt=a.n(bt);function yt(){var t=tt()(["\n  padding: 7px !important;\n"]);return yt=function(){return t},t}function Et(){var t=tt()(["\n  display: grid;\n  grid-template-columns: repeat(3, auto);\n  grid-gap: 10px;\n  padding: var(--pf-global--spacer--lg);\n  background: #ebebeb;\n  border: 1px solid #ccc;\n  border-top: none;\n  margin-bottom: 20px;\n"]);return Et=function(){return t},t}function xt(){var t=tt()(["\n  padding: 7px;\n"]);return xt=function(){return t},t}function jt(){var t=tt()(["\n  padding: 0;\n  > .pf-c-data-list__cell {\n    font-weight: 600;\n  }\n\n  &:last-child {\n    border-bottom: none;\n  }\n"]);return jt=function(){return t},t}function _t(){var t=tt()(["\n  border-bottom: none;\n  margin-bottom: -20px;\n"]);return _t=function(){return t},t}function Tt(){var t=tt()(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]);return Tt=function(){return t},t}function wt(){var t=tt()(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  padding: 0 15px 10px 15px;\n  justify-content: center;\n  align-items: center;\n"]);return wt=function(){return t},t}function kt(){var t=tt()(["\n  --pf-c-data-list__cell-cell--MarginRight: 0;\n"]);return kt=function(){return t},t}var Ot=f.a.createElement(vt.a,{size:"sm",key:"5",style:{color:"rgb(110, 198, 100)",marginRight:"5px"}}),St=f.a.createElement(f.a.Fragment,null,f.a.createElement(vt.a,{size:"sm",key:"5",style:{color:"rgb(163, 0, 0)",marginRight:"5px"}}),f.a.createElement("span",{id:"fail-icon"},"!")),Ct=Object(et.a)(it.DataListCell)(kt()),Bt=Object(et.a)(rt.DataListItem)(wt()),Lt=Object(et.a)(Ct)(Tt()),Dt=Object(et.a)(rt.DataListItem)(_t()),It=Object(et.a)(Bt)(jt()),At=Object(et.a)(Ct)(xt()),Ft=et.a.div(Et()),zt=Object(et.a)(Lt)(yt()),Rt=function(t){var e=t.selectedId,a=t.isOpen,n=t.handleModal,r=t.qp,i=t.jobType,o=t.handleCloseBtn,l=Object(E.a)({items:[]}),c=m()(l,2),u=c[0].data.items,d=void 0===u?[]:u,h=c[1],b=Object(E.a)({items:[]}),y=m()(b,2),x=m()(y[0].data.items,1)[0],j=void 0===x?0:x,_=y[1],T=Object(M.g)(),w=s()({},r,{template_id:[e],attributes:["id","status","job_type","started","finished","elapsed","created","cluster_name","org_name"],group_by_time:!1,limit:5,sort_by:"created:asc",quick_date_range:r.quick_date_range?r.quick_date_range:"last_30_days",job_type:[i]}),k={group_by:"template",template_id:[e],attributes:["elapsed","job_type","successful_count","failed_count","total_count","job"===i?"most_failed_tasks":"most_failed_steps"],status:r.status,quick_date_range:r.quick_date_range?r.quick_date_range:"last_30_days",job_type:[i]};return Object(p.useEffect)(function(){e&&(_(Object(v.g)({params:k})),h(Object(v.g)({params:w})))},[e]),f.a.createElement(gt.Modal,{"aria-label":"modal",width:"80%",title:j.name?j.name:"no-template-name",isOpen:a,onClose:function(){n(!1),o(null)},actions:[f.a.createElement(ft.Button,{key:"cancel",variant:"secondary",onClick:function(){n(!1),o(null)}},"Close")]},f.a.createElement(nt.DataList,{"aria-label":"Selected Template Details"},f.a.createElement(Dt,{"aria-labelledby":"Selected Template Statistics"},f.a.createElement(Ft,null,f.a.createElement("div",{"aria-labelledby":"job runs"},f.a.createElement("b",{style:{marginRight:"10px"}},"Number of runs"),j.total_count?j.total_count:"Unavailable"),f.a.createElement("div",{"aria-labelledby":"total time"},f.a.createElement("b",{style:{marginRight:"10px"}},"Total time"),j.elapsed?function(t){return new Date(1e3*t).toISOString().substr(11,8)}(j.elapsed):"Unavailable"),f.a.createElement("div",{"aria-labelledby":"Avg Time"},f.a.createElement("b",{style:{marginRight:"10px"}},"Avg time"),j.elapsed?function(t,e){return new Date(1e3*Math.ceil(t/e)).toISOString().substr(11,8)}(j.elapsed,j.total_count):"Unavailable"),f.a.createElement("div",{"aria-labelledby":"success rate"},f.a.createElement("b",{style:{marginRight:"10px"}},"Success rate"),isNaN(j.successful_count)?"Unavailable":function(t,e){return Math.ceil(t/e*100)+"%"}(j.successful_count,j.total_count)),j.most_failed_tasks&&f.a.createElement("div",{"aria-labelledby":"most failed task"},f.a.createElement("b",{style:{marginRight:"10px"}},"Most failed task"),j.most_failed_tasks?function(t){if(t){if(t&&t[0]){var e=Math.ceil(t[0].failed_count/t[0].total_failed_count*100);return"".concat(t[0].task_name," ").concat(e,"%")}return"Unavailable"}}(j.most_failed_tasks):"Unavailable"),j.most_failed_steps&&f.a.createElement("div",{"aria-labelledby":"most failed step"},f.a.createElement("b",{style:{marginRight:"10px"}},"Most failed step"),j.most_failed_steps?function(t){if(t){if(t&&t[0]){var e=Math.ceil(t[0].failed_count/t[0].total_failed_count*100);return"".concat(t[0].template_name," ").concat(e,"%")}return"Unavailable"}}(j.most_failed_steps):"Unavailable"))),f.a.createElement(It,null,f.a.createElement(At,{key:"last5jobs"},f.a.createElement(ht.Label,{variant:"outline"},"Last 5 jobs")),",",f.a.createElement(zt,null,f.a.createElement(ft.Button,{component:"a",onClick:function(){var t=V.a.jobExplorer,a={template_id:[e],status:["successful","failed","new","pending","waiting","error","canceled","running"],job_type:["job"],quick_date_range:"last_30_days"},n=Object(J.stringify)(a,{arrayFormat:"bracket"});T.push({pathname:t,search:n})},variant:"link"},"View all jobs"))),f.a.createElement(It,{"aria-labelledby":"datalist header"},f.a.createElement(it.DataListCell,{key:"job heading"},"Id/Name"),f.a.createElement(it.DataListCell,{key:"cluster heading"},"Cluster"),f.a.createElement(it.DataListCell,{key:"start time heading"},"Start Time"),f.a.createElement(it.DataListCell,{key:"total time heading"},"Total Time")),d.length<=0&&f.a.createElement(g.a,null),d.length>0&&d.map(function(t,e){return f.a.createElement(Bt,{style:{padding:"10px 0"},key:"job-details-".concat(e),"aria-labelledby":"job details"},f.a.createElement(it.DataListCell,{key:"job name"},"successful"===t.status?Ot:St," ",t.id.id," -"," ",t.id.template_name),f.a.createElement(it.DataListCell,{key:"job cluster"},t.cluster_name),f.a.createElement(it.DataListCell,{key:"start time"},Object(G.g)(t.started)),f.a.createElement(it.DataListCell,{key:"total time"},Object(G.i)(t.elapsed)))})))};Rt.propTypes={selectedId:q.a.number,qp:q.a.object,jobType:q.a.string,handleCloseBtn:q.a.func,isOpen:q.a.bool,handleModal:q.a.func};var Mt=Rt;function Pt(){var t=tt()(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]);return Pt=function(){return t},t}function Nt(){var t=tt()(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  padding: 0 15px 10px 15px;\n  justify-content: center;\n  align-items: center;\n"]);return Nt=function(){return t},t}function Wt(){var t=tt()(["\n  --pf-c-data-list__cell-cell--MarginRight: 0;\n"]);return Wt=function(){return t},t}var qt=Object(et.a)(it.DataListCell)(Wt()),Ut=Object(et.a)(rt.DataListItem)(Nt()),Ht=Object(et.a)(qt)(Pt()),Yt=function(t){var e=t.templates,a=t.isLoading,n=t.qp,r=t.title,i=t.jobType,o=Object(p.useState)(null),l=m()(o,2),s=l[0],c=l[1],u=Object(p.useState)(!1),d=m()(u,2),h=d[0],b=d[1];return f.a.createElement(f.a.Fragment,null,f.a.createElement(nt.DataList,{"aria-label":"Top Templates",style:{maxHeight:"400px",overflow:"auto",height:"400px",background:"white"}},f.a.createElement(Ut,{"aria-labelledby":"top-templates-header"},f.a.createElement(qt,null,f.a.createElement("h3",null,r)),f.a.createElement(Ht,null,f.a.createElement("h3",null,"Usage"))),a&&f.a.createElement(rt.DataListItem,{"aria-labelledby":"templates-loading",key:a,style:{border:"none"}},f.a.createElement(it.DataListCell,null,f.a.createElement(g.a,null))),!a&&e.length<=0&&f.a.createElement(rt.DataListItem,{"aria-labelledby":"templates-no-data",key:a,style:{border:"none"}},f.a.createElement(it.DataListCell,null,f.a.createElement(at.a,null))),!a&&e.map(function(t,e){var a=t.name,n=t.total_count,r=t.id;return f.a.createElement(Ut,{"aria-labelledby":"top-templates-detail",key:e},f.a.createElement(qt,null,f.a.createElement("a",{onClick:function(){b(!0),c(r)}},a)),f.a.createElement(Ht,null,n))})),f.a.createElement(Mt,{isOpen:h,handleModal:b,selectedId:s,qp:n,jobType:i,handleCloseBtn:c}))};Yt.propTypes={templates:q.a.array,isLoading:q.a.bool,queryParams:q.a.object,title:q.a.string};var Jt=Yt,Vt=a(142),Gt=a(139),Kt={group_by:"template",limit:10,job_type:["job"],group_by_time:!1,status:["successful","failed"]},$t={group_by:"template",limit:10,job_type:["workflowjob"],group_by_time:!1,status:["successful","failed"]},Xt={group_by:"module",sort_by:"host_task_count:desc",limit:10};e.default=function(){var t=Object(p.useState)(null),e=m()(t,2),a=e[0],n=e[1],i=Object(h.a)(s()({},y.a.defaultParams)),l=i.queryParams,c=i.setFromToolbar,d=Object(E.a)({items:[]}),k=m()(d,2),O=k[0],S=O.isLoading,C=O.isSuccess,B=O.error,L=O.data.items,D=void 0===L?[]:L,I=k[1],A=Object(E.a)({items:[]}),F=m()(A,2),z=F[0].data.items,R=void 0===z?[]:z,M=F[1],P=Object(E.a)({items:[]}),N=m()(P,2),W=N[0].data.items,q=void 0===W?[]:W,U=N[1],H=Object(E.a)({items:[]}),Y=m()(H,2),J=Y[0].data.items,V=void 0===J?[]:J,G=Y[1],K=Object(E.a)({},function(t){return t.groupBy,t.attributes,u()(t,["groupBy","attributes"])}),X=m()(K,2),Z=X[0].data,tt=void 0===Z?[]:Z,et=X[1],at={attributes:y.b.attributes},nt=Object(h.a)(at).queryParams,rt=l.cluster_id,it=l.org_id,ot=l.template_id,lt=l.quick_date_range,st=l.start_date,ct=l.end_date,ut=s()({cluster_id:rt,org_id:it,template_id:ot,quick_date_range:lt,start_date:st,end_date:ct},Kt),dt=s()({cluster_id:rt,org_id:it,template_id:ot,quick_date_range:lt,start_date:st,end_date:ct},$t),mt=s()({cluster_id:rt,org_id:it,template_id:ot,quick_date_range:lt,start_date:st,end_date:ct},Xt);return Object(p.useEffect)(function(){function t(){return(t=o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.insights.chrome.auth.getUser();case 2:return t.next=4,Object(v.a)().catch(function(t){n({preflightError:t})});case 4:et(Object(v.c)({params:nt}));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[]),Object(p.useEffect)(function(){I(Object(v.g)({params:l})),M(Object(v.g)({params:ut})),U(Object(v.g)({params:dt})),G(Object(v.d)({params:mt}))},[l]),f.a.createElement(f.a.Fragment,null,f.a.createElement(j.PageHeader,null,f.a.createElement(j.PageHeaderTitle,{title:"Clusters"}),f.a.createElement(Vt.a,{categories:tt,filters:l,setFilters:c})),a&&f.a.createElement(x.Main,null,f.a.createElement(b.a,a)),B&&f.a.createElement(x.Main,null,f.a.createElement(Gt.a,{message:B.error})),!a&&!B&&f.a.createElement(f.a.Fragment,null,f.a.createElement(x.Main,null,f.a.createElement(_.Card,null,f.a.createElement(w.CardTitle,null,f.a.createElement("h2",null,"Job status")),f.a.createElement(T.CardBody,null,S&&f.a.createElement(g.a,null),l.cluster_id.length<=0&&C&&f.a.createElement($,{margin:{top:20,right:20,bottom:50,left:70},id:"d3-bar-chart-root",data:D,templateId:l.template_id,orgId:l.org_id}),l.cluster_id.length>0&&C&&f.a.createElement(Q,{margin:{top:20,right:20,bottom:50,left:70},id:"d3-line-chart-root",data:D,clusterId:l.cluster_id,templateId:l.template_id,orgId:l.org_id}))),f.a.createElement("div",{className:"dataCard",style:{display:"flex",marginTop:"20px"}},f.a.createElement(Jt,{qp:l,templates:q,isLoading:S,title:"Top workflows",jobType:"workflowjob"}),f.a.createElement(Jt,{qp:l,templates:R,isLoading:S,title:"Top templates",jobType:"job"}),f.a.createElement(pt,{modules:V,isLoading:S})))))}},552:function(t,e,a){"use strict";a.r(e);var n=a(76),r=a.n(n),i=a(94),o=a.n(i),l=a(78),s=a.n(l),c=a(0),u=a.n(c),d=a(1),m=a.n(d),p=a(79),f=a(70),h=a(68),g=a(87),b=a(88),v=a(83),y=a(116),E=a(109),x=a(139),j=a(142),_=a(101),T=a(107),w=a(114),k=a(113),O=a(342),S=a(82),C=a(26),B=a.n(C),L=a(27),D=a.n(L),I=a(45),A=a.n(I),F=a(28),z=a.n(F),R=a(22),M=a.n(R),P=a(23),N=a.n(P),W=a(98),q=a.n(W),U=a(89),H=a(115),Y=function(){function t(e){var a=this;M()(this,t),q()(this,"handleMouseOver",function(t){var e,n,r,i,o=U.r("#d3-roi-chart-root").node().scrollLeft,l=U.f.pageX-U.r(a.svg).node().getBoundingClientRect().x+10+o,s=U.f.pageY-U.r(a.svg).node().getBoundingClientRect().y-30;if(t){n=a.formatDollars(t.delta),e=t.name,r=a.formatDollars(t.manualCost),i=a.formatDollars(t.automatedCost);var c=a.toolTipBase.node().getBoundingClientRect().width,u=U.r(a.svg+"> svg").node().getBoundingClientRect().width,d=100-c/u*100<l/u*100;a.name.text(""+e),a.savings.text("Total savings $"+n),a.manualCost.text("Manual Cost $"+r),a.automationCost.text("Automation Cost $"+i),a.nameWidth=a.name.node().getComputedTextLength(),a.savingsWidth=a.savings.node().getComputedTextLength(),a.manualCostWidth=a.manualCost.node().getComputedTextLength(),a.automationCostWidth=a.automationCost.node().getComputedTextLength(),a.widestTextElem=U.k([a.nameWidth,a.savingsWidth,a.automationCostWidth,a.manualCostWidth]);var m,p=a.widestTextElem/a.boxWidth*100,f=p/85;m=p>85?a.boxWidth*f:a.boxWidth,a.boundingBox.attr("width",m),a.toolTipBase.attr("transform","translate("+l+","+s+")"),d?(a.toolTipPoint.attr("transform","translate(-20, 15) rotate(45)"),a.boundingBox.attr("x",-m-20),a.name.attr("x",-(c-7)),a.savings.attr("x",-(c-7)),a.manualCost.attr("x",-(c-7)),a.automationCost.attr("x",-(c-7))):(a.toolTipPoint.attr("transform","translate(10, 15) rotate(45)"),a.boundingBox.attr("x",10),a.name.attr("x",20),a.savings.attr("x",20),a.manualCost.attr("x",20),a.automationCost.attr("x",20)),a.toolTipBase.style("opacity",1),a.toolTipBase.interrupt()}}),q()(this,"handleMouseOut",function(){a.toolTipBase.transition().delay(15).style("opacity",0).style("pointer-events","none")}),this.svg=e.svg,this.draw()}return N()(t,[{key:"formatDollars",value:function(t){return parseFloat(t).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"draw",value:function(){this.width=125,this.toolTipBase=U.r(this.svg+"> svg").append("g"),this.toolTipBase.attr("id","svg-chart-Tooltip-base-"+this.svg.slice(1)),this.toolTipBase.attr("overflow","visible"),this.toolTipBase.style("opacity",0),this.toolTipBase.style("pointer-events","none"),this.toolTipBase.attr("transform","translate(100, 100)"),this.boxWidth=125,this.textWidthThreshold=20,this.toolTipPoint=this.toolTipBase.append("rect").attr("transform","translate(10, 0) rotate(45)").attr("x",0).attr("y",0).attr("height",20).attr("width",20).attr("fill","#393f44"),this.boundingBox=this.toolTipBase.append("rect").attr("x",10).attr("y",-23).attr("rx",2).attr("height",92).attr("width",this.boxWidth).attr("fill","#393f44"),this.name=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",20).attr("y",-2).text("Template name"),this.savings=this.toolTipBase.append("text").attr("x",20).attr("y",52).attr("font-size",12).attr("font-weight","bold").attr("fill","white").text("Total savings $0"),this.manualCost=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",20).attr("y",16).text("Manual cost $0"),this.automationCost=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",20).attr("y",34).text("Automation cost $0")}}]),t}(),J=function(t){function e(t){var a;return M()(this,e),(a=B()(this,D()(e).call(this,t))).init=a.init.bind(A()(a)),a.draw=a.draw.bind(A()(a)),a.resize=a.resize.bind(A()(a)),a.state={timeout:null},a}return z()(e,t),N()(e,[{key:"resize",value:function(){var t=this,e=this.state.timeout;clearTimeout(e),this.setState({timeout:setTimeout(function(){t.init()},500)})}},{key:"init",value:function(){this.draw()}},{key:"draw",value:function(){U.s("#"+this.props.id+" > *").remove();var t,e=this.props.data;e.length>=15?t=U.r(".automation-wrapper").node().getBoundingClientRect().width-this.props.margin.left-this.props.margin.right:t=this.props.getWidth();var a,n=this.props.getHeight(),r=U.n().rangeRound([0,t]).padding(.45),i=U.o().range([n,0]);a=e.map(function(t){return t.name});var o=U.h(".2s"),l=U.b(r).tickValues(a),s=U.c(i).ticks(8).tickFormat(function(t){return o(t).replace("G","B")}).tickSize(-t,0,0),c=U.r("#"+this.props.id).append("svg").attr("width",t+this.props.margin.left+this.props.margin.right).attr("height",n+this.props.margin.bottom+this.props.margin.top).append("g").attr("transform","translate("+this.props.margin.left+","+this.props.margin.top+")"),u=e.map(function(t){return t.name}),d=new Y({svg:"#"+this.props.id});r.domain(u),i.domain([0,U.k(e,function(t){return 1.15*t.delta})||8]),c.append("g").attr("class","y axis").call(s).selectAll("line").attr("stroke","#d7d7d7").append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").style("font-weight","bold").text("Value"),c.append("text").attr("transform","rotate(-90)").attr("y",0-this.props.margin.left).attr("x",0-n/2).attr("dy","1em").style("text-anchor","middle").text("Savings per template ($)"),c.append("g").attr("class","x-axis").attr("transform","translate(0,"+n+")").call(l).selectAll("text").style("text-anchor","start").attr("dx","0.75em").attr("dy",-r.bandwidth()/1.45-8).attr("transform","rotate(-90)"),c.selectAll(".x-axis line").attr("stroke","transparent"),c.selectAll(".bar").data(e).enter().append("rect").attr("x",function(t){return r(t.name)}).attr("width",r.bandwidth()).attr("y",function(t){return i(t.delta)}).style("fill",function(){return"#0066CC"}).attr("height",function(t){return n-i(t.delta)}).on("mouseover",function(t){U.r(this).style("fill",U.m("#0066CC").darker(1)),d.handleMouseOver(t)}).on("mousemove",d.handleMouseOver).on("mouseout",function(){U.r(this).style("fill","#0066CC"),d.handleMouseOut()})}},{key:"componentDidMount",value:function(){this.init(),window.addEventListener("resize",this.resize)}},{key:"componentWillUnmount",value:function(){var t=this.state.timeout;clearTimeout(t),window.removeEventListener("resize",this.resize)}},{key:"componentDidUpdate",value:function(){this.init()}},{key:"render",value:function(){return u.a.createElement("div",{id:this.props.id})}}]),e}(c.Component);J.propTypes={id:m.a.string,data:m.a.array,margin:m.a.object,getHeight:m.a.func,getWidth:m.a.func};var V=Object(H.a)(J),G=a(106);function K(){var t=s()(["\n  border-bottom: 1px solid #d7d7d7;\n  margin-bottom: 10px;\n"]);return K=function(){return t},t}var $=Object(p.a)(G.CardTitle)(K()),X=a(69),Q=function(t){var e=t.totalSavings,a=void 0===e?0:e;return u.a.createElement(g.Card,{style:{borderTop:"3px solid #2B9AF3"}},u.a.createElement(G.CardTitle,{style:{paddingBottom:"0"}},"Total savings"),u.a.createElement(b.CardBody,null,u.a.createElement(X.Title,{headingLevel:"h3",size:"4xl",style:{color:"var(--pf-global--success-color--200)"}},function(t){return t.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}(a))))};Q.propTypes={totalSavings:m.a.number};var Z=Q,tt=a(176),et=a(348),at=a(137),nt=a(522),rt=a.n(nt);function it(){var t=s()(["\n  flex: 1;\n"]);return it=function(){return t},t}var ot=p.a.div(it()),lt=function(t){var e=parseFloat(t);return e&&e>=0?t:""},st=function(t){var e=t.costManual,a=void 0===e?"0":e,n=t.setCostManual,r=void 0===n?function(){}:n,i=t.costAutomation,o=void 0===i?"0":i,l=t.setCostAutomation,s=void 0===l?function(){}:l;return u.a.createElement(g.Card,null,u.a.createElement($,null,"Calculate your automation"),u.a.createElement(b.CardBody,null,u.a.createElement(ot,null,u.a.createElement("p",null,"Manual cost of automation"),u.a.createElement("em",{style:{color:"var(--pf-global--Color--dark-200)"}},"(e.g. average salary of mid-level Software Engineer)"),u.a.createElement(tt.InputGroup,{style:{width:"50%"}},u.a.createElement(et.InputGroupText,null,u.a.createElement(rt.a,null)),u.a.createElement(at.TextInput,{id:"manual-cost",type:"number","aria-label":"manual-cost",value:a,onChange:function(t){return r(lt(t))}}),u.a.createElement(et.InputGroupText,null,"/hr"))),u.a.createElement(ot,{style:{paddingTop:"10px"}},u.a.createElement("p",null,"Automated process cost"),u.a.createElement(tt.InputGroup,{style:{width:"50%"}},u.a.createElement(et.InputGroupText,null,u.a.createElement(rt.a,null)),u.a.createElement(at.TextInput,{id:"automation-cost",type:"number","aria-label":"automation-cost",value:o,onChange:function(t){return s(lt(t))}}),u.a.createElement(et.InputGroupText,null,"/hr")))))};st.propTypes={costManual:m.a.string,setCostManual:m.a.func,costAutomation:m.a.string,setCostAutomation:m.a.func};var ct=st,ut=function(){return u.a.createElement(g.Card,{style:{height:"100%"}},u.a.createElement($,null,"Automation formula"),u.a.createElement(b.CardBody,null,u.a.createElement("p",null,u.a.createElement("b",null,"Manual cost for template x")," =",u.a.createElement("em",null,"(time for a manual run on one host in hours * (sum of all hosts across all job runs) ) * cost per hour")),u.a.createElement("p",null,u.a.createElement("b",null,"Automation cost for template x")," =",u.a.createElement("em",null,"cost of automation per hour * sum of total elapsed hours for a template")),u.a.createElement("p",null,u.a.createElement("b",null,"Savings")," =",u.a.createElement("em",null,"Sum of (manual cost - automation cost) across all templates"))))},dt=a(110),mt=a(132),pt=a(523),ft=a(534),ht=a.n(ft),gt=a(536),bt=a.n(gt),vt=a(535),yt=a.n(vt);function Et(){var t=s()(["\n  flex: 1;\n"]);return Et=function(){return t},t}function xt(){var t=s()(["\n  & svg {\n    fill: var(--pf-global--Color--dark-200);\n\n    :hover {\n      cursor: pointer;\n    }\n\n    :first-of-type {\n      margin-right: 10px;\n      margin-left: 10px;\n\n      @media (max-width: 1350px) {\n        margin-left: 0;\n      }\n    }\n  }\n"]);return xt=function(){return t},t}function jt(){var t=s()(["\n  p {\n    text-align: left;\n  }\n"]);return jt=function(){return t},t}function _t(){var t=s()(["\n  color: var(--pf-global--Color--dark-200);\n"]);return _t=function(){return t},t}function Tt(){var t=s()(["\n  em {\n    display: block;\n    padding: 5px 0;\n  }\n\n  @media (max-width: 1490px) {\n    display: block;\n\n    em {\n      padding: 10px 0;\n      display: block;\n    }\n  }\n"]);return Tt=function(){return t},t}var wt=p.a.div(Tt()),kt=p.a.em(_t()),Ot=p.a.div(jt()),St=p.a.div(xt()),Ct=p.a.div(Et()),Bt=function(t){var e=t.details;return u.a.createElement(pt.Popover,{"aria-label":"template detail popover",position:"left",bodyContent:u.a.createElement(Ot,null,Object.keys(e).map(function(t,a){return u.a.createElement("p",{key:a},u.a.createElement("b",null,Object(S.b)(t.split("_").join(" "))),": ",e[t])}))},u.a.createElement(ht.a,null))};Bt.propTypes={details:m.a.object};var Lt=function(t){var e=t.data,a=void 0===e?[]:e,n=t.sortBy,r=void 0===n?"":n,i=t.setDataRunTime,o=void 0===i?function(){}:i,l=t.setEnabled,s=void 0===l?function(){}:l,c=t.redirectToJobExplorer,d=void 0===c?function(){}:c;return u.a.createElement(g.Card,{style:{overflow:"auto",flex:"1 1 0"},className:"top-templates"},u.a.createElement(b.CardBody,null,u.a.createElement("p",null,"Enter the time it takes to run the following templates manually."),a.map(function(t){return u.a.createElement("div",{key:t.id},u.a.createElement(mt.Tooltip,{content:"List of jobs for this template for past 30 days"},u.a.createElement(dt.Button,{style:{padding:"15px 0 10px"},component:"a",onClick:function(){return d(t.id)},variant:"link"},t.name)),u.a.createElement(wt,null,u.a.createElement(Ct,{key:t.id},u.a.createElement(tt.InputGroup,null,u.a.createElement(at.TextInput,{id:t.id,type:"number","aria-label":"time run manually",value:Object(S.e)(t.avgRunTime),onChange:function(e){return o(Object(S.c)(e),t.id)}}),u.a.createElement(et.InputGroupText,null,"min"))),u.a.createElement(kt,null,"x ",t.successful_hosts_total," host runs"),function(t,e){var a=e.split(":")[0],n=Object.keys(t).map(function(e){return e===a?"".concat(t[e]):null});return u.a.createElement(kt,null,Object(S.b)(a.split("_").join(" ")),": ",n)}(t,r),u.a.createElement(St,null,u.a.createElement(Bt,{details:t}),!t.enabled&&u.a.createElement(yt.a,{onClick:function(){return s(t.id)(!0)}}),t.enabled&&u.a.createElement(bt.a,{onClick:function(){return s(t.id)(!1)}}))),u.a.createElement("p",{style:{color:"#486B00"}},"$",t.delta.toFixed(2)))})))};Lt.propTypes={data:m.a.array,setDataRunTime:m.a.func,redirectToJobExplorer:m.a.func,deselectedIds:m.a.array,setDeselectedIds:m.a.func,setEnabled:m.a.func,sortBy:m.a.string};var Dt=Lt;function It(){var t=s()(["\n  flex: 2;\n  display: flex;\n  flex-direction: column;\n"]);return It=function(){return t},t}function At(){var t=s()(["\n  flex: 5;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n"]);return At=function(){return t},t}function Ft(){var t=s()(["\n  display: grid;\n  grid-template-columns: 5fr 2fr;\n  height: 100%;\n"]);return Ft=function(){return t},t}var zt=p.a.div(Ft()),Rt=p.a.div(At()),Mt=p.a.div(It()),Pt=function(t){return t.filter(function(t){return t.enabled})},Nt=function(t,e,a){return t.map(function(t){var n=Object(S.d)(t.avgRunTime)*t.successful_hosts_total*parseFloat(a),r=Object(S.d)(t.successful_elapsed_total)*parseFloat(e),i=Object(S.a)(r,n);return o()({},t,{delta:i,manualCost:n,automatedCost:r})})},Wt=function(t){var e=t.history,a=Object(O.a)(e,"jobExplorer"),n=Object(c.useState)("50"),i=r()(n,2),l=i[0],s=i[1],d=Object(c.useState)("20"),m=r()(d,2),p=m[0],S=m[1],C=Object(w.a)(null),B=r()(C,2),L=B[0],D=B[1],I=Object(w.a)({}),A=r()(I,2),F=A[0],z=A[1],R=Object(w.a)([],function(t){return Nt(function(t){var e=t.items;return(void 0===e?[]:e).map(function(t){return o()({},t,{delta:0,avgRunTime:3600,manualCost:0,automatedCost:0,enabled:!0})})}(t),p,l)}),M=r()(R,3),P=M[0],N=M[1],W=M[2],q=Object(T.a)(k.d.defaultParams),U=q.queryParams,H=q.setFromToolbar,Y=function(t,e){var a=P.data.map(function(a){return a.id===e?(a.avgRunTime=t,Nt([a],p,l)[0]):a});W(a)},J=function(t){return function(e){W(P.data.map(function(a){return a.id===t?o()({},a,{enabled:e}):a}))}};Object(c.useEffect)(function(){D(Object(_.a)()),z(Object(_.n)({params:U}))},[]),Object(c.useEffect)(function(){W(Nt(P.data,p,l))},[p,l]),Object(c.useEffect)(function(){N(Object(_.m)({params:U}))},[U]);var G=function(t){a({quick_date_range:"last_30_days",template_id:[t]})};return u.a.createElement(u.a.Fragment,null,u.a.createElement(h.PageHeader,{style:{flex:"0"}},u.a.createElement(h.PageHeaderTitle,{title:"Automation Calculator"}),u.a.createElement(j.a,{categories:F.data,filters:U,setFilters:H})),L.error&&u.a.createElement(f.Main,null,u.a.createElement(E.a,{preflightError:L.error})),L.isSuccess&&u.a.createElement(u.a.Fragment,null,u.a.createElement(zt,{className:"automation-wrapper"},u.a.createElement(Rt,null,u.a.createElement(f.Main,{style:{paddingBottom:"0"}},u.a.createElement(g.Card,null,u.a.createElement($,null,"Automation savings"),u.a.createElement(b.CardBody,null,P.isLoading&&u.a.createElement(v.a,null),P.error&&u.a.createElement(x.a,{message:P.error.error}),P.isSuccess&&P.data.length<=0&&u.a.createElement(y.a,null),P.isSuccess&&P.data.length>0&&u.a.createElement(u.a.Fragment,null,u.a.createElement(V,{margin:{top:20,right:20,bottom:20,left:70},id:"d3-roi-chart-root",data:Pt(P.data)}),u.a.createElement("p",{style:{textAlign:"center"}},"Templates"))))),u.a.createElement(f.Main,null,u.a.createElement(ut,null))),u.a.createElement(Mt,null,u.a.createElement(f.Main,{style:{paddingBottom:"0",paddingLeft:"0"}},u.a.createElement(Z,{totalSavings:function(t){return t.reduce(function(t,e){return t+e.delta},0)}(Pt(P.data))})),u.a.createElement(f.Main,{style:{display:"flex",flexDirection:"column",flex:"1 1 0",paddingLeft:"0"}},u.a.createElement(ct,{costManual:l,setCostManual:s,costAutomation:p,setCostAutomation:S}),u.a.createElement(Dt,{redirectToJobExplorer:G,data:P.data,setDataRunTime:Y,setUnfilteredData:P.data,setEnabled:J,sortBy:U.sort_by}))))))};Wt.propTypes={history:m.a.object};e.default=Wt},553:function(t,e,a){"use strict";a.r(e);var n=a(76),r=a.n(n),i=a(25),o=a.n(i),l=a(94),s=a.n(l),c=a(0),u=a.n(c),d=a(1),m=a.n(d),p=a(102),f=a(107),h=a(114),g=a(7),b=a(83),v=a(109),y=a(69),E=a(84),x=a(108),j=a(124),_=a(537),T=a.n(_),w=function(){return u.a.createElement(E.EmptyState,{variant:E.EmptyStateVariant.full},u.a.createElement(x.EmptyStateIcon,{icon:T.a}),u.a.createElement(y.Title,{size:"lg",headingLevel:"h4"},"No results found"),u.a.createElement(j.EmptyStateBody,null,"No results match the filter criteria. Remove all filters or clear all filters to show results."))},k=a(139),O=a(101),S=a(113),C=a(70),B=a(68),L=a(87),D=a(88),I=a(141),A=a(138),F=a.n(A),z=a(78),R=a.n(z),M=a(79),P=a(133),N=a(545),W=a(117),q=a(134),U=a(544),H=a(542),Y=a(543),J=a(132),V=a(345),G=a.n(V),K=a(82),$=a(336),X=a(538),Q=a.n(X),Z=a(341),tt=a.n(Z),et=a(541),at=a.n(et),nt=a(539),rt=a.n(nt),it=a(540),ot=a.n(it),lt=function(t){var e=t.status;return u.a.createElement($.Label,{variant:"outline",color:function(){switch(e){case"successful":return"green";case"failed":case"error":return"red";case"running":case"pending":return"blue";case"canceled":return"orange";default:return"grey"}}(),icon:function(){switch(e){case"successful":return u.a.createElement(Q.a,null);case"failed":case"error":return u.a.createElement(tt.a,null);case"running":return u.a.createElement(rt.a,null);case"canceled":return u.a.createElement(ot.a,null);default:return u.a.createElement(at.a,null)}}()},function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(e))};lt.propTypes={status:m.a.oneOf(["successful","failed","error","running","new","waiting","pending","canceled"])};var st=lt;function ct(){var t=R()(["\n  align-items: center;\n"]);return ct=function(){return t},t}function ut(){var t=R()(["\n  align-items: center;\n"]);return ut=function(){return t},t}function dt(){var t=R()(["\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  font-weight: bold;\n"]);return dt=function(){return t},t}function mt(){var t=R()(["\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  text-align: center;\n"]);return mt=function(){return t},t}function pt(){var t=R()(["\n  margin-left: 7px;\n  color: var(--pf-global--Color--400);\n"]);return pt=function(){return t},t}var ft=["Id/Name","Status","Cluster","Organization","Type"],ht=Object(M.a)(G.a)(pt()),gt=Object(M.a)(P.DataListCell)(mt()),bt=Object(M.a)(gt)(dt()),vt=Object(M.a)(H.DataListItemCells)(ut()),yt=Object(M.a)(Y.DataListToggle)(ct()),Et=function(t,e,a,n){var i=Object(c.useState)([]),o=r()(i,2),l=o[0],s=o[1];return u.a.createElement(u.a.Fragment,null,t.map(function(t,e){return u.a.createElement(q.DataListItem,{key:t.id.id,"aria-labelledby":a,isExpanded:l.includes("".concat(t.id.id,"-toggle"))},u.a.createElement(U.DataListItemRow,{key:t.id.id},u.a.createElement(yt,{id:"".concat(t.id.id,"-toggle"),"aria-controls":"".concat(t.id.id,"-expand"),onClick:function(){return function(t){var e=l,a=e.indexOf(t),n=a>=0?[].concat(F()(e.slice(0,a)),F()(e.slice(a+1,e.length))):[].concat(F()(e),[t]);s(n)}("".concat(t.id.id,"-toggle"))},isExpanded:l.includes("".concat(t.id.id,"-toggle"))}),u.a.createElement(vt,{dataListCells:[u.a.createElement(gt,{key:e++},u.a.createElement("a",{href:t.id.tower_link,target:"_blank",rel:"noopener noreferrer"},n<765&&u.a.createElement("span",{style:{color:"initial",fontWeight:"bold"}},"Id/Name",u.a.createElement(ht,null),":")," ","".concat(t.id.id," - ").concat(t.id.template_name))),u.a.createElement(gt,{key:e++},n<=765&&u.a.createElement("span",{style:{color:"initial",fontWeight:"bold"}},"Status:")," ",u.a.createElement(st,{status:t.status})),u.a.createElement(J.Tooltip,{key:e++,content:u.a.createElement("p",null,t.cluster_name)},u.a.createElement(gt,null,n<=765&&u.a.createElement("span",{style:{color:"initial",fontWeight:"bold"}},"Cluster:")," ",t.cluster_name)),u.a.createElement(gt,{key:e++},n<=765&&u.a.createElement("span",{style:{color:"initial",fontWeight:"bold"}},"Organization:")," ",t.org_name),u.a.createElement(gt,{key:e++},n<=765&&u.a.createElement("span",{style:{color:"initial",fontWeight:"bold"}},"Type:")," ",Object(K.h)(t.job_type))]})),u.a.createElement(N.DataListContent,{"aria-label":"".concat(t.id.id,"-details"),id:"${item.id.id}",isHidden:!l.includes("".concat(t.id.id,"-toggle"))},u.a.createElement(vt,{dataListCells:[u.a.createElement(gt,{key:e++},"Created: ",Object(K.g)(t.created)),u.a.createElement(gt,{key:e++},"Started: ",Object(K.g)(t.started)),u.a.createElement(gt,{key:e++},"Finished: ",Object(K.g)(t.finished))]})))}))},xt=function(t){var e=t.jobs,a=Object(c.useState)(window.innerWidth),n=r()(a,2),i=n[0],o=n[1],l=function(){return o(window.innerWidth)};return Object(c.useEffect)(function(){return window.addEventListener("resize",l),function(){return window.removeEventListener("resize",l)}},[]),Et(e,0,"all-jobs",i)},jt=function(t){var e=t.jobs,a=Object(c.useState)(window.innerWidth),n=r()(a,2),i=n[0],o=n[1],l=function(){return o(window.innerWidth)};return Object(c.useEffect)(function(){return window.addEventListener("resize",l),function(){return window.removeEventListener("resize",l)}},[]),u.a.createElement(u.a.Fragment,null,e.length<=0&&u.a.createElement(b.a,null),u.a.createElement(W.DataList,{isCompact:!0},i>=765&&function(t){return u.a.createElement(q.DataListItem,null,u.a.createElement(U.DataListItemRow,{style:{paddingLeft:"80px"}},u.a.createElement(vt,{dataListCells:t.map(function(t){return u.a.createElement(bt,{key:t},t,"Id/Name"===t&&u.a.createElement(ht,null))})})))}(ft),u.a.createElement(xt,{jobs:e,windowWidth:i})))};jt.propTypes={jobs:m.a.array,windowWidth:m.a.number},xt.propTypes={jobs:m.a.array,windowWidth:m.a.number};var _t=jt,Tt=a(142),wt=[{title:"5",value:5},{title:"10",value:10},{title:"15",value:15},{title:"20",value:20},{title:"25",value:25}],kt=s()({},S.b.defaultParams,{attributes:S.b.attributes}),Ot=function(t){t.groupBy,t.attributes;return o()(t,["groupBy","attributes"])},St=function(t){var e=t.location.search,a=t.history,n=Object(c.useState)(null),i=r()(n,2),o=i[0],l=i[1],d=Object(h.a)({meta:{},items:[]}),m=r()(d,2),y=m[0],E=y.isLoading,x=y.isSuccess,j=y.error,_=y.data,T=_.meta,S=void 0===T?{}:T,A=_.items,F=void 0===A?[]:A,z=m[1],R=Object(c.useState)(1),M=r()(R,2),P=M[0],N=M[1],W=Object(h.a)({},Ot),q=r()(W,2),U=q[0],H=q[1],Y=Object(f.a)(kt),J=Y.queryParams,V=Y.setLimit,G=Y.setOffset,K=Y.setFromToolbar,$=Y.dispatch;Object(c.useEffect)(function(){insights.chrome.appNavClick({id:"job-explorer",secondaryNav:!0}),window.insights.chrome.auth.getUser().then(function(){return Object(O.a)().catch(function(t){l({preflightError:t})})});var t=Object(p.parse)(e,{arrayFormat:"bracket",parseBooleans:!0});$({type:"REINITIALIZE",value:s()({},kt,t)})},[]),Object(c.useEffect)(function(){z(Object(O.g)({params:J})),H(Object(O.h)({params:J})),function(){var t=g.a.jobExplorer,e=Object(p.stringify)(J,{arrayFormat:"bracket"});a.replace({pathname:t,search:e})}()},[J]);var X=function(t){return(t-1)*J.limit},Q=function(t){var e=X(t);G(e),N(t)},Z=function(t,e){V(t);var a=X(e);G(a),N(e)};return u.a.createElement(u.a.Fragment,null,u.a.createElement(B.PageHeader,null,u.a.createElement(B.PageHeaderTitle,{title:"Job Explorer"})),o&&u.a.createElement(C.Main,null,u.a.createElement(v.a,o)),!o&&u.a.createElement(C.Main,null,u.a.createElement(L.Card,null,u.a.createElement(D.CardBody,null,u.a.createElement(Tt.a,{categories:U.data,filters:J,setFilters:K,pagination:u.a.createElement(I.Pagination,{itemCount:S&&S.count?S.count:0,widgetId:"pagination-options-menu-top",perPageOptions:wt,perPage:J.limit,page:P,variant:I.PaginationVariant.top,onPerPageSelect:function(t,e,a){Z(e,a)},onSetPage:function(t,e){Q(e)},isCompact:!0}),hasSettings:!0}),j&&u.a.createElement(k.a,{message:j.error}),E&&u.a.createElement(b.a,null),x&&F.length<=0&&u.a.createElement(w,null),x&&F.length>0&&u.a.createElement(_t,{jobs:F}),u.a.createElement(I.Pagination,{itemCount:S&&S.count?S.count:0,widgetId:"pagination-options-menu-bottom",perPageOptions:wt,perPage:J.limit,page:P,variant:I.PaginationVariant.bottom,onPerPageSelect:function(t,e,a){Z(e,a)},onSetPage:function(t,e){Q(e)},style:{marginTop:"20px"}})))))};St.propTypes={location:m.a.object,history:m.a.object};e.default=St},554:function(t,e,a){"use strict";a.r(e);var n=a(15),r=a.n(n),i=a(29),o=a.n(i),l=a(76),s=a.n(l),c=a(78),u=a.n(c),d=a(0),m=a.n(d),p=a(107),f=a(79),h=a(83),g=a(109),b=a(116),v=a(101),y=a(70),E=a(68),x=a(87),j=a(88),_=a(106),T=a(338),w=a(339),k=a(141),O=a(521),S=a(1),C=a.n(S),B=a(72),L=a.n(B),D=a(501),I=a(499),A=a(511),F=a(502),z=a(345),R=a.n(z),M=a(82);function P(){var t=u()(["\n  &:last-child {\n    border-bottom: 1px solid var(--pf-global--BorderColor--light-100);\n  }\n"]);return P=function(){return t},t}function N(){var t=u()(["\n  border-top: 1px solid var(--pf-global--BorderColor--light-100\n    );\n  border-bottom::nth-child(odd): 1px solid var(--pf-global--BorderColor--light-100\n    );\n  box-shadow: none;\n  &:focus {\n    outline: none;\n  }\n"]);return N=function(){return t},t}function W(){var t=u()(["\n  margin-left: 7px;\n  color: var(--pf-global--Color--400);\n  font-size: 14px;\n"]);return W=function(){return t},t}var q=Object(f.a)(R.a)(W()),U=Object(f.a)(I.NotificationDrawerListItem)(N()),H=Object(f.a)(D.NotificationDrawerList)(P()),Y=function(t){var e=L()(t),a=L()().utc();return a.isAfter(e)?"".concat(a.diff(e,"days")," day(s) ago."):e.isSame(a,"day")?e.valueOf()>36e5?"".concat(e.diff(a,"hours")," hour(s) ago."):"".concat(a.diff(e,"minutes")," minute(s) ago."):void 0},J=function(t){return t.notifications.map(function(t){var e=t.date,a=t.message,n=t.label,r=t.notification_id,i=t.tower_url;return""===n||"notice"===n?m.a.createElement(U,{variant:"info",key:e+"-"+r},m.a.createElement(F.NotificationDrawerListItemHeader,{variant:"info",title:m.a.createElement(m.a.Fragment,null,i?m.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:i},Object(M.b)(n),m.a.createElement(q,null)):Object(M.b)(n))}),m.a.createElement(A.NotificationDrawerListItemBody,null,a," ")):"error"===n?m.a.createElement(U,{variant:"danger",key:e+"-"+r},m.a.createElement(F.NotificationDrawerListItemHeader,{variant:"danger",title:m.a.createElement(m.a.Fragment,null,i?m.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:i},Object(M.b)(n),m.a.createElement(q,null)):Object(M.b)(n))}),m.a.createElement(A.NotificationDrawerListItemBody,{timestamp:Y(e)},a," ")):"warning"===n?m.a.createElement(U,{variant:"warning",key:e+"-"+r},m.a.createElement(F.NotificationDrawerListItemHeader,{variant:"warning",title:m.a.createElement(m.a.Fragment,null,i?m.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:i},Object(M.b)(n),m.a.createElement(q,null)):Object(M.b)(n))}),m.a.createElement(A.NotificationDrawerListItemBody,{timestamp:Y(e)},a," ")):void 0})},V=function(t){return t.notifications.filter(function(t){return"error"===t.label}).map(function(t){var e=t.message,a=t.date,n=t.label,r=t.notification_id,i=t.tower_url;return m.a.createElement(U,{variant:"danger",key:a+"-"+r},m.a.createElement(F.NotificationDrawerListItemHeader,{variant:"danger",title:m.a.createElement(m.a.Fragment,null,i?m.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:i},Object(M.b)(n),m.a.createElement(q,null)):Object(M.b)(n))}),m.a.createElement(A.NotificationDrawerListItemBody,{timestamp:Y(a)},e," "))})},G=function(t){return t.notifications.filter(function(t){return"notice"===t.label}).map(function(t){var e=t.message,a=t.date,n=t.label,r=t.notification_id,i=t.tower_url;return m.a.createElement(U,{variant:"info",key:a+"-"+r},m.a.createElement(F.NotificationDrawerListItemHeader,{variant:"info",title:m.a.createElement(m.a.Fragment,null,i?m.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:i},Object(M.b)(n),m.a.createElement(q,null)):Object(M.b)(n))}),m.a.createElement(A.NotificationDrawerListItemBody,{timestamp:Y(a)},e," "))})},K=function(t){return t.notifications.filter(function(t){return"warning"===t.label}).map(function(t){var e=t.message,a=t.date,n=t.label,r=t.notification_id,i=t.tower_url;return m.a.createElement(U,{variant:"warning",key:a+"-"+r},m.a.createElement(F.NotificationDrawerListItemHeader,{variant:"warning",title:m.a.createElement(m.a.Fragment,null,i?m.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:i},Object(M.b)(n),m.a.createElement(q,null)):Object(M.b)(n))}),m.a.createElement(A.NotificationDrawerListItemBody,{timestamp:Y(a)},e," "))})},$=function(t){var e=t.filterBy,a=t.notifications;return m.a.createElement(m.a.Fragment,null,m.a.createElement(H,null,a.length<=0&&m.a.createElement(h.a,null),""===e&&m.a.createElement(J,{notifications:a}),"notice"===e&&m.a.createElement(G,{notifications:a}),"error"===e&&m.a.createElement(V,{notifications:a}),"warning"===e&&m.a.createElement(K,{notifications:a})))};J.propTypes={notifications:C.a.array},V.propTypes={notifications:C.a.array},K.propTypes={notifications:C.a.array},$.propTypes={notifications:C.a.array,filterBy:C.a.string};var X=$;function Q(){var t=u()(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n\n  @media screen and (max-width: 1035px) {\n    display: block;\n  }\n\n  select {\n    margin: 0 10px;\n    width: 150px;\n\n    @media screen and (max-width: 1035px) {\n      margin: 10px 10px 0 0;\n    }\n\n    @media screen and (max-width: 865px) {\n      width: 100%;\n    }\n  }\n"]);return Q=function(){return t},t}function Z(){var t=u()(["\n  display: flex;\n  justify-content: space-between;\n\n  @media screen and (max-width: 1035px) {\n    display: block;\n  }\n"]);return Z=function(){return t},t}var tt=Object(f.a)(_.CardTitle)(Z()),et=f.a.div(Q()),at=[{value:"please choose",label:"Select Notification Severity",disabled:!0},{value:"error",label:"View Critical",disabled:!1},{value:"warning",label:"View Warning",disabled:!1},{value:"notice",label:"View Notice",disabled:!1},{value:"",label:"View All",disabled:!1}],nt=[{title:"5",value:5},{title:"10",value:10},{title:"20",value:20},{title:"50",value:50},{title:"100",value:100}];function rt(t){return t.reduce(function(t,e){var a=e.label,n=e.cluster_id,r=e.install_uuid;return 0===a.length?t.push({value:n,label:r,disabled:!1}):t.push({value:n,label:a,disabled:!1}),t},[{value:"please choose",label:"Select cluster",disabled:!0},{value:"",label:"All Clusters",disabled:!1},{value:-1,label:"Unassociated",disabled:!1}])}var it={limit:5,offset:0};e.default=function(){var t=Object(d.useState)(null),e=s()(t,2),a=e[0],n=e[1],i=Object(d.useState)([]),l=s()(i,2),c=l[0],u=l[1],f=Object(d.useState)([]),_=s()(f,2),S=_[0],C=_[1],B=Object(d.useState)(""),L=s()(B,2),D=L[0],I=L[1],A=Object(d.useState)(!0),F=s()(A,2),z=F[0],R=F[1],M=Object(d.useState)(!0),P=s()(M,2),N=P[0],W=P[1],q=Object(d.useState)({}),U=s()(q,2),H=U[0],Y=U[1],J=Object(d.useState)(1),V=s()(J,2),G=V[0],K=V[1],$=Object(p.a)(it),Q=$.queryParams,Z=$.setId,ot=$.setLimit,lt=$.setOffset,st=$.setSeverity;Object(d.useEffect)(function(){z||function(){var t=o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return W(!0),t.next=3,window.insights.chrome.auth.getUser();case 3:Object(v.k)({params:Q}).then(function(t){var e=t.notifications,a=void 0===e?[]:e,n=t.meta;u(a),Y(n),W(!1)});case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},[Q]),Object(d.useEffect)(function(){insights.chrome.appNavClick({id:"notifications",secondaryNav:!0});var t=!1,e=function(){return Promise.all([Object(v.b)(),Object(v.k)({params:Q})].map(function(t){return t.catch(function(){return[]})}))};function a(){return(a=o()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return W(!0),a.next=3,window.insights.chrome.auth.getUser();case 3:return a.next=5,Object(v.a)().catch(function(t){n({preflightError:t})});case 5:e().then(function(e){var a=s()(e,2),n=a[0].templates,r=void 0===n?[]:n,i=a[1],o=i.notifications,l=void 0===o?[]:o,c=i.meta;if(!t){var d=rt(r);C(d),u(l),Y(c),R(!1),W(!1)}});case 6:case"end":return a.stop()}},a)}))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return t=!0}},[]);var ct=function(t){return(t-1)*Q.limit},ut=function(t){var e=ct(t);lt(e),K(t)},dt=function(t,e){ot(t);var a=ct(e);lt(a),K(e)};return m.a.createElement(m.a.Fragment,null,m.a.createElement(E.PageHeader,null,m.a.createElement(E.PageHeaderTitle,{title:"Notifications"})),a&&m.a.createElement(y.Main,null,m.a.createElement(g.a,a)),!a&&m.a.createElement(m.a.Fragment,null,m.a.createElement(y.Main,null,m.a.createElement(x.Card,null,m.a.createElement(tt,null,m.a.createElement(et,null,m.a.createElement(T.FormSelect,{name:"selectedCluster",value:D,onChange:function(t){I(t),Z(t),lt(0),K(1)},"aria-label":"Select Cluster"},S.map(function(t,e){var a=t.value,n=t.label,r=t.disabled;return m.a.createElement(w.FormSelectOption,{isDisabled:r,key:e,value:a,label:n})})),m.a.createElement(T.FormSelect,{name:"selectedNotification",value:Q.severity||"",onChange:function(t){st(t),lt(0),K(1)},"aria-label":"Select Notification Type"},at.map(function(t,e){var a=t.disabled,n=t.value,r=t.label;return m.a.createElement(w.FormSelectOption,{isDisabled:a,key:e,value:n,label:r})}))),m.a.createElement(k.Pagination,{itemCount:H&&H.count?H.count:0,widgetId:"pagination-options-menu-top",perPageOptions:nt,perPage:Q.limit,page:G,variant:k.PaginationVariant.top,onPerPageSelect:function(t,e,a){dt(e,a)},onSetPage:function(t,e){ut(e)},isCompact:!0})),m.a.createElement(j.CardBody,null,N&&m.a.createElement(h.a,null),!N&&c.length<=0&&m.a.createElement(b.a,null),!N&&c.length>0&&m.a.createElement(O.NotificationDrawer,null,m.a.createElement(X,{filterBy:Q.severity||"",options:at,notifications:c})),m.a.createElement(k.Pagination,{itemCount:H&&H.count?H.count:0,widgetId:"pagination-options-menu-bottom",perPageOptions:nt,perPage:Q.limit,page:G,variant:k.PaginationVariant.bottom,onPerPageSelect:function(t,e,a){dt(e,a)},onSetPage:function(t,e){ut(e)},style:{marginTop:"20px"}}))))))}},82:function(t,e,a){"use strict";a.d(e,"k",function(){return o}),a.d(e,"g",function(){return l}),a.d(e,"f",function(){return s}),a.d(e,"i",function(){return c}),a.d(e,"j",function(){return u}),a.d(e,"b",function(){return d}),a.d(e,"a",function(){return m}),a.d(e,"e",function(){return p}),a.d(e,"c",function(){return f}),a.d(e,"d",function(){return h}),a.d(e,"h",function(){return g});var n=a(72),r=a.n(n);function i(t){return 0===t||"0"===t||(!!parseInt(t)||!!parseFloat(t))}function o(t){return t.toString().replace(/['"]+/g,"")}function l(t){return r()(new Date(t).toISOString()).format("M/D/YYYY h:mm:ssa")}function s(t){return r()(t).format("YYYY-MM-DD")}function c(t){return r()().startOf("day").seconds(t).format("H:mm:ss")}function u(t){if(t){var e=0;return t.forEach(function(t){e+=parseInt(t.count)}),e}}var d=function(t){return"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1)};function m(t,e){return i(t)&&i(e)?e-t<0?0:e-t:0}function p(t){return parseInt(t)?t/60:0}function f(t){return!parseInt(t)||parseInt(t)<0?0:60*+parseInt(t)}function h(t){return parseInt(t)?t/3600:0}function g(t){return"job"===t?"Playbook run":"Workflow job"}},83:function(t,e,a){"use strict";var n=a(0),r=a.n(n),i=a(69),o=a(84),l=a(108),s=a(124),c=a(316),u=a.n(c);e.a=function(){return r.a.createElement(o.EmptyState,{variant:o.EmptyStateVariant.full},r.a.createElement(l.EmptyStateIcon,{icon:u.a}),r.a.createElement(i.Title,{headingLevel:"h5",size:"lg"},"Loading..."),r.a.createElement(s.EmptyStateBody,null,"Please wait."))}}}]);
//# sourceMappingURL=automation_analytics.2637709019588b702c2c.js.map