"use strict";(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[933],{63357:(t,e,n)=>{n.d(e,{Z:()=>Z});var r=n(92950),o=n.n(r),a=n(334),i=n(87462),s=n(45987),u=n(45697),c=n.n(u),l=n(15861),f=n(15671),d=n(43144),p=n(60136),h=n(6215),m=n(61120),y=n(87757),v=n.n(y);function _(t){var e=function(e){(0,p.Z)(s,e);var n,r,a,i=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,m.Z)(r);if(a){var n=(0,m.Z)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,h.Z)(this,t)});function s(t){var e;return(0,f.Z)(this,s),(e=i.call(this,t)).state={component:null},e}return(0,d.Z)(s,[{key:"componentDidMount",value:(n=(0,l.Z)(v().mark((function e(){var n,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:n=e.sent,r=n.default,this.setState({component:r});case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var t=this.state.component;return t?o().createElement(t,this.props):o().createElement("div",null,"Loading...")}}]),s}(r.Component);return e}var g=n(20806),w=n(46336),b=["component","rootClass"],E={clusters:_((function(){return Promise.all([n.e(410),n.e(252),n.e(736),n.e(687),n.e(158),n.e(61),n.e(474),n.e(550),n.e(647),n.e(986),n.e(592),n.e(837)]).then(n.bind(n,69837))})),organizationStatistics:_((function(){return Promise.all([n.e(410),n.e(252),n.e(736),n.e(687),n.e(158),n.e(61),n.e(474),n.e(986),n.e(115),n.e(30),n.e(46)]).then(n.bind(n,87046))})),notifications:_((function(){return Promise.all([n.e(410),n.e(252),n.e(736),n.e(687),n.e(61),n.e(613),n.e(173)]).then(n.bind(n,19173))})),automationCalculator:_((function(){return Promise.all([n.e(410),n.e(252),n.e(736),n.e(687),n.e(158),n.e(61),n.e(474),n.e(986),n.e(354),n.e(115),n.e(859)]).then(n.bind(n,1859))})),jobExplorer:_((function(){return Promise.all([n.e(410),n.e(252),n.e(736),n.e(687),n.e(158),n.e(474),n.e(613),n.e(550),n.e(647),n.e(592),n.e(674)]).then(n.bind(n,23674))})),savingsPlanner:_((function(){return Promise.all([n.e(410),n.e(252),n.e(736),n.e(687),n.e(158),n.e(474),n.e(613),n.e(550),n.e(647),n.e(354),n.e(277),n.e(558)]).then(n.bind(n,53558))})),reports:_((function(){return Promise.all([n.e(410),n.e(252),n.e(736),n.e(687),n.e(158),n.e(61),n.e(613),n.e(550),n.e(354),n.e(277),n.e(30),n.e(382)]).then(n.bind(n,71382))}))},S=function(t){var e=t.component,n=(t.rootClass,(0,s.Z)(t,b));return o().createElement(a.Route,(0,i.Z)({},n,{component:e}))};S.propTypes={component:c().func,rootClass:c().string};var k=function(){var t=(0,a.useLocation)().pathname;return o().createElement(a.Switch,null,o().createElement(a.Redirect,{from:"/:url*(/+)",to:t.slice(0,-1)}),Object.keys(E).map((function(t){return o().createElement(S,{key:t,path:g.n[t],component:E[t],rootClass:t})})),o().createElement(a.Route,null,o().createElement(w.Z,{body:"Sorry, we could not find what you were looking for. The page you requested may have been changed or moved."})))};var j=n(77388),P=n(64866),x=n(58788),R=n(5913),L=n(27839),T=n(13784),C=function(){return C=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},C.apply(this,arguments)};const O=function(t){var e=t.error;return o().createElement(x.EmptyState,{variant:x.EmptyStateVariant.full},o().createElement(x.EmptyStateIcon,{icon:R.R0}),404===e.status&&o().createElement(o().Fragment,null,o().createElement(x.Title,{headingLevel:"h5",size:"lg"},"No data found"),o().createElement(x.EmptyStateBody,null,"Please visit"," ",o().createElement("a",{href:"https://docs.ansible.com/ansible-tower/latest/html/administration/usability_data_collection.html#automation-analytics",target:"_blank",rel:"noopener noreferrer"},"here")," ","to learn how to enable Automation Analytics.")),401===e.status&&o().createElement(o().Fragment,null,o().createElement(x.Title,{headingLevel:"h5",size:"lg"},"Not authorized"),o().createElement(x.EmptyStateBody,null,"You do not have the correct permissions to view this page.")),403===e.status&&o().createElement(L.Z,C({},T.dR)),!e.status&&o().createElement(o().Fragment,null,o().createElement(x.Title,{headingLevel:"h5",size:"lg"},"Something went wrong, please try reloading the page"),o().createElement(x.Button,{variant:x.ButtonVariant.primary,onClick:function(){return window.location.reload()}},"Reload")))},Z=function(){var t=(0,a.useHistory)(),e=(0,j.QT)(P.YU,{}),n=e.error,i=e.request;return(0,r.useEffect)((function(){insights.chrome.init(),insights.chrome.identifyApp("automation-analytics");var e=insights.chrome.on("APP_NAVIGATION",(function(e){e.domEvent&&t.push("/".concat(e.navId))})),n=t.listen((function(){i()}));return function(){e(),n()}}),[]),o().createElement("div",{id:"automation-analytics-application",version:"1.1.0"},n?o().createElement(O,{error:n}):o().createElement(k,null))}},13784:(t,e,n)=>{n.d(e,{cY:()=>r,GL:()=>o,wC:()=>a,kK:()=>i,bE:()=>s,dR:()=>u,It:()=>c});var r={attributes:["id","status","job_type","started","finished","elapsed","created","cluster_name","org_name","most_failed_tasks","host_count","host_task_count","failed_host_count","unreachable_host_count","changed_host_count","ok_host_count","skipped_host_count"],defaultParams:{status:["successful","failed"],quick_date_range:"last_30_days",job_type:["workflowjob","job"],org_id:[],cluster_id:[],template_id:[],inventory_id:[],sort_options:"created",sort_order:"desc",only_root_workflows_and_standalone_jobs:!1,limit:5,offset:0}},o={defaultParams:{status:["successful"],org_id:[],cluster_id:[],template_id:[],inventory_id:[],quick_date_range:"roi_last_year",job_type:["job"],sort_options:"template_productivity_score",sort_order:"desc",start_date:null,end_date:null,limit:25,only_root_workflows_and_standalone_jobs:!0,attributes:["successful_hosts_total","successful_elapsed_total","total_org_count","total_cluster_count"],group_by:"template",group_by_time:!1}},a={defaultParams:{status:[],org_id:[],quick_date_range:"last_30_days",limit:5,offset:0,job_type:["workflowjob","job"],cluster_id:[],template_id:[],inventory_id:[],start_date:null,end_date:null}},i={defaultParams:{status:["successful","failed"],quick_date_range:"last_30_days",job_type:["workflowjob","job"],group_by_time:!0,org_id:[],cluster_id:[],template_id:[],inventory_id:[],only_root_workflows_and_standalone_jobs:!1}},s={defaultParams:{template_id:[],inventory_id:[],automation_status:[],category:[],frequency_period:[],name:"",limit:10,offset:0,sort_options:"modified",sort_order:"desc"}},u={title:"RBAC Access Denied",description:"User does not have privileges to perform this action. Contact your organization adminstrator(s) for more information."},c=["automation_status","attributes","cluster_id","category","frequency_period","host_id","host_status","inventory_id","job_type","status","org_id","template_id"]},83653:(t,e,n)=>{n.d(e,{Z:()=>r});const r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname,e="/",n=t.split("/");return n.shift(),"beta"===n[0]&&(n.shift(),e="/beta/"),"".concat(e).concat(n[0],"/").concat(n[1]||"")}},20806:(t,e,n)=>{n.d(e,{n:()=>r});var r={clusters:"/clusters",organizationStatistics:"/organization-statistics",notifications:"/notifications",automationCalculator:"/automation-calculator",jobExplorer:"/job-explorer",savingsPlanner:"/savings-planner",reports:"/reports"}},30319:(t,e,n)=>{n.d(e,{S1:()=>s});var r,o=n(18546),a=n(57283),i=n.n(a);function s(){if(!r){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r=new o.ZP({},[i()].concat(e))}return r}},64866:(t,e,n)=>{n.d(e,{he:()=>S,Kh:()=>j,z2:()=>P,N$:()=>d,YU:()=>p,hD:()=>L,VU:()=>T,wi:()=>y,og:()=>g,FW:()=>b,Ij:()=>h,ZW:()=>m,A7:()=>C,wp:()=>w,wD:()=>k,nE:()=>R,Wu:()=>E,QJ:()=>v,Yn:()=>_,Vs:()=>x});var r=n(17563),o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)},a=function(t){return t.json().then((function(e){if(t.ok)return Promise.resolve(e);var n=403===t.status?"RBAC access denied":e;return Promise.reject({status:t.status,error:n})}))},i=function(t,e){return void 0===e&&(e={}),window.insights.chrome.auth.getUser().then((function(){return fetch(t,o(o({},e),{headers:{"Content-Type":"application/json"}}))}))},s=function(t,e){void 0===e&&(e={});var n=new URL(t,window.location.origin);return n.search=(0,r.stringify)(e),i(n.toString(),{method:"GET"}).then(a)},u=function(t,e){void 0===e&&(e={});var n=new URL(t,window.location.origin);return i(n.toString(),{method:"POST",body:JSON.stringify(e)}).then(a)},c=function(t,e){void 0===e&&(e={});var n=e.limit,o=e.offset,s=e.sort_options,u=e.sort_order,c=new URL(t,window.location.origin);return c.search=(0,r.stringify)({limit:n,offset:o,sort_by:s&&u?s+":"+u:void 0}),i(c.toString(),{method:"POST",body:JSON.stringify(e)}).then(a)},l="/api/tower-analytics/v1/plans/",f="/api/tower-analytics/v1/plan/",d=function(){return t=void 0,e=void 0,r=function(){var t,e;return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=new URL("/api/featureflags/v0",window.location.origin),[4,i(t.toString())];case 1:return[2,(e=n.sent()).ok?e.json():{toggles:[]}];case 2:return n.sent(),[2,{}];case 3:return[2]}}))},new((n=void 0)||(n=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,s)}u((r=r.apply(t,e||[])).next())}));var t,e,n,r},p=function(){return i("/api/tower-analytics/v0/authorized/")},h=function(t){return c("/api/tower-analytics/v1/job_explorer/",t)},m=function(t){return u("/api/tower-analytics/v1/job_explorer_options/",t)},y=function(t){return c("/api/tower-analytics/v1/event_explorer/",t)},v=function(t){return c("/api/tower-analytics/v1/roi_templates/",t)},_=function(t){return u("/api/tower-analytics/v1/roi_templates_options/",t)},g=function(t){return c("/api/tower-analytics/v1/host_explorer/",t)},w=function(t){return u("/api/tower-analytics/v1/dashboard_organization_statistics_options/",t)},b=function(t){return u("/api/tower-analytics/v1/host_explorer_options/",t)},E=function(t){return c(l,t)},S=function(t){return u(f,t)},k=function(t){return s(""+f+t+"/")},j=function(t){return function(t,e){var n=new URL("/api/tower-analytics/v1/plan/"+e+"/",window.location.origin);return i(n.toString(),{method:"DELETE"}).then(a)}(0,t)},P=function(t){return e=t,n=new URL(l,window.location.origin),i(n.toString(),{method:"DELETE",body:JSON.stringify(e)}).then(a);var e,n},x=function(t,e){return function(t,e,n){void 0===n&&(n={});var r=new URL("/api/tower-analytics/v1/plan/"+e+"/",window.location.origin);return i(r.toString(),{method:"PUT",body:JSON.stringify(n)}).then(a)}(0,t,e)},R=function(t){return void 0===t&&(t={}),s("/api/tower-analytics/v1/plan_options/",t)},L=function(){return s("/api/tower-analytics/v0/clusters/")},T=function(t){return u("/api/tower-analytics/v1/dashboard_clusters_options/",t)},C=function(t){return s("/api/tower-analytics/v0/notifications/",t)}},46336:(t,e,n)=>{n.d(e,{Z:()=>c});var r=n(92950),o=n.n(r),a=n(58788),i=n(50973),s=n(20806),u=n(334);const c=function(t){var e=t.title,n=void 0===e?"404: Page does not exist.":e,r=t.body,c=void 0===r?"Let's find you a new one.":r,l=t.buttonText,f=void 0===l?"Return to home page":l,d=t.link,p=void 0===d?s.n.clusters:d;return o().createElement(a.EmptyState,{variant:a.EmptyStateVariant.xl},o().createElement(a.Title,{headingLevel:"h4",size:a.TitleSizes["4xl"],style:{padding:"2em"}},n),o().createElement(a.EmptyStateIcon,{icon:i.ZP}),o().createElement(a.EmptyStateBody,null,c),o().createElement(u.Link,{to:p},f))}},51410:(t,e,n)=>{var r;n.d(e,{zt:()=>h,GA:()=>r,ye:()=>c}),function(t){t.orgReports="orgReports"}(r||(r={}));var o=n(92950),a=n.n(o),i=(0,o.createContext)([]),s=i.Provider;const u=i,c=function(t){if("beta"===window.location.pathname.split("/")[1])return!0;var e=(0,o.useContext)(u).find((function(e){return e.name===t}));return!!e&&e.enabled};var l=n(45697),f=n.n(l),d=n(64866),p=function(t){var e=t.children,n=(0,o.useState)([]),r=n[0],i=n[1];return(0,o.useEffect)((function(){(0,d.N$)().then((function(t){t&&t.toggles?i(t.toggles):i([])})).catch((function(t){return console.error("Getting the feature flags resulted in error:",t)}))}),[]),a().createElement(s,{value:r},e)};p.propTypes={children:f().node.isRequired};const h=p},77388:(t,e,n)=>{n.d(e,{ZP:()=>l,px:()=>c,pF:()=>u,QT:()=>s});var r=n(92950);var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)},a=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,s)}u((r=r.apply(t,e||[])).next())}))},i=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=function(t,e){var n=(0,r.useState)({result:e,error:null,isLoading:!1,isSuccess:!1}),s=n[0],u=n[1],c=function(){var t=(0,r.useRef)({});return(0,r.useEffect)((function(){return t.current=!0,function(){t.current=!1}})),t}();return o(o({},s),{request:(0,r.useCallback)((function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return a(void 0,void 0,void 0,(function(){var r,a;return i(this,(function(i){switch(i.label){case 0:u(o(o({},s),{isSuccess:!1,isLoading:!0})),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.apply(void 0,n)];case 2:return r=i.sent(),c.current&&u({isLoading:!1,result:r,error:null,isSuccess:!0}),[3,4];case 3:return a=i.sent(),c.current&&u({isSuccess:!1,isLoading:!1,error:a,result:e}),[3,4];case 4:return[2]}}))}))}),[t]),setValue:function(t){return u(o(o({},s),{result:t}))}})},u=function(t){var e=(0,r.useState)(!1),n=e[0],o=e[1];return(0,r.useEffect)((function(){t&&o(!0)}),[t]),{error:n?t:null,dismissError:function(){o(!1)}}},c=function(t){var e=s(t,null),n=e.error,r=e.isLoading,o=e.request,a=u(n);return{isLoading:r,deleteItems:o,deletionError:a.error,clearDeletionError:a.dismissError}};const l=s}}]);
//# sourceMappingURL=../sourcemaps/933.6db6ade84b5f1c0c02a484be2be9c0fc.js.map