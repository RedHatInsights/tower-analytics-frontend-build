"use strict";(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[182],{71182:(e,t,n)=>{n.r(t),n.d(t,{default:()=>pt});var a=n(92950),r=n.n(a),l=n(86235),o=n(29163),i=n(86350),u=n(46336),c=n(48716),s=n(39173),m=n(69595),d=n(1085),p=n(12613),f=n(16559),E=n(77388),g=n(9771),v=n(48236),y=n(83061);const h=function(e){var t=e.api,n=e.children,a=e.customLoading;return void 0!==a&&a&&t.isLoading?r().createElement(r().Fragment,null,n):!t||t.isLoading?r().createElement(v.Z,null):t.error?r().createElement(g.Z,{message:t.error.error}):t.isSuccess?0===t.result.meta.count?r().createElement(y.Z,null):r().createElement(r().Fragment,null,n):null};var b=n(50596),x=n(86552),T=n(48607),w=n(91573),_=n(53345),k=n(91354),C=n(60475),S=["elapsed"],P=[],R=function(e,t){return"id"===t&&-1===e[t]};const D=function(e){var t,n,l=e.legendEntry,o=e.headers,i=e.expandedRowName,u=(0,a.useState)(!1),c=u[0],s=u[1];return r().createElement(r().Fragment,null,r().createElement(T.Tr,{style:(n=l,"id",R(n,"id")?{backgroundColor:w.global_disabled_color_300.value}:{})},i&&r().createElement(T.Td,{expand:{rowIndex:+l.id,isExpanded:c,onToggle:function(){return s(!c)}}}),o.map((function(e){var t=e.key;return r().createElement(T.Td,{key:l.id+"-"+t},function(e,t){return function(e,t){return"id"===t&&-2===e[t]}(e,t)||R(e,t)?"-":S.includes(t)?(0,_.yH)(+e[t]):P.includes(t)?(0,k.Z)(+e[t]):""+e[t]}(l,t))}))),(t=(0,C.t)(i))?r().createElement(t,{item:l,isExpanded:c}):null)};var O=function(){return O=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},O.apply(this,arguments)};const F=function(e){var t=e.legend,n=e.headers,a=e.getSortParams,l=void 0===a?function(){return{}}:a,o=e.expandedRowName;return r().createElement(T.TableComposable,{"aria-label":"Report Table",variant:T.TableVariant.compact},r().createElement(T.Thead,null,r().createElement(T.Tr,null,o&&r().createElement(T.Th,null),n.map((function(e){var t=e.key,n=e.value;return r().createElement(T.Th,O({key:t},l(t),{"data-testid":t}),n)})))),r().createElement(T.Tbody,null,t.map((function(e){return r().createElement(D,{key:e.id,legendEntry:e,headers:n,expandedRowName:o})}))))};var I=n(43047),G=n(53983),B=n(16659),L=n(28527),Z="RESET_DATA",j="SET_DOWNLOAD_TYPE",A="SET_SHOW_EXTRA_ROWS",N="SET_SELECTED_RBAC_GROUPS",V="SET_USERS",q="SET_ADDITIONAL_RECIPIENTS",U="SET_EMAIL_EXTRA_ROWS",M="SET_SUBJECT",H="SET_BODY",z="SET_SELECTED_EXPIRY";const W=function(e){var t=e.formData,n=e.dispatchReducer,a=t.downloadType;return r().createElement(r().Fragment,null,r().createElement(d.Title,{size:"md",headingLevel:"h4"},"Select export format:"),r().createElement(d.Grid,{sm:2},r().createElement(d.GridItem,null,r().createElement(d.Radio,{onChange:function(){return n({type:j,value:"pdf"})},isChecked:"pdf"===a,name:"optionSelected",label:"PDF",id:"pdf-radio","aria-label":"pdf-radio"})),r().createElement(d.GridItem,null,r().createElement(d.Radio,{onChange:function(){return n({type:j,value:"email"})},isChecked:"email"===a,name:"optionSelected",label:"E-mail",id:"email-radio","aria-label":"email-radio"}))))};var Y=n(65317);const J=function(e){var t=e.options,n=e.formData,a=e.dispatchReducer,l=n.showExtraRows,o=t.totalCount,i=o<=100?"Download all "+o.toString()+" items as PDF":"Download top 100 of "+o.toString()+" items as PDF";return r().createElement(r().Fragment,null,r().createElement(d.Title,{size:"md",headingLevel:"h4"},"Select details:"),r().createElement(d.Grid,{md:4},r().createElement(d.GridItem,null,r().createElement(d.Radio,{onChange:function(){return a({type:A,value:!1})},isChecked:!l,name:"showExtraRows",label:"Current page",id:"current-radio","aria-label":"current-radio"})),(0,Y.ye)(Y.GA.sendEmail)&&r().createElement(d.GridItem,null,r().createElement(d.Radio,{onChange:function(){return a({type:A,value:!0})},isChecked:l,name:"showExtraRows",label:i,id:"extra-radio","aria-label":"extra-radio"}))))};var X=n(49148),K=n(13704);const $=function(e){var t=e.options,n=e.formData,l=e.dispatchReducer,o=n.body,i=n.selectedRbacGroups,u=n.users,c=n.subject,s=n.additionalRecipients,m=n.emailExtraRows,p=n.expiry,f=(0,E.ZP)((function(){return(0,X.kL)()}),{data:[],meta:{count:0}}),g=f.result.data,v=f.request,y=window.location.href;(0,a.useEffect)((function(){v()}),[]);var h=(0,E.ZP)((function(){return(0,X.Vk)(i.at(-1))}),{data:[]}),b=h.result.data,x=h.request;(0,a.useEffect)((function(){i.length>0&&x()}),[i]);var T=function(e){var t;return null===(t=g.find((function(t){return t.uuid===e})))||void 0===t?void 0:t.name},w=function(){var e=b.map((function(e){return e.email})),t=b.map((function(e){return e.username})),n=i.at(-1),a={uuid:n,name:T(n),usernames:t,emails:e};-1===u.findIndex((function(e){return e.uuid===a.uuid}))&&u.push(a),l({type:V,value:u})};(0,a.useEffect)((function(){i.length>0&&w()}),[b]);var _=t.totalCount,k=_<=100?"Download all "+_+" items as PDF":"Download top 100 of "+_+" items as PDF",C=(0,a.useState)(!1),S=C[0],P=C[1],R=function(e){for(var t=e.target.value.split(","),n=0;n<t.length;n++)if(!/^([\w-.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(t[n]))return void P(!0);P(!1)},D=(0,a.useState)(!1),O=D[0],F=D[1];return r().createElement(d.Form,null,r().createElement(d.FormGroup,{label:"Select details:",fieldId:"details-field"},r().createElement(d.Grid,{md:4},r().createElement(d.GridItem,null,r().createElement(d.Radio,{onChange:function(){return l({type:U,value:!1})},isChecked:!m,name:"emailExtraRows",label:"Current page",id:"email-current-radio","aria-label":"email-current-radio"})),r().createElement(d.GridItem,null,r().createElement(d.Radio,{onChange:function(){return l({type:U,value:!0})},isChecked:m,name:"emailExtraRows",label:k,id:"email-extra-radio","aria-label":"email-extra-radio"})))),r().createElement(d.FormGroup,{label:"Recipient(s)",isRequired:!0,fieldId:"selectedRbacGroups-field"},r().createElement(d.Select,{variant:d.SelectVariant.checkbox,"aria-label":"Recipient",isOpen:O,onClear:function(){return l({type:N,value:[]}),void l({type:V,value:[]})},onToggle:function(){return F(!O)},onSelect:function(e,t){!function(e,t){var n,a=[t];if(i.indexOf(t)>-1){a=i.filter((function(e){return e!==t}));var r=u.findIndex((function(e){return e.uuid===t}));r>=0&&u.splice(r,1),n=a}else n=i.concat(a);l({type:N,value:n})}(0,"string"!=typeof t?t.toString():t),F(!1)},hasInlineFilter:!0,selections:i,placeholderText:"Select Recipients"},g.map((function(e,t){var n=e.uuid,a=e.name;return r().createElement(d.SelectOption,{key:t,value:n},a)})))),u.length>0&&r().createElement(d.FormGroup,{label:"User emails",fieldId:"emails-field"},u.map((function(e,t){var n=e.name,a=e.emails;return r().createElement("p",{key:t},r().createElement("b",null,n),":"," ",a.length>0?a.join(", "):r().createElement("i",null,"No emails associated with this group"))}))),r().createElement(d.FormGroup,{label:"External recipient(s)",fieldId:"additionalRecipients-field"},r().createElement(d.TextInput,{placeholder:"Comma separated emails",type:"email",id:"additionalRecipients",name:"additionalRecipients",value:s,onBlur:function(e){return R(e)},onFocus:function(e){return R(e)},onChange:function(e){return l({type:q,value:e})}}),s&&S&&r().createElement(d.FormHelperText,{isError:!0,icon:r().createElement(I.$O,null),isHidden:!S},"The email format must be valid and comma separated.")),r().createElement(d.FormGroup,{label:"Subject",fieldId:"subject-field"},r().createElement(d.TextInput,{placeholder:"Report is ready to be downloaded",type:"text",id:"subject",name:"subject",value:c,onChange:function(e){return l({type:M,value:e})}})),r().createElement(d.FormGroup,{label:"Body",fieldId:"body-field"},r().createElement(d.TextArea,{rows:10,autoResize:!0,placeholder:"",type:"text",id:"body",name:"body",value:o,onChange:function(e){return l({type:H,value:e})}})),r().createElement(d.FormGroup,{label:"Link expires on",isRequired:!0,fieldId:"expiry-field"},r().createElement(K.Z,{categoryKey:"start_date",value:p,setValue:function(e){return l({type:z,value:e}),void w()}})),r().createElement(d.FormGroup,{label:"Report link",fieldId:"link-field"},y))};var Q=n(20936),ee=function(){return ee=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ee.apply(this,arguments)};var te=function(){return te=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},te.apply(this,arguments)};var ne=function(e,t,n,a,r){var l="showExtraRows="+e.toString()+"&token="+n+"&expiry="+a+"&slug="+r,o=""===new URL(t).search?"?"+l:"&"+l;return t.replace("/reports/","/downloadReport/")+o};const ae=function(e){var t=e.settingsNamespace,n=void 0===t?"settings":t,l=e.slug,o=e.name,i=e.description,u=e.endpointUrl,c=e.queryParams,s=e.selectOptions,m=e.y,p=e.label,E=e.xTickFormat,g=e.chartType,v=e.totalCount,y=e.onPageCount,h=e.sortOptions,b=e.sortOrder,x=e.dateGranularity,T=e.startDate,w=e.endDate,k=e.dateRange,C=e.inputs,S=(0,a.useState)(!1),P=S[0],R=S[1],D=(0,L.TL)(),O=(0,L.CG)((function(e){return null==e?void 0:e.pdfDownloadButton[l]})),F=O===B.r.pending,Y=O===B.r.rejected,X=(0,f.cm)({chartSeriesHiddenProps:[]},n).chartSeriesHiddenProps,K=(0,a.useState)(1),ae=K[0],re=K[1],le=function(e,t,n){var r,l={downloadType:(null==e?void 0:e.downloadType)||"pdf",showExtraRows:(null==e?void 0:e.showExtraRows)||!1,additionalRecipients:(null==e?void 0:e.additionalRecipients)||"",eula:(null==e?void 0:e.eula)||!1,emailExtraRows:(null==e?void 0:e.emailExtraRows)||!1,subject:(null==e?void 0:e.subject)||"The Ansible report, "+t+", is available for view",body:(null==e?void 0:e.body)||"<b>"+t+"</b>\nThis report shows "+n[0].toLowerCase()+n.substring(1),selectedRbacGroups:(null==e?void 0:e.selectedRbacGroups)||[],users:(null==e?void 0:e.users)||[],expiry:(null==e?void 0:e.expiry)||(r=new Date,r.setMonth(r.getMonth()+3),(0,_.p6)(r))},o=(0,a.useReducer)((function(e,t){switch(t.type){case j:return te(te({},e),{downloadType:t.value});case A:return te(te({},e),{showExtraRows:t.value});case N:return te(te({},e),{selectedRbacGroups:t.value});case q:return te(te({},e),{additionalRecipients:t.value});case"SET_EULA":return te(te({},e),{eula:t.value});case U:return te(te({},e),{emailExtraRows:t.value});case M:return te(te({},e),{subject:t.value});case H:return te(te({},e),{body:t.value});case V:return te(te({},e),{users:t.value});case z:return te(te({},e),{expiry:t.value});case Z:return l;default:throw new Error("useOptionsData reducer action type "+t.type+" was not found.")}}),l);return{formData:o[0],dispatchReducer:o[1]}}({},o,i),oe=le.formData,ie=le.dispatchReducer,ue=oe.users,ce=oe.additionalRecipients,se=oe.subject,me=oe.body,de=oe.emailExtraRows,pe=oe.showExtraRows,fe=oe.downloadType,Ee=oe.expiry,ge=function(){"pdf"===fe?function(e){var t=e.slug,n=e.endpointUrl,a=e.queryParams,r=e.selectOptions,l=e.y,o=e.label,i=e.xTickFormat,u=e.chartType,c=e.sortOptions,s=e.sortOrder,m=e.dateGranularity,d=e.startDate,p=e.endDate,f=e.dateRange,E=e.dispatch,g=e.chartSeriesHiddenProps,v=e.showExtraRows,y=e.inputs,h=y?ee(ee({},a),{inputs:y}):a;E((0,Q.jG)({slug:t,schemaParams:{y:l,label:o,xTickFormat:i,chartType:u},dataFetchingParams:{showExtraRows:v,endpointUrl:n,queryParams:h,selectOptions:r,chartSeriesHiddenProps:g,sortOptions:c,sortOrder:s,dateGranularity:m,startDate:d,endDate:p,dateRange:f}},E,t,""))}({slug:l,endpointUrl:u,queryParams:c,selectOptions:s,y:m,label:p,xTickFormat:E,chartType:g,sortOptions:h,sortOrder:b,dateGranularity:x,startDate:T,endDate:w,dateRange:k,dispatch:D,chartSeriesHiddenProps:X,showExtraRows:pe,inputs:C}):function(e){var t=e.slug,n=e.users,a=e.additionalRecipients,r=e.subject,l=e.body,o=e.dispatch,i=e.emailExtraRows,u=e.expiry,c=n.map((function(e){return e.usernames}));""!==a&&c.push(a.split(","));var s=Math.random().toString(36).substring(2,16),m=window.location.href;o((0,Q.Do)({recipient:c.flat(),subject:""===r?"Report is ready to be viewed":r,body:l.toString().replace(/(?:\r\n|\r|\n)/g,"<br>"),reportUrl:ne(i,m,s,u,t),expiry:u,slug:t,token:s,payload:"Download"},o,t,s))}({slug:l,users:ue,additionalRecipients:ce,subject:se,body:me,dispatch:D,emailExtraRows:de,expiry:Ee}),ie({type:Z}),R(!1)},ve=function(){var e=oe.additionalRecipients,t=oe.selectedRbacGroups,n=oe.users;return""===e&&(0===t.length&&""===e||(0===n.length||1===n.length&&n[0].emails.length<=0)&&""===e||void 0)},ye=[{id:1,name:"Export format",component:r().createElement(W,{formData:oe,dispatchReducer:ie})},{id:2,name:"Configure details",nextButtonText:"pdf"===fe?"Export":"Send e-mail",component:"pdf"===fe?r().createElement(J,{options:{settingsNamespace:"settings",slug:l,name:o,description:i,endpointUrl:u,queryParams:c,selectOptions:s,y:m,label:p,xTickFormat:E,chartType:g,totalCount:v,onPageCount:y,sortOptions:h,sortOrder:b,dateGranularity:x,startDate:T,endDate:w,dateRange:k},formData:oe,dispatchReducer:ie}):r().createElement($,{options:{totalCount:v},formData:oe,dispatchReducer:ie})}],he=function(e){re(ae<(null==e?void 0:e.id)?e.id:ae)},be=function(){ie({type:Z}),R(!1)},xe=r().createElement(d.WizardFooter,null,r().createElement(d.WizardContextConsumer,null,(function(e){var t=e.activeStep,n=e.onNext,a=e.onBack;return 2!==t.id?r().createElement(r().Fragment,null,r().createElement(d.Button,{variant:d.ButtonVariant.primary,type:"submit",onClick:n,isDisabled:!fe},"Next"),1!==t.id&&r().createElement(d.Button,{variant:"secondary",onClick:a},"Back"),r().createElement(d.Button,{variant:"link",onClick:be},"Cancel")):r().createElement(r().Fragment,null,r().createElement(d.Button,{variant:d.ButtonVariant.primary,type:"submit",onClick:ge,isDisabled:"email"===fe&&ve()},"email"===fe?"Send e-mail":"Export"),r().createElement(d.Button,{variant:"secondary",onClick:a},"Back"),r().createElement(d.Button,{variant:"link",onClick:be},"Cancel"))})));return r().createElement(r().Fragment,null,r().createElement(d.Tooltip,{position:d.TooltipPosition.top,content:"Export report"},r().createElement(d.Button,{variant:Y?d.ButtonVariant.link:d.ButtonVariant.plain,"aria-label":"Export report",onClick:function(){return R(!0)},isDanger:Y},F&&r().createElement(d.Spinner,{isSVG:!0,size:"md"}),!F&&Y&&r().createElement(I.$O,null),!F&&!Y&&r().createElement(G._8,null))),P&&r().createElement(d.Wizard,{title:"Export report",description:o+" | "+("pdf"===fe?"PDF":"E-mail"),steps:ye,hideClose:!0,onNext:function(){return he},onBack:function(){return he},onSave:ge,onClose:function(){be()},footer:xe,isOpen:P}))};var re=n(74221);const le=function(e){return function(t){if(!t)return e;var n=JSON.stringify(e);return Object.entries(t).forEach((function(e){var t=new RegExp("VAR_"+e[0],"g");n=n.replace(t,""+e[1])})),JSON.parse(n)}};var oe=n(84104);const ie=function(e){var t,n,l=e.slug,o=e.name,i=e.description,u=e.defaultParams,c=e.tableHeaders,s=e.expandedTableRowName,m=e.defaultSelectedToolbarCategory,g=void 0===m?"":m,v=e.availableChartTypes,y=e.dataEndpoint,T=e.optionsEndpoint,w=e.schema,k=e.fullCard,C=void 0===k||k,S=(0,X.Bt)(y),P=(0,X.Bt)(T),R=(0,f.Kx)(u),D=R.queryParams,O=R.setFromPagination,I=R.setFromToolbar,G=(0,f.Kx)({chartType:v[0]},"settings"),B=G.queryParams,L=G.dispatch,Z=(0,E.ZP)(P,{sort_options:[]}),j=Z.result,A=Z.request,N=(0,E.ZP)(S,{meta:{count:0,legend:[]}}),V=N.request,q=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(N,["request"]);(0,a.useEffect)((function(){V(D),A(D)}),[D]),(0,a.useEffect)((function(){V(function(e){if(e.task_action_name&&0===e.task_action_id.length&&(null==j?void 0:j.task_action_id)&&Array.isArray(e.task_action_name)){var t=e.task_action_name,n=j.task_action_id.filter((function(e){return t.includes(e.value)}));e.task_action_id=n.map((function(e){var t;return null===(t=e.key)||void 0===t?void 0:t.toString()}))}return e}(D))}),[null==j?void 0:j.task_action_id]);var U={y:D.sort_options,label:(null===(n=null===(t=j.sort_options)||void 0===t?void 0:t.find((function(e){return e.key===D.sort_options})))||void 0===n?void 0:n.value)||"Label Y",xTickFormat:(0,_.MA)(D.granularity),chartType:B.chartType||"line"},M=[v.length>1&&r().createElement(d.ToggleGroup,{"aria-label":"Chart type toggle",key:"chart-toggle"},v.map((function(e){return r().createElement(d.ToggleGroupItem,{key:e,text:(0,_.kC)(e)+" Chart",buttonId:e,isSelected:e===B.chartType,onChange:function(){L({type:"SET_CHART_TYPE",value:e})}})}))),r().createElement(ae,{key:"download-button",slug:l,name:o,description:i,endpointUrl:y,queryParams:D,selectOptions:j,y:U.y,label:U.label,xTickFormat:U.xTickFormat,totalCount:q.result.meta.count,onPageCount:D.limit,chartType:B.chartType,sortOptions:U.y,sortOrder:D.sort_order,dateGranularity:D.granularity,startDate:D.start_date,endDate:D.end_date,dateRange:D.quick_date_range})];return C?r().createElement(d.Card,null,r().createElement(d.CardBody,null,r().createElement(b.Z,{categories:j,defaultSelected:g,filters:D,setFilters:I,pagination:r().createElement(p.Z,{count:q.result.meta.count,perPageOptions:re.zT,params:{limit:+D.limit,offset:+D.offset},setPagination:O,isCompact:!0}),additionalControls:M}),c&&r().createElement(h,{api:q},r().createElement(x.Z,{schema:le(w)({label:U.label,y:U.y,xTickFormat:U.xTickFormat,chartType:U.chartType}),data:q.result,specificFunctions:{labelFormat:{customTooltipFormatting:function(e){var t=e.datum;return U.label+" for "+t.name+": "+function(e,t){var n;switch(e){case"average_duration_per_task":n=t.toFixed(2)+" seconds";break;case"slow_hosts_percentage":case"template_success_rate":n=(0,oe.Z)(t)+"%";break;default:n=t.toFixed(2)}return n}(D.sort_options,t.y)}}}}),r().createElement(F,{legend:q.result.meta.legend,headers:c,getSortParams:function(e){var t,n=null===(t=null==j?void 0:j.sort_options)||void 0===t?void 0:t.map((function(e){return e.key}));return(null==n?void 0:n.includes(e))?{sort:{sortBy:{index:c.findIndex((function(e){return e.key===D.sort_options}))||0,direction:D.sort_order||"none"},onSort:function(e,t,n){var a;I("sort_order",n),I("sort_options",null===(a=c[t])||void 0===a?void 0:a.key)},columnIndex:c.findIndex((function(t){return t.key===e}))}}:{}},expandedRowName:s}))),r().createElement(d.CardFooter,null,r().createElement(p.Z,{count:q.result.meta.count,perPageOptions:re.zT,params:{limit:+D.limit,offset:+D.offset},setPagination:O,variant:d.PaginationVariant.bottom}))):r().createElement(r().Fragment,null,r().createElement(b.Z,{categories:j,defaultSelected:g,filters:D,setFilters:I}),c&&r().createElement(h,{api:q},r().createElement(x.Z,{schema:le(w)({label:U.label,y:U.y,xTickFormat:U.xTickFormat,chartType:U.chartType}),data:q.result})))};var ue,ce,se=n(69957),me=n(83474),de=n(35993),pe=o.ZP.div(Ee||(ue=["\n  height: 46.8px;\n  padding-left: 100px;\n"],ce=["\n  height: 46.8px;\n  padding-left: 100px;\n"],Object.defineProperty?Object.defineProperty(ue,"raw",{value:ce}):ue.raw=ce,Ee=ue));const fe=function(e){var t=e.totalSavings,n=void 0===t?0:t,a=e.isLoading,l=void 0!==a&&a;return r().createElement(d.Card,{isPlain:!0,isCompact:!0},r().createElement(d.CardTitle,null,"Total savings"),r().createElement(d.CardBody,null,r().createElement(d.Title,{headingLevel:"h3",size:"4xl",style:{color:"var(--pf-global--success-color--200)"}},l?r().createElement(pe,null,r().createElement(d.Spinner,{isSVG:!0,size:"lg"})):(0,k.Z)(n))))};var Ee,ge=n(97960),ve=(0,o.ZP)(d.InputGroup)(be||(be=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}(["\n  width: 170px;\n"],["\n  width: 170px;\n"]))),ye=function(e){return+e&&+e<0?NaN:e};const he=function(e){var t=e.costManual,n=void 0===t?0:t,a=e.setFromCalculation,l=void 0===a?function(){return{}}:a,o=e.costAutomation,i=void 0===o?0:o,u=e.readOnly,c=void 0===u||u;return r().createElement(d.Card,{isPlain:!0,isCompact:!0},r().createElement(d.CardBody,null,r().createElement("p",null,"Manual cost of automation",r().createElement("span",{style:{color:"var(--pf-global--Color--dark-200)",fontSize:"0.8em",display:"block"}},"(e.g. average salary of mid-level Software Engineer)")),r().createElement(ve,null,r().createElement(d.InputGroupText,null,r().createElement(ge.bk,null)),r().createElement(d.TextInput,{id:"manual-cost",key:"manual-cost",type:"number","aria-label":"manual-cost",value:isNaN(n)?"":n.toString(),onChange:function(e){return l("manual_cost",ye(+e))},isDisabled:c}),r().createElement(d.InputGroupText,null,"/hr")),r().createElement("p",{style:{paddingTop:"10px"}},"Automated process cost"),r().createElement(ve,null,r().createElement(d.InputGroupText,null,r().createElement(ge.bk,null)),r().createElement(d.TextInput,{id:"automation-cost",key:"automation-cost",type:"number","aria-label":"automation-cost",value:isNaN(i)?"":i.toString(),onChange:function(e){return l("automation_cost",ye(+e))},isDisabled:c}),r().createElement(d.InputGroupText,null,"/hr"))))};var be,xe=n(53688),Te=function(){return r().createElement(r().Fragment,null,r().createElement("p",null,r().createElement("strong",null,"Savings per template")),r().createElement("p",null,"Savings per template is the difference between the manual cost and automation cost of successfully running templates across hosts. Manual cost is calculated by multiplying the number of hours spent manually running templates across hosts by the average hourly wages per engineer. Automation cost is the total amount of time, in seconds, spent running templates automatically multiplied by the average monthly cost for automated processes."),r().createElement("br",null),r().createElement("p",null,"The formula used to calculate manual cost:"),r().createElement(d.CodeBlock,null,r().createElement(d.CodeBlockCode,null,"manual time  = configurable time (in minutes) to manually complete the task on one host * number of host runs \nmanual cost = manual time * configurable manual cost of automation (e.g. average salary of mid-level Software Engineer)")),r().createElement("br",null),r().createElement("p",null,"The formula used to calculate automation cost:"),r().createElement(d.CodeBlock,null,r().createElement(d.CodeBlockCode,null,"automation time = successful elapsed total / 3600\nautomation cost = automation time * configurable automated process cost")),r().createElement("br",null),r().createElement("p",null,"The formula used to calculate automation cost:"),r().createElement(d.CodeBlock,null,r().createElement(d.CodeBlockCode,null,"savings per template = manual cost - automation cost")),r().createElement("br",null))},we=function(){return r().createElement(r().Fragment,null,r().createElement("p",null,r().createElement("strong",null,"Failed hosts cost per template")),r().createElement("p",null,"Failed hosts cost per template is the total amount of time spent on failed automated job runs multiplied by the configured automated process cost."),r().createElement("br",null),r().createElement("p",null,"The formula used to calculate failed host cost per template:"),r().createElement(d.CodeBlock,null,r().createElement(d.CodeBlockCode,null,"failed cost per template = (failed elapsed total / 3600) * configurable automated process cost")),r().createElement("br",null))},_e=function(){return r().createElement(r().Fragment,null,r().createElement("p",null,r().createElement("strong",null,"Monetary gain per template")),r().createElement("p",null,"Monetary gain per template is the difference between total savings per template and failed hosts cost per template."),r().createElement("br",null),r().createElement("p",null,"The formula for monetary gain per template:"),r().createElement(d.CodeBlock,null,r().createElement(d.CodeBlockCode,null,"monetary gain per template = savings per template - failed host cost per template")),r().createElement("br",null))};const ke=function(){var e=(0,a.useState)(!1),t=e[0],n=e[1];return r().createElement(r().Fragment,null,r().createElement(d.Button,{variant:d.ButtonVariant.link,onClick:function(){return n(!0)},icon:r().createElement(xe.uM,null)},"Automation formula"),r().createElement(d.Modal,{title:"Automation formula",isOpen:t,onClose:function(){return n(!1)},variant:d.ModalVariant.medium,actions:[r().createElement(d.Button,{key:"cancel",variant:d.ButtonVariant.primary,onClick:function(){return n(!1)}},"Close")]},r().createElement("p",null,"We use manual effort versus time spent on automation as factors to create formulas for cost and savings related to automation. While we aim to provide as accurate an account of the cost and savings as possible, actual values may differ in practice. The following information breaks down where we get the data, the factors we use, the assumptions we make, and the formula used to compute the values as displayed in the chart."),r().createElement("br",null),r().createElement(Te,null),r().createElement("br",null),r().createElement(we,null),r().createElement("br",null),r().createElement(_e,null)))},Ce=function(e){var t=e.template;return r().createElement(T.Td,{colSpan:5},r().createElement(T.ExpandableRowContent,null,r().createElement(d.DescriptionList,{columnModifier:{default:"3Col"}},r().createElement(d.DescriptionListGroup,null,r().createElement(d.DescriptionListTerm,null,"ID"),r().createElement(d.DescriptionListDescription,null,t.id)),r().createElement(d.DescriptionListGroup,null,r().createElement(d.DescriptionListTerm,null,"Elapsed"),r().createElement(d.DescriptionListDescription,null,t.elapsed," seconds")),r().createElement(d.DescriptionListGroup,null,r().createElement(d.DescriptionListTerm,null,"Host count"),r().createElement(d.DescriptionListDescription,null,t.host_count)),r().createElement(d.DescriptionListGroup,null,r().createElement(d.DescriptionListTerm,null,"Total count"),r().createElement(d.DescriptionListDescription,null,t.total_count)),r().createElement(d.DescriptionListGroup,null,r().createElement(d.DescriptionListTerm,null,"Total org count"),r().createElement(d.DescriptionListDescription,null,t.total_org_count)),r().createElement(d.DescriptionListGroup,null,r().createElement(d.DescriptionListTerm,null,"Total cluster count"),r().createElement(d.DescriptionListDescription,null,t.total_cluster_count)),r().createElement(d.DescriptionListGroup,null,r().createElement(d.DescriptionListTerm,null,"Total inventory count"),r().createElement(d.DescriptionListDescription,null,t.total_inventory_count)))))},Se=function(e){var t=e.template,n=e.variableRow,l=e.setDataRunTime,o=e.setEnabled,i=e.redirectToJobExplorer,u=e.readOnly,c=void 0===u||u,s=(0,a.useState)("true"===window.localStorage.getItem(t.id.toString())||!1),m=s[0],p=s[1];return r().createElement(r().Fragment,null,r().createElement(T.Tr,null,r().createElement(T.Td,{expand:{rowIndex:t.id,isExpanded:m,onToggle:function(){return e=!m,n=t.id,window.localStorage.setItem(n.toString(),e?"true":"false"),void p(e);var e,n}}}),r().createElement(T.Td,null,r().createElement(d.Tooltip,{content:"List of jobs for this template for past 30 days"},r().createElement(d.Button,{onClick:function(){return i(t.id)},variant:d.ButtonVariant.link,style:{padding:"0px"}},t.name))),n&&r().createElement(T.Td,null,function(e,t){var n,a;switch(e){case"elapsed":a=t,n=new Intl.NumberFormat("en-US",{maximumSignificantDigits:2}).format(a)+" seconds";break;case"template_automation_percentage":n=(0,oe.Z)(t)+"%";break;case"successful_hosts_savings":case"failed_hosts_costs":case"monetary_gain":n=(0,k.Z)(t);break;default:n=(+t).toFixed(2)}return n}(n.key,+t[n.key])),r().createElement(T.Td,null,r().createElement(d.InputGroup,null,r().createElement(d.TextInput,{autoFocus:window.localStorage.getItem("focused")==="manual-time-"+t.id.toString(),id:"manual-time-"+t.id.toString(),style:{maxWidth:"150px"},type:"number","aria-label":"time run manually",value:t.avgRunTime/60,onBlur:function(){return window.localStorage.setItem("focused","")},onChange:function(e){window.localStorage.setItem("focused","manual-time-"+t.id.toString()),l(60*+e,t.id)},isDisabled:c}),r().createElement(d.InputGroupText,null,"min"),r().createElement(d.InputGroupText,{variant:d.InputGroupTextVariant.plain},"x ",t.successful_hosts_total," host runs"))),r().createElement(T.Td,{style:{color:w.global_success_color_200.value}},(0,k.Z)(+t.delta)),r().createElement(T.Td,null,r().createElement(d.Switch,{label:"Show",labelOff:"Hide",isChecked:t.enabled,onChange:function(e){return o(e)},isDisabled:c}))),r().createElement(T.Tr,{isExpanded:m},r().createElement(Ce,{template:t})))};var Pe=function(){return Pe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Pe.apply(this,arguments)};const Re=function(e){var t=e.data,n=void 0===t?[]:t,a=e.variableRow,l=e.setDataRunTime,o=void 0===l?function(){return{}}:l,i=e.setEnabled,u=void 0===i?function(){return function(){return{}}}:i,c=e.redirectToJobExplorer,s=void 0===c?function(){return{}}:c,m=e.getSortParams,p=void 0===m?function(){return{}}:m,f=e.readOnly,E=void 0===f||f;return r().createElement(T.TableComposable,{"aria-label":"ROI Table",variant:T.TableVariant.compact},r().createElement(T.Thead,null,r().createElement(T.Tr,null,r().createElement(T.Th,null),r().createElement(T.Th,null,"Name"),a&&r().createElement(T.Th,Pe({},p()),a.value),r().createElement(T.Th,null,"Manual time"),r().createElement(T.Th,null,"Savings"),r().createElement(T.Th,null,r().createElement(d.Switch,{label:"Show all",labelOff:"Show all",isChecked:!n.find((function(e){return!e.enabled})),onChange:function(e){return u(void 0)(e)},isDisabled:E})))),r().createElement(T.Tbody,null,n.map((function(e){return r().createElement(Se,{key:e.id,template:e,variableRow:a,setDataRunTime:o,redirectToJobExplorer:s,setEnabled:u(e.id),readOnly:E})}))))};var De=n(20806),Oe=n(44745),Fe=n(83215),Ie=n(39677),Ge=function(){return Ge=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ge.apply(this,arguments)},Be=function(e,t,n,a){return new(n||(n=Promise))((function(r,l){function o(e){try{u(a.next(e))}catch(e){l(e)}}function i(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}u((a=a.apply(e,t||[])).next())}))},Le=function(e,t){var n,a,r,l,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,a=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},Ze=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,l=t.length;r<l;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},je=o.ZP.div(Ue||(Ue=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}(["\n  height: 400px;\n  padding-top: 200px;\n  padding-left: 400px;\n"],["\n  height: 400px;\n  padding-top: 200px;\n  padding-left: 400px;\n"]))),Ae=Ze(Ze([],re.zT,!0),[{title:"15",value:15},{title:"20",value:20},{title:"25",value:25}],!1),Ne=function(e){return e.filter((function(e){return e.enabled}))},Ve=function(e,t,n){return e.map((function(e){var a=(0,_.B3)(e.avgRunTime)*e.successful_hosts_total*parseFloat(n),r=(0,_.B3)(e.successful_elapsed_total)*parseFloat(t),l=(0,_.YD)(r,a);return Ge(Ge({},e),{delta:l,manualCost:a,automatedCost:r})}))};const qe=function(e){var t,n,l=e.slug,o=e.name,i=e.description,u=e.defaultParams,c=e.dataEndpoint,s=e.optionsEndpoint,m=e.schema,g=e.fullCard,v=void 0===g||g,y=(0,X.Bt)(c),b=(0,X.Bt)(s),T=(0,f.eR)(),w=(0,f.Kx)(u),_=w.queryParams,C=w.setFromToolbar,S=w.setFromPagination,P=(0,a.useState)(""),R=P[0],D=P[1],O=(0,a.useState)(""),F=O[0],I=O[1],G=function(e){var t=e.legend;return(void 0===t?[]:t).map((function(e){return Ge(Ge({},e),{delta:0,avgRunTime:60*e.manual_effort_minutes||3600,manualCost:0,automatedCost:0,enabled:e.template_weigh_in})}))},B=(0,E.ZP)(b,{sort_options:[{key:u.sort_options,value:u.sort_options}]}),L=B.result,Z=B.request,j=(0,E.ZP)((function(e){return Be(void 0,void 0,void 0,(function(){var t;return Le(this,(function(n){switch(n.label){case 0:return[4,y(e)];case 1:return t=n.sent(),[2,Ge(Ge({},t),{items:Ve(G(t.meta),t.cost.hourly_manual_labor_cost,t.cost.hourly_automation_cost)})]}}))}))}),{items:[],meta:{count:0}}),A=j.request,N=j.setValue,V=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(j,["request","setValue"]),q=function(e){return N(Ge(Ge({},V.result),{items:e}))},U=function(e,t,n){return void 0===t&&(t=R),void 0===n&&(n=F),{currency:"USD",hourly_manual_labor_cost:t,hourly_automation_cost:n,templates_manual_equivalent:e.map((function(e){return{template_id:e.id,effort_minutes:e.avgRunTime/60,template_weigh_in:e.enabled}}))}},M=(0,Oe.useDispatch)(),H=function(e,t){return Be(void 0,void 0,void 0,(function(){var n,a,r;return Le(this,(function(l){switch(l.label){case 0:n="automation_cost"===e?t:F,a="manual_cost"===e?t:R,r="automation_cost"===e?"Automation cost":"Manual cost",l.label=1;case 1:return l.trys.push([1,3,,4]),[4,(0,X.mN)(U(V.result.items,a,n))];case 2:return l.sent(),[3,4];case 3:return l.sent(),M((0,Fe.wN)({title:"Unable to save changes to "+r+".",description:"Unable to save changes "+r+". Please try again.",variant:Ie.k.danger,autoDismiss:!1})),[2];case 4:return"manual_cost"===e?D(t):I(t),[2]}}))}))},z=function(e){return function(t){return Be(void 0,void 0,void 0,(function(){var n;return Le(this,(function(a){switch(a.label){case 0:n=e?V.result.items.map((function(n){return n.id===e?Ge(Ge({},n),{enabled:t}):n})):V.result.items.map((function(e){return Ge(Ge({},e),{enabled:t})})),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,X.mN)(U(n))];case 2:return a.sent(),[3,4];case 3:return a.sent(),M((0,Fe.wN)({title:"Unable to save changes to visibility",description:"Unable to save changes to visibility. Please try again.",variant:Ie.k.danger,autoDismiss:!1})),[2];case 4:return q(n),[2]}}))}))}};(0,a.useEffect)((function(){var e;!(null===(e=V.result)||void 0===e?void 0:e.cost)||F||R||(D(V.result.cost.hourly_manual_labor_cost),I(V.result.cost.hourly_automation_cost))}),[V]),(0,a.useEffect)((function(){q(Ve(V.result.items,F,R))}),[F,R]),(0,a.useEffect)((function(){Z(_),A(_)}),[_]);var W={y:_.sort_options,tooltip:"Savings for",field:_.sort_options,label:(null===(n=null===(t=L.sort_options)||void 0===t?void 0:t.find((function(e){return e.key===_.sort_options})))||void 0===n?void 0:n.value)||"Label Y"},Y=function(e){var t=e.datum;return W.label+" for "+t.name+": "+function(e,t){var n;switch(e){case"elapsed":n=t.toFixed(2)+" seconds";break;case"template_automation_percentage":n=t.toFixed(2)+"%";break;case"successful_hosts_savings":case"failed_hosts_costs":case"monetary_gain":n=(0,k.Z)(t);break;default:n=t.toFixed(2)}return n}(_.sort_options,t.y)},J=function(e){var t,n,a,r;return!(null===(n=null===(t=e.result.rbac)||void 0===t?void 0:t.perms)||void 0===n?void 0:n.all)&&!(null===(r=null===(a=e.result.rbac)||void 0===a?void 0:a.perms)||void 0===r?void 0:r.write)},K=function(){var e;return r().createElement(d.Card,{isPlain:!0},v&&r().createElement(d.CardHeader,null,r().createElement(d.CardTitle,null,"Automation savings")),V.isLoading?r().createElement(je,null,r().createElement(d.Spinner,{isSVG:!0})):Ne(null===(e=null==V?void 0:V.result)||void 0===e?void 0:e.items).length>0?r().createElement(x.Z,{schema:le(m)({label:W.label,tooltip:W.tooltip,field:W.field}),data:{items:Ne(V.result.items)},specificFunctions:{labelFormat:{customTooltipFormatting:Y}}}):r().createElement(d.EmptyState,null,r().createElement(d.EmptyStateIcon,{icon:se.LP}),r().createElement(d.Title,{headingLevel:"h4",size:"lg"},"You have disabled all views"),r().createElement(d.EmptyStateBody,null,"Enable individual views in the table below or press Show all button."),r().createElement(d.Button,{variant:"primary",onClick:function(){return z(void 0)(!0)}},"Show all")))},$=function(){return r().createElement(d.Stack,null,r().createElement(d.StackItem,null,r().createElement(fe,{totalSavings:(e=Ne(V.result.items),e.reduce((function(e,t){return e+t.delta}),0)),isLoading:V.isLoading})),r().createElement(d.StackItem,null,r().createElement(d.Stack,null,r().createElement(d.StackItem,null,r().createElement(he,{costManual:R,setFromCalculation:H,costAutomation:F,readOnly:J(V)})),r().createElement(d.StackItem,null,r().createElement(ke,null)))));var e};return r().createElement(h,{api:V,customLoading:!0},v?r().createElement(d.Card,null,r().createElement(d.CardBody,null,r().createElement(me.Z,{categories:L,filters:_,setFilters:C,pagination:r().createElement(p.Z,{count:V.result.meta.count,perPageOptions:Ae,params:{limit:+_.limit,offset:+_.offset},setPagination:S,isCompact:!0}),additionalControls:[r().createElement(ae,{key:"download-button",slug:l,name:o,description:i,endpointUrl:c,queryParams:_,selectOptions:L,y:"",label:"",xTickFormat:"",totalCount:V.result.meta.count,onPageCount:_.limit,sortOptions:W.y,sortOrder:_.sort_order,startDate:_.start_date,endDate:_.end_date,dateRange:_.quick_date_range,inputs:{costManual:R,costAutomation:F}})]}),r().createElement(d.Grid,{hasGutter:!0},r().createElement(d.GridItem,{span:9},K()),r().createElement(d.GridItem,{span:3},$()),r().createElement(d.GridItem,{span:12},r().createElement("p",null,"Enter the time it takes to run the following templates manually."),V.isLoading?r().createElement(d.Spinner,{isSVG:!0}):r().createElement(Re,{redirectToJobExplorer:function(e){var t,n=((t={})[f.zG]=Ge(Ge({},de.cY.defaultParams),{quick_date_range:"last_30_days",template_id:[e]}),t);T(De.n.jobExplorer,n)},data:V.result.items,variableRow:L.sort_options.find((function(e){return e.key===_.sort_options})),setDataRunTime:function(e,t){return Be(void 0,void 0,void 0,(function(){var n;return Le(this,(function(a){switch(a.label){case 0:n=V.result.items.map((function(n){return n.id===t?(n.avgRunTime=e,Ve([n],F,R)[0]):n})),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,X.mN)(U(n),M)];case 2:return a.sent(),[3,4];case 3:return a.sent(),M((0,Fe.wN)({title:"Unable to save changes to Manual time",description:"Unable to save changes to Manual time. Please try again.",variant:Ie.k.danger,autoDismiss:!1})),[2];case 4:return q(n),[2]}}))}))},setEnabled:z,getSortParams:function(){return{sort:{sortBy:{index:2,direction:_.sort_order||"none"},onSort:function(e,t,n){C("sort_order",n)},columnIndex:2}}},readOnly:J(V)})))),r().createElement(d.CardFooter,null,r().createElement(p.Z,{count:V.result.meta.count,perPageOptions:Ae,params:{limit:+_.limit,offset:+_.offset},setPagination:S,variant:d.PaginationVariant.bottom}))):r().createElement(r().Fragment,null,r().createElement(me.Z,{categories:L,filters:_,setFilters:C}),r().createElement(d.Grid,{hasGutter:!0},r().createElement(d.GridItem,{span:9},K()),r().createElement(d.GridItem,{span:3},$()))))};var Ue,Me=n(96865),He=function(){return He=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},He.apply(this,arguments)};const ze=function(e,t){switch(e.layoutComponent){case Me.E.Standard:return!0===t?r().createElement(ie,He({},e.layoutProps)):r().createElement(ie,He({},e.layoutProps,{fullCard:!1}));case Me.E.AutomationCalculator:return!0===t?r().createElement(qe,He({},e.layoutProps)):r().createElement(qe,He({},e.layoutProps,{fullCard:!1}))}};var We=n(37540),Ye=n(22030),Je=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Xe=o.ZP.p(Qe||(Qe=Je(["\n  max-width: 70em;\n  padding-top: 8px;\n"],["\n  max-width: 70em;\n  padding-top: 8px;\n"]))),Ke=(0,o.ZP)(d.Label)(et||(et=Je(["\n  margin-top: 16px;\n  margin-right: 10px;\n  margin-bottom: 10px;\n"],["\n  margin-top: 16px;\n  margin-right: 10px;\n  margin-bottom: 10px;\n"])));const $e=function(){var e=location.pathname.split("/").pop(),t=(0,We.Q)(e),n=[{title:"Reports",navigate:Ye.Z.get}];return function(){if(t){var e=t.layoutProps,a=e.name,l=e.description,o=e.tags;return r().createElement(r().Fragment,null,r().createElement(c.Z,null,r().createElement(m.Z,{items:n}),r().createElement(s.Z,{title:a}),r().createElement(Xe,null,l),o.map((function(e,t){var n=re.DX.find((function(t){return t.key===e}));if(n)return r().createElement(d.Tooltip,{key:"tooltip_"+t,position:d.TooltipPosition.bottom,content:n.description},r().createElement(Ke,{key:t},n.name))}))),r().createElement(i.Z,null,ze(t,!0)))}return r().createElement(u.Z,{title:"404: Page does not exist.",body:"The report you are looking for does not exist.",buttonText:"Return to Reports page",link:Ye.Z.get})}()};var Qe,et,tt=n(71973),nt=n(5964),at=n(93174),rt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},lt=(0,o.ZP)(d.CardTitle)(ct||(ct=rt(["\n  word-break: break-word;\n"],["\n  word-break: break-word;\n"]))),ot=o.ZP.small(st||(st=rt(["\n  display: block;\n  margin-bottom: 10px;\n  color: #6a6e73;\n  white-space: pre-line;\n"],["\n  display: block;\n  margin-bottom: 10px;\n  color: #6a6e73;\n  white-space: pre-line;\n"]))),it=(0,o.ZP)(d.Label)(mt||(mt=rt(["\n  margin-right: 10px;\n  margin-bottom: 10px;\n"],["\n  margin-right: 10px;\n  margin-bottom: 10px;\n"])));const ut=function(e){var t=e.report.layoutProps,n=t.slug,a=t.description,o=t.name,i=t.tags,u=e.selected,c=e.setSelected,s=e.history;return r().createElement(d.Card,{"data-testid":n,onClick:function(){c(n),s.replace({search:""})},isSelectableRaised:!0,isSelected:u===n},r().createElement(d.CardHeader,null,r().createElement(d.CardHeaderMain,null,r().createElement(lt,null,r().createElement(l.Link,{to:Ye.Z.getDetails(n)},o)))),r().createElement(d.CardBody,null,a?r().createElement(ot,null,a):null),r().createElement(d.CardFooter,null,i.map((function(e,t){var n=re.DX.find((function(t){return t.key===e}));if(n)return r().createElement(d.Tooltip,{key:"tooltip_"+t,position:d.TooltipPosition.top,content:n.description},r().createElement(it,{key:t},n.name))}))))};var ct,st,mt;const dt=function(){var e=(0,a.useState)("hosts_changed_by_job_template"),t=e[0],n=e[1],o=(0,a.useState)(!1),u=o[0],m=o[1],p=(0,l.useHistory)(),f=0,E="",g="",v=[(0,We.I)().map((function(e){return r().createElement(d.Button,{key:e.layoutProps.slug,variant:d.ButtonVariant.plain,"aria-label":"Report list item",onClick:function(){return n(e.layoutProps.slug)}},r().createElement(d.DropdownItem,{key:e.layoutProps.slug},e.layoutProps.name))}))];return r().createElement(r().Fragment,null,r().createElement(c.Z,null,r().createElement(s.Z,{title:"Reports"})),r().createElement(i.Z,null,(0,We.I)().filter((function(e){return e.layoutProps.slug===t})).map((function(e){return f=(0,We.I)().indexOf(e),(0,We.I)().indexOf(e)<(0,We.I)().length-1&&(E=(0,We.I)()[f+1].layoutProps.slug),(0,We.I)().indexOf(e)>0&&(g=(0,We.I)()[f-1].layoutProps.slug),r().createElement(r().Fragment,null,r().createElement(d.Card,{key:e.layoutProps.slug,style:{maxWidth:"100%",marginBottom:"25px"},isCompact:!0},r().createElement(d.CardHeader,{style:{paddingTop:"16px",paddingBottom:"16px",paddingRight:"0px"}},r().createElement(d.CardTitle,null,r().createElement(l.Link,{to:Ye.Z.getDetails(e.layoutProps.slug)},e.layoutProps.name)),r().createElement(d.CardActions,{style:{marginLeft:"15px",marginTop:"-2px"}},e.layoutProps.tags.map((function(e,t){var n=re.DX.find((function(t){return t.key===e}));if(n)return r().createElement(d.Tooltip,{key:"tooltip_"+t,position:d.TooltipPosition.top,content:n.description},r().createElement(d.Label,{key:t},n.name))}))),r().createElement(d.CardActions,null,r().createElement(d.Button,{variant:d.ButtonVariant.plain,"aria-label":"Previous report",isDisabled:0===(0,We.I)().indexOf(e),onClick:function(){n(g),p.replace({search:""})}},r().createElement(tt.fP,null)),r().createElement(d.Dropdown,{isPlain:!0,onSelect:function(){m(!u),p.replace({search:""})},toggle:r().createElement(d.DropdownToggle,{onToggle:function(e){return m(e)},toggleIndicator:nt.VA,id:"report_list",style:{color:"#151515"}},e.layoutProps.name),isOpen:u,dropdownItems:v}),r().createElement(d.Button,{variant:d.ButtonVariant.plain,"aria-label":"Next report",isDisabled:(0,We.I)().indexOf(e)>=(0,We.I)().length-1,onClick:function(){n(E),p.replace({search:""})}},r().createElement(at.oR,null)))),r().createElement(d.Divider,null),ze(e,!1),r().createElement(d.CardFooter,{style:{paddingBottom:"16px"}},r().createElement(l.Link,{to:Ye.Z.getDetails(e.layoutProps.slug),style:{float:"right"}},"View full report"))))})),r().createElement(d.Gallery,{"data-testid":"all_reports",hasGutter:!0,minWidths:{sm:"307px",md:"307px",lg:"307px",xl:"307px","2xl":"307px"}},(0,We.I)().map((function(e){return r().createElement(ut,{key:e.layoutProps.slug,report:e,selected:t,setSelected:n,history:p})})))))},pt=function(){return r().createElement(l.Switch,null,r().createElement(l.Route,{exact:!0,path:Ye.Z.get},r().createElement(dt,null)),r().createElement(l.Route,{path:Ye.Z.details},r().createElement($e,null)))}}}]);
//# sourceMappingURL=../sourcemaps/182.d54bedbb91e02b827fc7bf0e04eaed8c.js.map