"use strict";(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[235],{53235:(t,e,a)=>{a.d(e,{Z:()=>y});var i=a(97326),n=a(60136),o=a(6215),r=a(61120),s=a(15671),l=a(43144),d=a(4942),u=a(45697),h=a.n(u),p=a(92950),c=a.n(p),m=a(25914),f=a(87986),g=a(91354);var x=function(){function t(e){var a=this;(0,s.Z)(this,t),(0,d.Z)(this,"handleMouseOver",(function(t){var e,i,n,o,r=m.Ys("#d3-roi-chart-root").node().scrollLeft,s=m.Ba6.pageX-m.Ys(a.svg).node().getBoundingClientRect().x+10+r,l=m.Ba6.pageY-m.Ys(a.svg).node().getBoundingClientRect().y-30;if(t){i=(0,g.Z)(+t.delta),e=t.name,n=(0,g.Z)(+t.manualCost),o=(0,g.Z)(+t.automatedCost);var d=a.toolTipBase.node().getBoundingClientRect().width,u=m.Ys(a.svg+"> svg").node().getBoundingClientRect().width,h=100-d/u*100<s/u*100;a.name.text(""+e),a.savings.text("Total savings ".concat(i)),a.manualCost.text("Manual Cost ".concat(n)),a.automationCost.text("Automation Cost ".concat(o)),a.nameWidth=a.name.node().getComputedTextLength(),a.savingsWidth=a.savings.node().getComputedTextLength(),a.manualCostWidth=a.manualCost.node().getComputedTextLength(),a.automationCostWidth=a.automationCost.node().getComputedTextLength(),a.widestTextElem=m.Fp7([a.nameWidth,a.savingsWidth,a.automationCostWidth,a.manualCostWidth]);var p,c=a.widestTextElem/a.boxWidth*100,f=c/85;p=c>85?a.boxWidth*f:a.boxWidth,a.boundingBox.attr("width",p),a.toolTipBase.attr("transform","translate("+s+","+l+")"),h?(a.toolTipPoint.attr("transform","translate(-20, 15) rotate(45)"),a.boundingBox.attr("x",-p-20),a.name.attr("x",-(d-7)),a.savings.attr("x",-(d-7)),a.manualCost.attr("x",-(d-7)),a.automationCost.attr("x",-(d-7))):(a.toolTipPoint.attr("transform","translate(10, 15) rotate(45)"),a.boundingBox.attr("x",10),a.name.attr("x",20),a.savings.attr("x",20),a.manualCost.attr("x",20),a.automationCost.attr("x",20)),a.toolTipBase.style("opacity",1),a.toolTipBase.interrupt()}})),(0,d.Z)(this,"handleMouseOut",(function(){a.toolTipBase.transition().delay(15).style("opacity",0).style("pointer-events","none")})),this.svg=e.svg,this.draw()}return(0,l.Z)(t,[{key:"draw",value:function(){this.width=125,this.toolTipBase=m.Ys(this.svg+"> svg").append("g"),this.toolTipBase.attr("id","svg-chart-Tooltip-base-"+this.svg.slice(1)),this.toolTipBase.attr("overflow","visible"),this.toolTipBase.style("opacity",0),this.toolTipBase.style("pointer-events","none"),this.toolTipBase.attr("transform","translate(100, 100)"),this.boxWidth=125,this.textWidthThreshold=20,this.toolTipPoint=this.toolTipBase.append("rect").attr("transform","translate(10, 0) rotate(45)").attr("x",0).attr("y",0).attr("height",20).attr("width",20).attr("fill","#393f44"),this.boundingBox=this.toolTipBase.append("rect").attr("x",10).attr("y",-23).attr("rx",2).attr("height",92).attr("width",this.boxWidth).attr("fill","#393f44"),this.name=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",20).attr("y",-2).text("Template name"),this.savings=this.toolTipBase.append("text").attr("x",20).attr("y",52).attr("font-size",12).attr("font-weight","bold").attr("fill","white").text("Total savings $0"),this.manualCost=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",20).attr("y",16).text("Manual cost $0"),this.automationCost=this.toolTipBase.append("text").attr("fill","white").attr("font-size",12).attr("x",20).attr("y",34).text("Automation cost $0")}}]),t}(),v=function(t){(0,n.Z)(u,t);var e,a,d=(e=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,r.Z)(e);if(a){var n=(0,r.Z)(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return(0,o.Z)(this,t)});function u(t){var e;return(0,s.Z)(this,u),(e=d.call(this,t)).init=e.init.bind((0,i.Z)(e)),e.draw=e.draw.bind((0,i.Z)(e)),e.resize=e.resize.bind((0,i.Z)(e)),e.state={timeout:null},e}return(0,l.Z)(u,[{key:"resize",value:function(){var t=this,e=this.state.timeout;clearTimeout(e),this.setState({timeout:setTimeout((function(){t.init()}),500)})}},{key:"init",value:function(){this.draw()}},{key:"draw",value:function(){var t="#0066CC";m.td_("#"+this.props.id+" > *").remove();var e,a=this.props.data;e=a.length>=15?m.Ys(".automation-wrapper").node().getBoundingClientRect().width-this.props.margin.left-this.props.margin.right:this.props.getWidth();var i,n=this.props.getHeight(),o=m.tiA().rangeRound([0,e]).padding(.45),r=m.BYU().range([n,0]);i=a.map((function(t){return t.name}));var s=m.WUZ(".2s"),l=m.LLu(o).tickValues(i),d=m.y4O(r).ticks(8).tickFormat((function(t){return s(t).replace("G","B")})).tickSize(-e,0,0),u=m.Ys("#"+this.props.id).append("svg").attr("width",e+this.props.margin.left+this.props.margin.right).attr("height",n+this.props.margin.bottom+this.props.margin.top).append("g").attr("transform","translate("+this.props.margin.left+","+this.props.margin.top+")"),h=a.map((function(t){return t.name})),p=new x({svg:"#"+this.props.id});o.domain(h),r.domain([0,m.Fp7(a,(function(t){return 1.15*t.delta}))||8]),u.append("g").attr("class","y axis").call(d).selectAll("line").attr("stroke","#d7d7d7").append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").style("font-weight","bold").text("Value"),u.append("text").attr("transform","rotate(-90)").attr("y",0-this.props.margin.left).attr("x",0-n/2).attr("dy","1em").style("text-anchor","middle").text("Savings per template ($)"),u.append("g").attr("class","x-axis").attr("transform","translate(0,"+n+")").call(l).selectAll("text").style("text-anchor","start").attr("dx","0.75em").attr("dy",-o.bandwidth()/1.45-8).attr("transform","rotate(-90)"),u.selectAll(".x-axis line").attr("stroke","transparent"),u.selectAll(".bar").data(a).enter().append("rect").attr("x",(function(t){return o(t.name)})).attr("width",o.bandwidth()).attr("y",(function(t){return r(t.delta)})).style("fill",(function(){return t})).attr("height",(function(t){return n-r(t.delta)})).on("mouseover",(function(e){m.Ys(this).style("fill",m.B8C(t).darker(1)),p.handleMouseOver(e)})).on("mousemove",p.handleMouseOver).on("mouseout",(function(){m.Ys(this).style("fill",t),p.handleMouseOut()}))}},{key:"componentDidMount",value:function(){this.init(),window.addEventListener("resize",this.resize)}},{key:"componentWillUnmount",value:function(){var t=this.state.timeout;clearTimeout(t),window.removeEventListener("resize",this.resize)}},{key:"componentDidUpdate",value:function(){this.init()}},{key:"render",value:function(){return c().createElement("div",{id:this.props.id})}}]),u}(p.Component);v.propTypes={id:h().string,data:h().array,margin:h().object,getHeight:h().func,getWidth:h().func};const y=(0,f.Z)(v)}}]);
//# sourceMappingURL=../sourcemaps/235.6efeeb0dcd5fdbb2147f0f7de51dbf09.js.map