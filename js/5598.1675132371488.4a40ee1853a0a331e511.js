"use strict";(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[5598],{75386:(e,t,n)=>{n.d(t,{IE:()=>a});const a=(0,n(40400).IU)({name:"CogIcon",height:512,width:512,svgPath:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z",yOffset:0,xOffset:0})},76889:(e,t,n)=>{n.d(t,{k1:()=>a});const a=(0,n(40400).IU)({name:"FilterIcon",height:512,width:512,svgPath:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z",yOffset:0,xOffset:0})},91290:(e,t,n)=>{n.d(t,{iC:()=>a});const a=(0,n(40400).IU)({name:"OutlinedQuestionCircleIcon",height:512,width:512,svgPath:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z",yOffset:0,xOffset:0})},80810:(e,t,n)=>{n.d(t,{W1:()=>a,ZP:()=>l});const a=(0,n(40400).IU)({name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0}),l=a},60532:(e,t,n)=>{n.d(t,{WJ:()=>a});const a=(0,n(40400).IU)({name:"SortAmountDownIcon",height:512,width:512,svgPath:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-128-64h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.37 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm256-192H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",yOffset:0,xOffset:0})},44610:(e,t,n)=>{n.d(t,{um:()=>a});const a=(0,n(40400).IU)({name:"SortAmountUpIcon",height:512,width:512,svgPath:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.77 160 16 160zm416 0H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",yOffset:0,xOffset:0})},94592:(e,t,n)=>{n.d(t,{Z:()=>_});var a,l,r,o,c,i=n(30168),s=n(92950),u=n.n(s),m=n(29163),d=n(45697),f=n.n(d),g=m.ZP.div(a||(a=(0,i.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  width: 100%;\n  max-width: 100%;\n  height: 1rem;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n"]))),h=m.ZP.div(l||(l=(0,i.Z)(["\n  height: 100%;\n"]))),p=m.ZP.div(r||(r=(0,i.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin-bottom: 1rem;\n"]))),v=m.ZP.div(o||(o=(0,i.Z)(["\n  padding-left: 2rem;\n  display: flex;\n  align-items: center;\n  margin-bottom: 1.5rem;\n"]))),E=m.ZP.div(c||(c=(0,i.Z)(["\n  width: 0.75rem;\n  height: 0.75rem;\n  margin-right: 0.5rem;\n"])));function b(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}var y=function(e){var t=e.categoryCount,n=e.categoryColor,a=e.showPercent,l=void 0!==a&&a,r=Object.values(t).reduce((function(e,t){return e+t})),o=Object.keys(t).filter((function(e){return t[e]>0})).sort((function(e,n){return t[e]<t[n]?1:t[e]>t[n]?-1:0})).map((function(e){return{name:e,barSpacing:t[e]/r,color:n[e]}})),c=1-.15*(o.length-1)/100;return u().createElement(u().Fragment,null,u().createElement(g,null,o.map((function(e,t){var n=e.barSpacing,a=e.color;return t<o.length-1?u().createElement(u().Fragment,{key:t},u().createElement(h,{style:{backgroundColor:a,width:"".concat(100*n*c,"%")}}),u().createElement(h,{style:{backgroundColor:"transparent",width:"".concat(.15,"%")}})):u().createElement(u().Fragment,{key:t},u().createElement(h,{style:{backgroundColor:a,width:"".concat(100*n*c,"%")}}))}))),u().createElement(p,null,o.map((function(e){var t=e.name,n=e.barSpacing,a=e.color;return u().createElement(v,{key:"label-".concat(t)},u().createElement(E,{style:{backgroundColor:a}}),l?u().createElement("p",null,b(t)," ",Math.round(100*n),"%"):u().createElement("p",null,b(t)))}))))};y.propTypes={categoryColor:f().object.isRequired,categoryCount:f().object.isRequired,showPercent:f().bool};const _=y},23674:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var a=n(92950),l=n.n(a),r=n(16559),o=n(77388),c=n(48236),i=n(37384),s=n(9771),u=n(12613),m=n(49148),d=n(35993),f=n(86350),g=n(48716),h=n(39173),p=n(1085),v=n(87462),E=n(70885),b=n(45697),y=n.n(b),_=n(48607),w=n(53345),P=n(75319),C=n(94592),O=n(91573),k={ok:O.global_palette_green_300.value,passed:O.global_palette_green_300.value,unreachable:O.global_palette_black_400.value,changed:O.global_palette_gold_300.value,failed:O.global_palette_red_100.value,skipped:O.global_palette_blue_300.value},x=function(e){var t,n,r,o,c,i,s,u=e.job,m=(0,a.useState)(!1),d=(0,E.Z)(m,2),f=d[0],g=d[1],h=u?{ok:null!==(t=null==u?void 0:u.ok_host_count)&&void 0!==t?t:0,skipped:null!==(n=null==u?void 0:u.skipped_host_count)&&void 0!==n?n:0,changed:null!==(r=null==u?void 0:u.changed_host_count)&&void 0!==r?r:0,failed:null!==(o=null==u?void 0:u.failed_host_count)&&void 0!==o?o:0,unreachable:null!==(c=null==u?void 0:u.unreachable_host_count)&&void 0!==c?c:0}:null,v=[{label:"Created",value:u.created?(0,w.o0)(u.created):"Unavailable"},{label:"Started",value:u.created?(0,w.o0)(u.started):"Unavailable"},{label:"Finished",value:u.created?(0,w.o0)(u.finished):"Unavailable"},{label:"Tasks",value:null!==(i=u.host_task_count)&&void 0!==i?i:0}];return l().createElement(l().Fragment,null,l().createElement(_.Tr,null,l().createElement(_.Td,{expand:{rowIndex:u.id.id,isExpanded:f,onToggle:function(){g(!f)}}}),l().createElement(_.Td,null,l().createElement("a",{href:u.id.tower_link,target:"_blank",rel:"noopener noreferrer"},"".concat(u.id.id," - ").concat(u.id.template_name))),l().createElement(_.Td,null,l().createElement(P.Z,{status:null==u?void 0:u.status})),l().createElement(_.Td,null,null==u?void 0:u.cluster_name),l().createElement(_.Td,null,null==u?void 0:u.org_name),l().createElement(_.Td,null,(0,w.GV)(null==u?void 0:u.job_type))),l().createElement(_.Tr,{isExpanded:f},l().createElement(_.Td,{colSpan:6},l().createElement(_.ExpandableRowContent,null,l().createElement(p.Flex,null,l().createElement(p.FlexItem,null,l().createElement("strong",null,"Host status")),l().createElement(p.FlexItem,{align:{default:"alignRight"}},l().createElement("strong",null,"Hosts"),"  ",null!==(s=null==u?void 0:u.host_count)&&void 0!==s?s:0)),l().createElement(C.Z,{categoryCount:h,categoryColor:k,showPercent:!0}),function(e){var t=(0,a.useState)(!1),n=(0,E.Z)(t,2),r=n[0],o=n[1];if(null!=e)return l().createElement(l().Fragment,null,l().createElement("p",null,l().createElement("strong",null,"Top failed tasks")),l().createElement(p.Grid,{hasGutter:!0},e.slice(0,r?e.length:2).map((function(e,t){var n,a,r,o={passed:null!==(n=null==e?void 0:e.passed_host_count)&&void 0!==n?n:0,failed:null!==(a=null==e?void 0:e.failed_host_count)&&void 0!==a?a:0,unreachable:null!==(r=null==e?void 0:e.unreachable_host_count)&&void 0!==r?r:0};return l().createElement(p.GridItem,{lg:6,md:12,key:"most-failed-".concat(t)},l().createElement(p.Flex,null,l().createElement(p.FlexItem,null,l().createElement("strong",null,"Task name ")," ",null==e?void 0:e.task_name),l().createElement(p.FlexItem,{align:{default:"alignRight"}},l().createElement("strong",null,"Module name ")," ",null==e?void 0:e.module_name)),l().createElement(C.Z,{categoryCount:o,categoryColor:k,showPercent:!0}))}))),e.length>2?function(e,t){return l().createElement(p.Flex,{className:"pf-u-mb-md"},l().createElement(p.FlexItem,{align:{default:"alignRight"}},l().createElement(p.Button,{variant:"secondary",onClick:function(){t(!e)},fullWidth:{default:"fullWidth"}},e?"Show less":"Show more")))}(r,o):null)}(u.most_failed_tasks),l().createElement(p.DescriptionList,{isHorizontal:!0,columnModifier:{lg:"3Col"}},v.map((function(e){var t=e.label,n=e.value;return l().createElement(p.DescriptionListGroup,{key:t},l().createElement(p.DescriptionListTerm,null,t),l().createElement(p.DescriptionListDescription,null,n))})))))))};x.propTypes={job:y().object.isRequired};const Z=x;var S=["Id/Name","Status","Cluster","Organization","Type"],I=["Id/Name","Status","Type"],T={0:"id",1:"status",4:"job_type"},j={id:0,status:1,job_type:4},z=function(e){var t=e.jobs,n=e.queryParams,r=e.queryParamsDispatch,o=(0,a.useState)(-1),c=(0,E.Z)(o,2),i=c[0],s=c[1],u=(0,a.useState)("none"),m=(0,E.Z)(u,2),d=m[0],f=m[1];(0,a.useEffect)((function(){(null==n?void 0:n.sort_options)in j?(s(j[n.sort_options]),f(null==n||!n.sort_order||"desc"!==n.sort_order&&"asc"!==n.sort_order?"desc":n.sort_order)):(s(-1),f("none"))}),[n]);var g=function(e,t,n){t!==i&&(s(t),r({type:"SET_SORT_OPTIONS",value:{sort_options:T[t]}})),n!==d&&(f(n),r({type:"SET_SORT_ORDER",value:{sort_order:n}}))};return l().createElement(_.TableComposable,{"aria-label":"Job Explorer Table",variant:"compact"},l().createElement(_.Thead,null,l().createElement(_.Tr,null,l().createElement(_.Th,null),S.map((function(e,t){var n=I.includes(e)?{sort:{sortBy:{index:i,direction:d},onSort:g,columnIndex:t}}:{};return l().createElement(_.Th,(0,v.Z)({key:"col-".concat(t)},n),e)})))),l().createElement(_.Tbody,null,t.map((function(e){return l().createElement(Z,{job:e,key:e.id.id})}))))};z.propTypes={jobs:y().array.isRequired,queryParams:y().object.isRequired,queryParamsDispatch:y().func.isRequired};const R=z;var q=n(83474),F=n(43345);const M=function(){var e=(0,r.Kx)(d.cY.defaultParams),t=e.queryParams,n=e.setFromPagination,v=e.setFromToolbar,E=e.dispatch,b=(0,o.ZP)(m.ZW,{}),y=b.result,_=b.error,w=b.request,P=(0,o.ZP)(m.Ij,{items:[],meta:{count:0}}),C=P.result,O=C.items,k=C.meta,x=P.isLoading,Z=P.isSuccess,S=P.request;return(0,a.useEffect)((function(){w(t),S(t)}),[t]),_?l().createElement(s.Z,{message:_.error.error}):l().createElement(l().Fragment,null,l().createElement(g.Z,null,l().createElement(h.Z,{title:"Job Explorer"})),l().createElement(f.Z,null,l().createElement(p.Card,null,l().createElement(p.CardBody,null,l().createElement(q.Z,{categories:y,filters:t,setFilters:v,pagination:l().createElement(u.Z,{count:k.count,params:{limit:+t.limit,offset:+t.offset},setPagination:n,isCompact:!0}),settingsPanel:function(e,n){return l().createElement(F.fQ,{filters:t,setFilters:v,settingsExpanded:n,setSettingsExpanded:e,id:"showRootWorkflowJobs",label:"Ignore nested workflows and jobs",labelOff:"Ignore nested workflows and jobs",isChecked:t.only_root_workflows_and_standalone_jobs,onChange:function(e){v("only_root_workflows_and_standalone_jobs",e)},ariaLabel:"ignore nested workflow popover",bodyContent:"If enabled, nested workflows and jobs will not be included in the overall totals. Enable this option to filter out duplicate entries."})},hasSettings:!0}),x&&l().createElement(c.Z,null),Z&&O.length<=0&&l().createElement(i.Z,null),Z&&O.length>0&&l().createElement(R,{jobs:O,queryParams:t,queryParamsDispatch:E}),l().createElement(u.Z,{count:k.count,params:{limit:+t.limit,offset:+t.offset},setPagination:n,variant:p.PaginationVariant.bottom})))))}},37384:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(92950),l=n.n(a),r=n(1085),o=n(80810);const c=function(){return l().createElement(r.EmptyState,{variant:r.EmptyStateVariant.full},l().createElement(r.EmptyStateIcon,{icon:o.W1}),l().createElement(r.Title,{size:"lg",headingLevel:"h4"},"No results found"),l().createElement(r.EmptyStateBody,null,"No results match the filter criteria. Remove all filters or clear all filters to show results."))}},75319:(e,t,n)=>{n.d(t,{Z:()=>f});var a=n(92950),l=n.n(a),r=n(1085),o=n(40400);const c=(0,o.IU)({name:"SyncAltIcon",height:512,width:512,svgPath:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z",yOffset:0,xOffset:0}),i=(0,o.IU)({name:"ClockIcon",height:512,width:512,svgPath:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z",yOffset:0,xOffset:0});var s=n(68778),u=n(43047),m=n(69957),d=n(53345);const f=function(e){var t=e.status;return l().createElement(r.Label,{variant:"outline",color:function(){switch(t){case"successful":return"green";case"failed":case"error":return"red";case"running":case"pending":return"blue";case"canceled":return"orange";default:return"grey"}}(),icon:function(){switch(t){case"successful":return l().createElement(s.rE,null);case"failed":case"error":return l().createElement(u.$O,null);case"running":return l().createElement(c,null);case"canceled":return l().createElement(m.LP,null);default:return l().createElement(i,null)}}(),style:{marginRight:"0.5rem",marginBottom:"0.5rem"}},(0,d.kC)(t))}},12613:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(92950),l=n.n(a),r=n(45697),o=n.n(r),c=n(1085),i=function(){return i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},i.apply(this,arguments)},s=[{title:"5",value:5},{title:"10",value:10},{title:"15",value:15},{title:"20",value:20},{title:"25",value:25}],u=function(e){var t=e.count,n=void 0===t?0:t,a=e.perPageOptions,r=void 0===a?null:a,o=e.params,u=e.setPagination,m=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n}(e,["count","perPageOptions","params","setPagination"]),d=o.offset,f=o.limit,g=Math.floor(d/f+1),h=function(e){return(e-1)*f};return l().createElement(c.Pagination,i({"data-cy":m.isCompact?"pagination_top":"pagination_bottom",itemCount:n,widgetId:"aa-pagination",perPageOptions:null!=r?r:s,perPage:f,page:g,onPerPageSelect:function(e,t,n){u(h(n),t)},onSetPage:function(e,t){u(h(t))}},m))};u.propTypes={count:o().number,params:o().exact({offset:o().number.isRequired,limit:o().number.isRequired}).isRequired,setPagination:o().func.isRequired,perPageOptions:o().arrayOf(o().exact({title:o().string.isRequired,value:o().number.isRequired}).isRequired)};const m=u}}]);
//# sourceMappingURL=../sourcemaps/5598.dc8a59e77a7b1d3a55cd00839c22b6a9.js.map