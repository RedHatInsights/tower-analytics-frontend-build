"use strict";(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[7012],{3755:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var r=n(92950),a=n.n(r),l=n(81163),o=n(86350),i=n(48716),c=n(39173),u=n(1085),s=n(71973),p=n(5964),d=n(93174),m=n(22030),f=n(29163),g=n(74221),y=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},E=(0,f.ZP)(u.CardTitle)(k||(k=y(["\n  word-break: break-word;\n"],["\n  word-break: break-word;\n"]))),h=f.ZP.small(x||(x=y(["\n  display: block;\n  margin-bottom: 10px;\n  color: #6a6e73;\n  white-space: pre-line;\n"],["\n  display: block;\n  margin-bottom: 10px;\n  color: #6a6e73;\n  white-space: pre-line;\n"]))),b=(0,f.ZP)(u.Label)(w||(w=y(["\n  margin-right: 10px;\n  margin-bottom: 10px;\n"],["\n  margin-right: 10px;\n  margin-bottom: 10px;\n"])));const v=function(e){var t=e.report,n=t.slug,r=t.description,o=t.name,i=t.tags,c=e.selected,s=e.setSelected,p=(0,l.useNavigate)();return a().createElement(u.Card,{"data-cy":n,isSelectableRaised:!0,isSelected:c===n,onClick:function(){s(n)}},a().createElement(u.CardHeader,null,a().createElement(u.CardHeaderMain,null,a().createElement(E,{onClick:function(e){return e.stopPropagation()}},a().createElement(u.Tooltip,{content:a().createElement("div",null,"Click to go to report details")},a().createElement(l.Link,{to:m.Z.getDetails(n)},o))))),a().createElement(u.CardBody,{onClick:function(){p({search:""}),s(n)}},r?a().createElement(u.Tooltip,{content:a().createElement("div",null,"Show report in preview"),position:"bottom"},a().createElement(h,null,r)):null),a().createElement(u.CardFooter,null,i.map((function(e,t){var n=g.DX.find((function(t){return t.key===e}));if(n)return a().createElement(u.Tooltip,{key:"tooltip_".concat(t),position:u.TooltipPosition.top,content:n.description},a().createElement(b,{key:t},n.name))}))))};var k,x,w,C=n(54903),_=n(77388),P=n(49148),Z=n(35993),T=n(77685),B=n(68936),D=n(10001),S=n(83061);const O=function(){var e,t=(0,r.useState)(!1),n=t[0],f=t[1],y=0,E="",h="",b=(0,T.Kx)((0,Z.Me)("reports"),"allReports").queryParams,k=(0,T.Kx)((0,Z.Me)("reports"),"allReports").setFromToolbar,x=(0,_.ZP)(P.Pu,{reports:[]}),w=x.result.reports,O=x.isSuccess,R=x.error,F=x.request,L=(0,T.Kx)((0,Z.Me)("reports")),q=(0,_.ZP)(P.c$,{}),V=q.result,M=q.request;(0,r.useEffect)((function(){F(b),M(L.queryParams)}),[b]);var N=w,A=b.selected_report||(null===(e=N[0])||void 0===e?void 0:e.slug)||"",G=function(e){return k("selected_report",e)},H=(0,_.ZP)((function(){return e=void 0,t=void 0,r=function(){return function(e,t){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}(this,(function(e){switch(e.label){case 0:return[4,(0,P.T5)(A)];case 1:return[2,e.sent().report]}}))},new((n=void 0)||(n=Promise))((function(a,l){function o(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r}),{}),I=H.result,K=H.request,j=H.isSuccess;(0,r.useEffect)((function(){if(O&&N.length>0){var e=N.filter((function(e){var t=e.slug;return A===t}));""!==A&&0!==e.length||G(N[0].slug),K()}}),[N,A]);var W=[O&&N.length>0&&j&&N.map((function(e){return a().createElement(u.Button,{key:e.slug,variant:u.ButtonVariant.plain,"aria-label":"Report list item",onClick:function(){return G(e.slug)}},a().createElement(u.DropdownItem,{key:e.slug},e.name))}))];return a().createElement(a().Fragment,null,a().createElement(i.Z,{"data-cy":"header-all_reports"},a().createElement(c.Z,{title:"Reports"}),a().createElement(B.Z,{categories:V,filters:b,setFilters:k})),O&&N.length>0&&j&&a().createElement(o.Z,null,N.filter((function(e){return e.slug===A})).map((function(e){return y=N.indexOf(e),N.indexOf(e)<N.length-1&&(E=N[y+1].slug),N.indexOf(e)>0&&(h=N[y-1].slug),a().createElement(a().Fragment,null,a().createElement(u.Card,{key:e.slug,style:{maxWidth:"100%",marginBottom:"25px"},isCompact:!0,"data-cy":e.slug},a().createElement(u.CardHeader,{style:{paddingTop:"16px",paddingBottom:"16px",paddingRight:"0px"}},a().createElement(u.CardTitle,null,a().createElement(l.Link,{"data-cy":"preview_title_link",to:m.Z.getDetails(e.slug)},e.name)),a().createElement(u.CardActions,{style:{marginLeft:"15px",marginTop:"-2px"}},e.tags.map((function(e,t){var n=g.DX.find((function(t){return t.key===e}));if(n)return a().createElement(u.Tooltip,{key:"tooltip_".concat(t),position:u.TooltipPosition.top,content:n.description},a().createElement(u.Label,{key:t},n.name))}))),a().createElement(u.CardActions,null,a().createElement(u.Button,{variant:u.ButtonVariant.plain,"aria-label":"Previous report","data-cy":"previous_report_button",isDisabled:0===N.indexOf(e),onClick:function(){return G(h)}},a().createElement(s.fP,null)),a().createElement(u.Dropdown,{"data-cy":"preview_dropdown",isPlain:!0,onSelect:function(){return f(!n)},toggle:a().createElement(u.DropdownToggle,{onToggle:function(e){return f(e)},toggleIndicator:p.VA,id:"report_list","data-cy":"selected_report_dropdown",style:{color:"#151515"}},e.name),isOpen:n,dropdownItems:W}),a().createElement(u.Button,{variant:u.ButtonVariant.plain,"aria-label":"Next report","data-cy":"next_report_button",isDisabled:N.indexOf(e)>=N.length-1,onClick:function(){return G(E)}},a().createElement(d.oR,null)))),a().createElement(u.Divider,null),(0,C.Z)(I,!1),a().createElement(u.CardFooter,{style:{paddingBottom:"16px"}},a().createElement(l.Link,{to:m.Z.getDetails(e.slug),style:{float:"right"},"data-cy":"view_full_report_link"},"View full report"))))})),a().createElement(u.Gallery,{"data-cy":"all_reports",hasGutter:!0,minWidths:{sm:"307px",md:"307px",lg:"307px",xl:"307px","2xl":"307px"}},N.map((function(e){return a().createElement(v,{key:e.slug,report:e,selected:A,setSelected:G})})))),O&&0===N.length&&a().createElement(D.Z,{label:"Clear all filters",title:"No results found",message:"No results match the filter criteria. Clear all filters and try again.",showButton:!0,path:"/reports"}),R&&a().createElement(S.Z,null))}}}]);
//# sourceMappingURL=../sourcemaps/7012.80eb7db21bcf1f59713016657fb3327d.js.map