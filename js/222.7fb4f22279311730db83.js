"use strict";(self.webpackChunkautomation_analytics=self.webpackChunkautomation_analytics||[]).push([[222],{62222:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ue});var a,r=n(15861),l=n(70885),o=n(4942),u=n(87757),c=n.n(u),i=n(92950),s=n.n(i),m=n(86350),p=n(48716),d=n(39173),f=n(1085),E=n(48236),v=n(83061),b=n(9771),y=n(83474),g=n(44633),h=n(64631),C=n(13784),x=n(53345),k=n(77388),Z=n(53235),T=n(30168),P=n(29163),I=(0,P.ZP)(f.CardTitle)(a||(a=(0,T.Z)(["\n  border-bottom: 1px solid #d7d7d7;\n  margin-bottom: 10px;\n"]))),S=n(45697),j=n.n(S),O=n(91354),w=function(e){var t=e.totalSavings,n=void 0===t?0:t;return s().createElement(f.Card,{style:{borderTop:"3px solid #2B9AF3"}},s().createElement(f.CardTitle,{style:{paddingBottom:"0"}},"Total savings"),s().createElement(f.CardBody,null,s().createElement(f.Title,{headingLevel:"h3",size:"4xl",style:{color:"var(--pf-global--success-color--200)"}},(0,O.Z)(n))))};w.propTypes={totalSavings:j().number};const _=w;var G,B=n(85111),A=P.ZP.div(G||(G=(0,T.Z)(["\n  flex: 1;\n"]))),D=function(e){var t=parseFloat(e);return t&&t<0?"":e},F=function(e){var t=e.costManual,n=void 0===t?"0":t,a=e.setCostManual,r=void 0===a?function(){}:a,l=e.costAutomation,o=void 0===l?"0":l,u=e.setCostAutomation,c=void 0===u?function(){}:u;return s().createElement(f.Card,null,s().createElement(I,null,"Calculate your automation"),s().createElement(f.CardBody,null,s().createElement(A,null,s().createElement("p",null,"Manual cost of automation"),s().createElement("em",{style:{color:"var(--pf-global--Color--dark-200)"}},"(e.g. average salary of mid-level Software Engineer)"),s().createElement(f.InputGroup,{style:{width:"50%"}},s().createElement(f.InputGroupText,null,s().createElement(B.ZP,null)),s().createElement(f.TextInput,{id:"manual-cost",type:"number","aria-label":"manual-cost",value:n,onChange:function(e){return r(D(e))}}),s().createElement(f.InputGroupText,null,"/hr"))),s().createElement(A,{style:{paddingTop:"10px"}},s().createElement("p",null,"Automated process cost"),s().createElement(f.InputGroup,{style:{width:"50%"}},s().createElement(f.InputGroupText,null,s().createElement(B.ZP,null)),s().createElement(f.TextInput,{id:"automation-cost",type:"number","aria-label":"automation-cost",value:o,onChange:function(e){return c(D(e))}}),s().createElement(f.InputGroupText,null,"/hr")))))};F.propTypes={costManual:j().string,setCostManual:j().func,costAutomation:j().string,setCostAutomation:j().func};const M=F,R=function(){return s().createElement(f.Card,{style:{height:"100%"}},s().createElement(I,null,"Automation formula"),s().createElement(f.CardBody,null,s().createElement("p",null,s().createElement("b",null,"Manual cost for template x")," =",s().createElement("em",null,"(time for a manual run on one host in hours * (sum of all hosts across all job runs) ) * cost per hour")),s().createElement("p",null,s().createElement("b",null,"Automation cost for template x")," =",s().createElement("em",null,"cost of automation per hour * sum of total elapsed hours for a template")),s().createElement("p",null,s().createElement("b",null,"Savings")," =",s().createElement("em",null,"Sum of (manual cost - automation cost) across all templates"))))};var q,J,L,Y,z,H=n(31369),K=n(34238),N=n(787),Q=P.ZP.div(q||(q=(0,T.Z)(["\n  em {\n    display: block;\n    padding: 5px 0;\n  }\n\n  @media (max-width: 1490px) {\n    display: block;\n\n    em {\n      padding: 10px 0;\n      display: block;\n    }\n  }\n"]))),U=P.ZP.em(J||(J=(0,T.Z)(["\n  color: var(--pf-global--Color--dark-200);\n"]))),V=P.ZP.div(L||(L=(0,T.Z)(["\n  p {\n    text-align: left;\n  }\n"]))),W=P.ZP.div(Y||(Y=(0,T.Z)(["\n  & svg {\n    fill: var(--pf-global--Color--dark-200);\n\n    :hover {\n      cursor: pointer;\n    }\n\n    :first-of-type {\n      margin-right: 10px;\n      margin-left: 10px;\n\n      @media (max-width: 1350px) {\n        margin-left: 0;\n      }\n    }\n  }\n"]))),X=P.ZP.div(z||(z=(0,T.Z)(["\n  flex: 1;\n"]))),$=function(e){var t=e.details;return s().createElement(f.Popover,{"aria-label":"template detail popover",position:"left",bodyContent:s().createElement(V,null,Object.keys(t).map((function(e,n){return s().createElement("p",{key:n},s().createElement("b",null,(0,x.kC)(e.split("_").join(" "))),": ",t[e])})))},s().createElement(H.ZP,null))};$.propTypes={details:j().object};var ee=function(e){var t=e.data,n=void 0===t?[]:t,a=e.sortBy,r=void 0===a?"":a,l=e.setDataRunTime,o=void 0===l?function(){}:l,u=e.setEnabled,c=void 0===u?function(){}:u,i=e.redirectToJobExplorer,m=void 0===i?function(){}:i;return s().createElement(f.Card,null,s().createElement(f.CardBody,null,s().createElement("p",null,"Enter the time it takes to run the following templates manually."),n.map((function(e){return s().createElement("div",{key:e.id},s().createElement(f.Tooltip,{content:"List of jobs for this template for past 30 days"},s().createElement(f.Button,{style:{padding:"15px 0 10px"},component:"a",onClick:function(){return m(e.id)},variant:"link"},e.name)),s().createElement(Q,null,s().createElement(X,{key:e.id},s().createElement(f.InputGroup,null,s().createElement(f.TextInput,{id:e.id,type:"number","aria-label":"time run manually",value:e.avgRunTime/60,onChange:function(t){return o(60*t,e.id)}}),s().createElement(f.InputGroupText,null,"min"))),s().createElement(U,null,"x ",e.successful_hosts_total," host runs"),function(e,t){var n=t.split(":")[0],a=Object.keys(e).map((function(t){return t===n?"".concat(e[t]):null}));return s().createElement(U,null,(0,x.kC)(n.split("_").join(" ")),": ",a)}(e,r),s().createElement(W,null,s().createElement($,{details:e}),!e.enabled&&s().createElement(N.ZP,{onClick:function(){return c(e.id)(!0)}}),e.enabled&&s().createElement(K.ZP,{onClick:function(){return c(e.id)(!1)}}))),s().createElement("p",{style:{color:"#486B00"}},(0,O.Z)(+e.delta)))}))))};ee.propTypes={data:j().array,setDataRunTime:j().func,redirectToJobExplorer:j().func,deselectedIds:j().array,setDeselectedIds:j().func,setEnabled:j().func,sortBy:j().string};const te=ee;var ne=n(20806);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=function(e){return e.filter((function(e){return e.enabled}))},oe=function(e,t,n){return e.map((function(e){var a=(0,x.B3)(e.avgRunTime)*e.successful_hosts_total*parseFloat(n),r=(0,x.B3)(e.successful_elapsed_total)*parseFloat(t),l=(0,x.YD)(r,a);return re(re({},e),{},{delta:l,manualCost:a,automatedCost:r})}))};const ue=function(){var e=(0,i.useState)("50"),t=(0,l.Z)(e,2),n=t[0],a=t[1],u=(0,i.useState)("20"),x=(0,l.Z)(u,2),T=x[0],P=x[1],S=(0,h.eR)(),j=(0,h.Kx)(C.GL.defaultParams),O=j.queryParams,w=j.setFromToolbar,G=(0,k.ZP)((0,i.useCallback)((function(){return(0,g.Yn)(O)}),[O]),{}),B=G.result,A=G.request,D=(0,k.ZP)((0,i.useCallback)((0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.QJ)(O);case 2:return t=e.sent,e.abrupt("return",oe((void 0,(void 0===(a=t.items)?[]:a).map((function(e){return re(re({},e),{},{delta:0,avgRunTime:3600,manualCost:0,automatedCost:0,enabled:!0})}))),T,n));case 4:case"end":return e.stop()}var a}),e)}))),[O]),[]),F=D.result,q=D.error,J=D.isLoading,L=D.isSuccess,Y=D.request,z=D.setValue;(0,i.useEffect)((function(){A()}),[]),(0,i.useEffect)((function(){z(oe(F,T,n))}),[T,n]),(0,i.useEffect)((function(){A(),Y()}),[O]);var H;return s().createElement(s().Fragment,null,s().createElement(p.Z,null,s().createElement(d.Z,{title:"Automation Calculator"}),s().createElement(y.Z,{categories:B,filters:O,setFilters:w})),s().createElement(m.Z,null,J?s().createElement(E.Z,null):q?s().createElement(b.Z,{message:q.error}):L&&F.length<=0?s().createElement(v.Z,null):L&&F.length>0?s().createElement(f.Grid,{hasGutter:!0,className:"automation-wrapper"},s().createElement(f.GridItem,{span:9},s().createElement(f.Stack,{hasGutter:!0},s().createElement(f.StackItem,null,s().createElement(f.Card,null,s().createElement(I,null,"Automation savings"),s().createElement(f.CardBody,null,s().createElement(Z.Z,{margin:{top:20,right:20,bottom:20,left:70},id:"d3-roi-chart-root",data:le(F)}),s().createElement("p",{style:{textAlign:"center"}},"Templates")))),s().createElement(f.StackItem,{isFilled:!0},s().createElement(R,null)))),s().createElement(f.GridItem,{span:3},s().createElement(f.Stack,{hasGutter:!0},s().createElement(f.StackItem,null,s().createElement(_,{totalSavings:(H=le(F),H.reduce((function(e,t){return e+t.delta}),0))})),s().createElement(f.StackItem,null,s().createElement(f.Stack,null,s().createElement(f.StackItem,null,s().createElement(M,{costManual:n,setCostManual:a,costAutomation:T,setCostAutomation:P})),s().createElement(f.StackItem,{style:{overflow:"auto",maxHeight:"48vh"}},s().createElement(te,{redirectToJobExplorer:function(e){var t=(0,o.Z)({},h.zG,re(re({},C.cY.defaultParams),{},{quick_date_range:"last_30_days",template_id:[e]}));S(ne.n.jobExplorer,t)},data:F,setDataRunTime:function(e,t){var a=F.map((function(a){return a.id===t?(a.avgRunTime=e,oe([a],T,n)[0]):a}));z(a)},setUnfilteredData:F,setEnabled:function(e){return function(t){z(F.map((function(n){return n.id===e?re(re({},n),{},{enabled:t}):n})))}},sortBy:"".concat(O.sort_options,":").concat(O.sort_order)}))))))):s().createElement(s().Fragment,null)))}}}]);
//# sourceMappingURL=../sourcemaps/222.1cca36680a10604f9102b6afff89dc07.js.map