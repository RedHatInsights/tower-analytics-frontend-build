{"version":3,"sources":["webpack:///./src/Charts/BaseChart.js","webpack:///./src/Components/AlertModal/AlertModal.js","webpack:///./src/Components/ApiErrorState.js","webpack:///./src/Components/Breadcrumbs.js","webpack:///./src/Components/Breakdown.js","webpack:///./src/Components/EmptyState.js","webpack:///./src/Components/ErrorDetail/ErrorDetail.js","webpack:///./src/Components/JobStatus.js","webpack:///./src/Components/LoadingState.js","webpack:///./src/Components/NoData.js","webpack:///./src/Components/NoResults.js","webpack:///./src/Components/Toolbar/constants.ts","webpack:///./src/Components/Toolbar/Groups/CategoryDropdown.js","webpack:///./src/Components/Toolbar/Groups/ToolbarInput/Select.js","webpack:///./src/Components/Toolbar/Groups/ToolbarInput/helpers.js","webpack:///./src/Components/Toolbar/Groups/ToolbarInput/Date.tsx","webpack:///./src/Components/Toolbar/Groups/ToolbarInput/Text.js","webpack:///./src/Components/Toolbar/Groups/ToolbarInput/index.js","webpack:///./src/Components/Toolbar/Groups/FiltersCategoriesGroup.js","webpack:///./src/Components/Toolbar/Groups/QuickDateGroup.js","webpack:///./src/Components/Toolbar/Groups/SortByGroup.js","webpack:///./src/Components/Toolbar/Groups/SettingsPanel.js","webpack:///./src/Components/Toolbar/Toolbar.js","webpack:///./src/Components/Toolbar/index.js","webpack:///./src/Charts/ROITopTemplates.js","webpack:///./src/Containers/AutomationCalculator/helpers.js","webpack:///./src/Containers/AutomationCalculator/TotalSavings.js","webpack:///./src/Containers/AutomationCalculator/CalculationCost.js","webpack:///./src/Containers/AutomationCalculator/AutomationFormula.js","webpack:///./src/Containers/AutomationCalculator/TopTemplates.js","webpack:///./src/Containers/AutomationCalculator/AutomationCalculator.js","webpack:///./src/Utilities/Tooltip.js","webpack:///./src/Charts/BarChart.js","webpack:///./src/Charts/LineChart.js","webpack:///./src/Components/ModulesList.js","webpack:///./src/Components/ModalContents.js","webpack:///./src/Components/TemplatesList.js","webpack:///./src/Containers/Clusters/Clusters.js","webpack:///./src/Components/JobExplorerListRow.js","webpack:///./src/Components/JobExplorerList.js","webpack:///./src/Containers/JobExplorer/JobExplorer.js","webpack:///./src/Components/NotificationsList.js","webpack:///./src/Containers/Notifications/Notifications.js","webpack:///./src/Utilities/Legend.js","webpack:///./src/Charts/GroupedBarChart/GroupedBarChart.js","webpack:///./src/Charts/GroupedBarChart/OrgsTooltip.js","webpack:///./src/Charts/GroupedBarChart/HostsTooltip.js","webpack:///./src/Charts/PieChart.js","webpack:///./src/Containers/OrganizationStatistics/OrganizationStatistics.js","webpack:///./src/Utilities/colors.ts","webpack:///./src/Components/ApiStatusWrapper.tsx","webpack:///./src/Containers/Reports/Details/Report.tsx","webpack:///./src/Containers/Reports/Details/Details.tsx","webpack:///./src/Containers/Reports/List/ListItem/index.js","webpack:///./src/Containers/Reports/List/List.js","webpack:///./src/Containers/SavingsPlanner/Add/index.js","webpack:///./src/Components/CardActionsRow.js","webpack:///./src/Components/DeleteButton/DeleteButton.js","webpack:///./src/Components/RoutedTabs.js","webpack:///./src/Containers/SavingsPlanner/Details/DetailsTab/index.js","webpack:///./src/Utilities/hoursFormatter.ts","webpack:///./src/Containers/SavingsPlanner/Details/StatisticsTab/TotalSavings/index.tsx","webpack:///./src/Containers/SavingsPlanner/Details/StatisticsTab/FormulaDescription/index.tsx","webpack:///./src/Containers/SavingsPlanner/Details/StatisticsTab/index.tsx","webpack:///./src/Containers/SavingsPlanner/Edit/index.js","webpack:///./src/Containers/SavingsPlanner/Details/Details.js","webpack:///./src/Components/EmptyList.js","webpack:///./src/Containers/SavingsPlanner/List/ListItem/index.js","webpack:///./src/Components/Toolbar/ToolbarDeleteButton.js","webpack:///./src/Containers/SavingsPlanner/List/List.js","webpack:///./src/Utilities/useSelected.js","webpack:///./src/Containers/SavingsPlanner/Shared/constants.js","webpack:///./src/Containers/SavingsPlanner/Shared/usePlanData.js","webpack:///./src/Containers/SavingsPlanner/Shared/Form/Steps/Details/index.js","webpack:///./src/Containers/SavingsPlanner/Shared/Form/Steps/Tasks/index.js","webpack:///./src/Containers/SavingsPlanner/Shared/Form/Steps/Templates/index.js","webpack:///./src/Containers/SavingsPlanner/Shared/Form/index.js","webpack:///./src/Utilities/constants.js","webpack:///./src/Utilities/getRelatedResourceDeleteDetails.js","webpack:///./src/Utilities/helpers.js","webpack:///./src/Utilities/qs.js","webpack:///./src/Utilities/useQueryParams.js","webpack:///./src/Utilities/useRedirect.js","webpack:////home/travis/build/RedHatInsights/tower-analytics-frontend/node_modules/moment/locale|sync|/^\\.\\/.*$/","webpack:///./src/Components/Pagination/Pagination.tsx","webpack:///./src/Components/Pagination/index.ts","webpack:///./src/Containers/Reports/Shared/constants.ts","webpack:///./src/Containers/Reports/Shared/schemas/affected_hosts_by_playbook.ts","webpack:///./src/Containers/Reports/Shared/schemas/changes_made.ts","webpack:///./src/Containers/Reports/Shared/schemas/playbook_run_rate.ts","webpack:///./src/Containers/Reports/Shared/schemas/index.ts","webpack:///./src/Utilities/currencyFormatter.ts","webpack:///./src/Utilities/useRequest.ts","webpack:///./src/Utilities/useIsMounted.ts"],"names":["initializeChart","Chart","BaseChart","props","id","margin","history","useHistory","getWidth","parseInt","d3","style","left","right","getHeight","top","bottom","propTypes","PropTypes","ExclamationCircleIcon","styled","PFExclamationCircleIcon","TimesCircleIcon","PFTimesCircleIcon","InfoCircleIcon","PFInfoCircleIcon","CheckCircleIcon","PFCheckCircleIcon","ExclamationTriangleIcon","PFExclamationTriangleIcon","Header","AlertModal","isOpen","title","label","variant","children","variantIcons","danger","size","error","info","success","warning","customHeader","Title","headingLevel","Modal","header","aria-label","aria-labelledby","ApiErrorState","message","EmptyState","EmptyStateVariant","EmptyStateIcon","icon","color","globalDangerColor200","EmptyStateBody","Breadcrumbs","items","current","Breadcrumb","map","navigate","basePathNavigate","getBaseName","BreadcrumbItem","key","to","BreadcrumbHeading","BarContainer","Bar","LabelsContainer","Label","Square","str","toUpperCase","slice","toLowerCase","Breakdown","categoryCount","categoryColor","showPercent","totalCount","Object","values","reduce","accumulated","currentVal","sortedCategories","keys","filter","category","sort","a","b","name","barSpacing","remainingSpace","length","idx","backgroundColor","width","Math","round","DefaultEmptyState","preflightError","WrenchIcon","status","href","target","rel","notAuthorizedParams","Button","onClick","window","location","reload","Card","PFCard","CardBody","PFCardBody","Expandable","PFExpandable","ErrorDetail","useState","isExpanded","setIsExpanded","Array","isArray","toggleText","onToggle","m","JobStatus","getColor","getIcon","charAt","CubesIcon","SearchIcon","optionsForCategories","type","isSingle","placeholder","hasChips","quick_date_range","start_date","end_date","job_type","org_id","cluster_id","template_id","sort_options","automation_status","frequency_period","inventory_id","CategoryDropdown","selected","setSelected","categories","ToolbarItem","Select","onSelect","_event","selection","selections","placeholderText","SelectOption","value","OptionSpan","renderValues","description","Tooltip","content","item","comparator","val","categoryKey","selectOptions","isVisible","setValue","expanded","setExpanded","options","ToolbarFilter","data-cy","showToolbarItem","chips","forEach","i","undefined","acc","Number","isInteger","cmpItem","push","handleCheckboxChips","categoryName","deleteChip","_","valueToDelete","keyToDelete","find","filteredArr","SelectVariant","includes","hasInlineFilter","onFilter","textInput","maxHeight","isRequired","__assign","assign","t","s","n","arguments","p","prototype","hasOwnProperty","call","apply","this","DateInput","_a","_b","_c","_d","otherProps","DatePicker","onChange","inputProps","isReadOnly","Text","searchVal","setSearchVal","useEffect","InputGroup","TextInput","onKeyDown","e","preventDefault","components","select","date","text","ToolbarInput","SelectedInput","FilterCategoriesGroup","filterCategories","filters","handleSearch","setFilters","currentCategory","setCurrentCategory","ToolbarGroup","el","getDateByDays","days","format","today","toISOString","split","strToDate","nums","Date","QuickDateGroup","endDate","startDate","Split","hasGutter","SplitItem","validators","paddingTop","SortByGroup","sort_order","SettingsPanel","settingsExpanded","setSettingsExpanded","isFlat","CardHeader","CardActions","CardTitle","Switch","labelOff","isChecked","only_root_workflows_and_standalone_jobs","position","FilterableToolbar","qsConfig","pagination","hasSettings","additionalControls","hideQuickDateRange","hideSortOptions","restCategories","obj","params","parseQueryString","search","replaceParams","mergeParams","removeParams","pushHistoryState","pathname","nonNamespacedParams","encodedParams","encodeNonDefaultQueryString","Toolbar","namespace","clearAllFilters","oldParams","oldParamsClone","limit","sort_by","handleRemoveAll","collapseListedFiltersBreakpoint","ToolbarContent","isActive","control","visibility","default","lg","d","savings","manualCost","automationCost","scrollLeftOffset","node","scrollLeft","x","svg","getBoundingClientRect","y","currencyFormatter","delta","automatedCost","toolTipWidth","toolTipBase","chartWidth","flipped","nameWidth","getComputedTextLength","savingsWidth","manualCostWidth","automationCostWidth","widestTextElem","adjustedWidth","maxTextPerc","boxWidth","overage","boundingBox","attr","toolTipPoint","interrupt","transition","delay","draw","append","textWidthThreshold","TopTemplatesSavings","init","bind","resize","state","timeout","clearTimeout","setState","setTimeout","remove","data","ticks","height","rangeRound","padding","range","formatYAxisValue","xAxis","tickValues","yAxis","tickFormat","replace","tickSize","taskNames","tooltip","domain","selectAll","bandwidth","enter","on","darker","handleMouseOver","handleMouseOut","addEventListener","removeEventListener","Component","BorderedCardTitle","TotalSavings","totalSavings","borderTop","paddingBottom","InputAndText","validFloat","floatValue","parseFloat","CalculationCost","costManual","setCostManual","costAutomation","setCostAutomation","InputGroupText","TemplateDetail","TemplateDetailSubTitle","TooltipWrapper","IconGroup","QuestionIconTooltip","details","Popover","bodyContent","k","capitalize","join","TopTemplates","sortBy","setDataRunTime","setEnabled","redirectToJobExplorer","component","convertSecondsToMins","avgRunTime","minutes","convertMinsToSeconds","successful_hosts_total","trimmed","sortAttribute","showSortAttr","enabled","deselectedIds","setDeselectedIds","filterDisabled","updateDeltaCost","convertSecondsToHours","successful_elapsed_total","calculateDelta","getQSConfig","roiConst","AutomationCalculator","toJobExplorer","useRedirect","useQueryParams","queryParams","setFromToolbar","useRequest","useCallback","preflightRequest","setPreflight","request","readROIOptions","result","setOptions","readROI","response","api","apiError","apiIsLoading","isLoading","apiIsSuccess","isSuccess","fetchEndpoint","PageHeader","PageHeaderTitle","Main","LoadingState","NoData","Grid","className","GridItem","span","Stack","StackItem","textAlign","isFilled","sum","curr","overflow","templateId","seconds","updatedData","setUnfilteredData","opts","fail","total","formatTooltipDate","RAN","FAIL","TOTAL","DATE","jobs","jobsWidth","failed","successful","successTextWidth","failTextWidth","circleSuccess","circleFail","failedIcon","successIcon","successText","failText","clickMore","colors","BarChart","formattedData","jobExplorer","Paths","formattedDate","formatDate","initialQueryParams","stringify","arrayFormat","parseTime","formatted","created_date","successful_count","failed_count","concat","barTooltip","layers","order","offset","stack","maxTicks","layer","duration","ease","prevProps","LineChart","updateCluster","path","attrTween","tweenDash","l","getTotalLength","unformattedData","successLine","curve","failLine","defined","isNaN","vertical","handleMouseMove","intersectX","cx","baseVal","DataListCell","PFDataListCell","DataListItem","PFDataListItem","DataCellEnd","ModulesList","modules","DataList","background","border","module","index","host_task_count","trimStr","ActionContainer","formatTopFailedTask","percentage","ceil","total_failed_count","task_name","formatSuccessRate","successCount","ModalContents","selectedId","handleModal","qp","jobType","readJobExplorer","agreggateTemplateParams","stats","fetchStats","statsApi","relatedTemplateJobsParams","relatedJobs","fetchJobs","jobsApi","attributes","group_by_time","group_by","elapsed","statsData","cancelled","canceled_count","error_count","new","new_count","pending","pending_count","running","running_count","waiting","waiting_count","global_palette_green_200","global_palette_black_850","global_palette_orange_300","global_palette_red_100","global_palette_cyan_200","global_palette_purple_300","global_palette_blue_300","global_palette_light_green_200","descriptionStats","total_count","formatTotalTime","substr","formatJobType","most_failed_tasks","cleanup","ModalVariant","onClose","NoResults","DescriptionList","isHorizontal","columnModifier","DescriptionListGroup","DescriptionListTerm","DescriptionListDescription","Divider","marginTop","marginBottom","TableComposable","Thead","Tr","heading","Th","Tbody","job","Td","template_name","cluster_name","formatDateTime","finished","TemplatesList","templates","setSelectedId","isModalOpen","setIsModalOpen","displayJobType","initialTopTemplateParams","initialTopWorkflowParams","initialModuleParams","initialOptionsParams","clusters","optionsQueryParams","readClustersOptions","fetchOptions","chartData","chartDataIsLoading","chartDataIsSuccess","fetchChartData","readEventExplorer","topModuleParams","modulesIsLoading","fetchModules","topTemplatesParams","templatesIsLoading","fetchTemplates","topWorkflowParams","workflows","workflowsIsLoading","fetchWorkflows","ok","global_palette_green_300","passed","unreachable","global_palette_black_400","changed","global_palette_gold_300","skipped","JobExplorerListRow","ok_host_count","skipped_host_count","changed_host_count","failed_host_count","unreachable_host_count","expandedInfo","created","started","expand","rowIndex","tower_link","org_name","colSpan","ExpandableRowContent","Flex","FlexItem","align","host_count","failed_tasks","showMore","setShowMore","task","passed_host_count","md","module_name","fullWidth","renderMoreButton","renderFailedTaskBar","cols","sortableCols","sortMap","0","1","4","reverseSortMap","JobExplorerList","queryParamsDispatch","sortIdx","setSortIdx","sortDir","setSortDir","onSort","dir","head","direction","columnIndex","JobExplorer","setFromPagination","dispatch","readJobExplorerOptions","meta","dataIsLoading","dataIsSuccess","fetchEndpoints","insights","chrome","appNavClick","secondaryNav","Pagination","count","setPagination","isCompact","PaginationVariant","ExternalLinkAltIcon","PFExternalLinkAltIcon","NotificationDrawerListItem","PFNotificationDrawerListItem","NotificationDrawerList","PFNotificationDrawerList","stringifyDate","day","moment","now","utc","isAfter","diff","isSame","valueOf","AllNotificationTemplate","notifications","notification_id","url","tower_url","NotificationDrawerListItemHeader","NotificationDrawerListItemBody","timestamp","ErrorNotificationTemplate","notification","NoticeNotificationTemplate","WarningNotificationTemplate","NotificationsList","filterBy","PFCardTitle","DropdownGroup","notificationOptions","disabled","formatClusterName","uuid","install_uuid","setPreFlightError","notificationsData","setNotificationsData","clusterOptions","setClusterOptions","selectedCluster","setSelectedCluster","firstRender","setFirstRender","setIsLoading","setMeta","setId","setSeverity","readNotifications","then","ignore","Promise","all","readClusters","clustersData","initializeWithPreflight","FormSelect","FormSelectOption","isDisabled","severity","NotificationDrawer","Container","LegendDetail","Wrapper","Color","SubTitle","Legend","chartName","some","pieces","GroupedBarChart","TooltipClass","legend","colorFunc","selectedIds","setSelectedIds","selectedOrgs","x0","x1","maxTicksOneMonth","maxTicksTwoMonths","dates","yLabel","exit","bars","merge","subEnter","moreDetail","endsWith","defaultProps","OrgsTooltip","orgName","HostsTooltip","perc","percSuccess","drawn","percent","success_rate","maxLength","percentageTotal","percentageSuccess","boundingBOx","showSuccess","boundingHeight","boundingWidth","PieChart","radius","min","filteredData","getTotal","donutTooltip","pie","arc","outerRadius","innerRadius","classed","scaleOrdinal","orgsChartMapper","attrName","pieChartMapper","chartMapper","rest","dateForJobExplorer","readHostExplorer","constants","OrganizationStatistics","activeTabKey","setActiveTabKey","jobRunsByOrgParams","jobsError","jobsIsLoading","jobsIsSuccess","setJobs","jobsByDateAndOrgParams","orgs","hostAcrossOrgParams","orgsError","orgsIsLoading","orgsIsSuccess","setOrgs","readOrgOptions","jobEventsByOrgParams","tasks","tasksError","tasksIsLoading","tasksIsSuccess","setTasks","include_others","Tabs","activeKey","tabIndex","Tab","eventKey","ApiStatusWrapper","__makeTemplateObject","cooked","raw","defineProperty","__spreadArray","from","il","j","templateObject_1","templateObject_2","perPageOptions","timeFields","costFields","isOther","getOthersStyle","global_disabled_color_300","Report","_e","_f","_g","defaultParams","extraAttributes","readData","readOptions","schemaFnc","_h","_j","setData","dataApi","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","_k","_l","attrPairs","setAttrPairs","chartSchema","schema","functions","fetchFnc","resolve","TableVariant","currKey","findIndex","getSorParams","getText","CardFooter","Description","useParams","report","Small","PFLabel","ListItem","match","useRouteMatch","CardHeaderMain","Link","PageContainer","FlexMain","Gallery","minWidths","sm","xl","reports","readPlanOptions","fetchPlanOptions","canWrite","rbac","perms","write","Redirect","CardActionsWrapper","CardActionsRow","WarningMessage","Alert","DeleteButton","onConfirm","modalTitle","ouiaId","deleteMessage","deleteDetailsRequests","disabledTooltip","setIsOpen","deleteMessageError","setDeleteMessageError","deleteDetails","setDeleteDetails","toggleModal","getRelatedResourceDeleteCounts","results","detail","spinnerAriaValueText","actions","isInline","entries","Badge","RoutedTabs","tabsArray","defaultTabId","useLocation","tab","link","getActiveTabId","TabTitleText","role","arrayOf","shape","number","string","oneOfType","PFDivider","DetailsTab","plan","hosts","manual_time","modified","template_details","renderOptionsBasedValue","labelsAndValues","Name","Frequency","Template","showTemplate","deletePlan","deletePlans","deleteError","useDismissableError","dismissError","List","toFixed","toLocaleString","isMoney","isPlain","CostsText","CodeBlock","CodeBlockCode","SavingsText","ButtonVariant","yearLabels","initial","year1","year2","year3","cost","benefit","net","StatisticsTab","setIsMoney","barChartData","charts","kind","parent","domainPadding","themeColor","cursor","stickToAxis","mouseFollow","legendTooltip","legendData","childName","symbol","fill","titleProperyForLegend","customFnc","datum","grid","stroke","axisLabel","barRatio","barWidth","labelName","strokeWidth","year","total_costs","projections","monetary_stats","total_benefits","cumulative_net_benefits","total_hours_spent_risk_adjusted","time_stats","total_hours_saved","cumulative_time_net_benefits","response_type","ToggleGroup","ToggleGroupItem","buttonId","isSelected","Edit","Form","pageTitle","readPlan","planIsSuccess","listen","breadcrumbUrl","breadcrumbsItems","Route","exact","EmptyList","canAdd","AddCircleOIcon","CardLabel","Checkbox","PFCheckbox","CardDetail","template","handleSelect","projectedSavings","isCardKebabOpen","setIsCardKebabOpen","kebabDropDownItems","DropdownItem","Dropdown","toggle","KebabToggle","dropdownItems","row","requiredField","username","image","Error","ToolbarDeleteButton","itemsUnableToDelete","itemsToDelete","pluralizedItemName","onDelete","errorMessage","cannotDelete","Boolean","warningMessage","Footer","savingsPlanner","readPlans","itemsIsLoading","itemsIsSuccess","combinedOptions","list","isAllSelected","prevState","useSelected","useDeleteItems","deleteLoading","deletionError","deleteItems","clearDeletionError","handleDelete","convertTasks","task_order","Details","formData","categoryIsOpen","setCategoryIsOpen","manualTimeIsOpen","setManualTimeIsOpen","frequencyPeriodIsOpen","setFrequencyPeriodIsOpen","FormGroup","fieldId","newName","newDescription","NumberInput","inputAriaLabel","widthChars","event","isPositiveNum","onMinus","onPlus","TaskSection","TaskTitle","TaskDeleteButton","DeleteTaskActionSection","DataListAction","TaskRow","DataListItemRow","Tasks","taskToAdd","setTaskToAdd","liveText","setLiveText","appendTask","trimmedTask","trim","newTaskName","onDragFinish","newItemOrder","onDragStart","newId","onDragMove","oldIndex","newIndex","onDragCancel","itemOrder","DataListControl","DataListDragButton","aria-describedby","aria-pressed","DataListItemCells","dataListCells","removeTask","aria-live","ListFooter","Templates","formDispatch","hash","templatesIsSuccess","sortParams","_ev","_idx","initialSearchParams","parse","parseBooleans","parseNumbers","data-testid","startStep","setStartStep","requestPayload","updatePlan","createPlan","apiResponse","useReducer","hourly_rate","frequency_per_period","usePlanData","steps","step_number","nextButtonText","CustomFooter","WizardFooter","WizardContextConsumer","activeStep","onNext","onBack","onSave","step","onStepChange","newStep","plan_created","Wizard","navAriaLabel","mainAriaLabel","onGoToStep","footer","startAtStep","roi","organizationStatistics","arrayFields","requests","hasCount","isNumeric","test","toString","dateTime","setDate","getDate","setHours","mins","integerFields","dateFields","config","queryString","qs","nsKey","rawValue","namespaceMatches","decodeURIComponent","searchParams","URLSearchParams","v","output","getAll","parseValue","mergeParam","stringToObject","addDefaultsToObject","fieldname","startsWith","encodeQueryString","encodeURIComponent","paramsWithoutDefaults","namespaceParams","namespaced","paramsToRemove","updated","removeParam","oldVal","deleteVal","splice","newParams","merged","newVal","arr","deduped","Set","initialParams","initialWithCalculatedParams","newState","newValues","actionMapper","varName","setEndDate","setStartDate","subtract","setStartDateAsString","query","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","exports","defaultPerPageOptions","currentPage","floor","returnOffsetVal","page","itemCount","widgetId","perPage","onPerPageSelect","pageNumber","onSetPage","handleSetPageSize","CATEGORIES","granularity","showGrid","interactive","orientation","standalone","affected_hosts_by_playbook","changes_made","defaultReport","getReport","searchId","Intl","NumberFormat","currency","__awaiter","thisArg","_arguments","P","generator","reject","fulfilled","next","rejected","done","__generator","body","f","g","sent","trys","ops","verb","Symbol","iterator","op","TypeError","pop","makeRequest","initialValue","variables","setVariables","isMounted","useRef","args","_i","error_1","showError","setShowError","requestError"],"mappings":"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","file":"js/automation_analytics.f09ddc55cb4f86fcd468.js","sourcesContent":["import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport * as d3 from 'd3';\n\nconst initializeChart = (Chart) => {\n  const BaseChart = (props) => {\n    const { id, margin } = props;\n\n    const getWidth = () => {\n      let width;\n      width =\n        parseInt(d3.select('#' + id).style('width')) -\n          margin.left -\n          margin.right || 700;\n      return width;\n    };\n\n    const getHeight = () => {\n      let height;\n      height =\n        parseInt(d3.select('#' + id).style('height')) -\n          margin.top -\n          margin.bottom || 450;\n      return height;\n    };\n\n    let history = useHistory();\n\n    return (\n      <Chart\n        {...props}\n        getWidth={getWidth}\n        getHeight={getHeight}\n        history={history}\n      />\n    );\n  };\n\n  BaseChart.propTypes = {\n    id: PropTypes.string,\n    margin: PropTypes.object,\n  };\n\n  return BaseChart;\n};\n\ninitializeChart.propTypes = {\n  Chart: PropTypes.element,\n};\n\nexport default initializeChart;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Modal, Title } from '@patternfly/react-core';\nimport {\n  CheckCircleIcon as PFCheckCircleIcon,\n  ExclamationCircleIcon as PFExclamationCircleIcon,\n  ExclamationTriangleIcon as PFExclamationTriangleIcon,\n  InfoCircleIcon as PFInfoCircleIcon,\n  TimesCircleIcon as PFTimesCircleIcon,\n} from '@patternfly/react-icons';\nimport styled from 'styled-components';\n\nconst ExclamationCircleIcon = styled(PFExclamationCircleIcon)`\n  color: var(--pf-global--danger-color--100);\n`;\n\nconst TimesCircleIcon = styled(PFTimesCircleIcon)`\n  color: var(--pf-global--danger-color--100);\n`;\n\nconst InfoCircleIcon = styled(PFInfoCircleIcon)`\n  color: var(--pf-global--info-color--100);\n`;\n\nconst CheckCircleIcon = styled(PFCheckCircleIcon)`\n  color: var(--pf-global--success-color--100);\n`;\n\nconst ExclamationTriangleIcon = styled(PFExclamationTriangleIcon)`\n  color: var(--pf-global--warning-color--100);\n`;\n\nconst Header = styled.div`\n  display: flex;\n  svg {\n    margin-right: 16px;\n  }\n`;\n\nconst AlertModal = ({\n  isOpen,\n  title,\n  label = 'Alert modal',\n  variant = 'warning',\n  children,\n  ...props\n}) => {\n  const variantIcons = {\n    danger: <ExclamationCircleIcon size=\"lg\" />,\n    error: <TimesCircleIcon size=\"lg\" />,\n    info: <InfoCircleIcon size=\"lg\" />,\n    success: <CheckCircleIcon size=\"lg\" />,\n    warning: <ExclamationTriangleIcon size=\"lg\" />,\n  };\n\n  const customHeader = (\n    <Header>\n      {variant ? variantIcons[variant] : null}\n      <Title id=\"alert-modal-header-label\" size=\"2xl\" headingLevel=\"h2\">\n        {title}\n      </Title>\n    </Header>\n  );\n\n  return (\n    <Modal\n      header={customHeader}\n      aria-label={label}\n      aria-labelledby=\"alert-modal-header-label\"\n      isOpen={!!isOpen}\n      variant=\"small\"\n      title={title}\n      {...props}\n    >\n      {children}\n    </Modal>\n  );\n};\n\nAlertModal.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  variant: PropTypes.string,\n  children: PropTypes.node,\n};\n\nexport default AlertModal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Title,\n} from '@patternfly/react-core';\nimport { ExclamationCircleIcon } from '@patternfly/react-icons';\nimport { global_danger_color_200 as globalDangerColor200 } from '@patternfly/react-tokens';\n\nconst ApiErrorState = ({ message }) => (\n  <EmptyState variant={EmptyStateVariant.small}>\n    <EmptyStateIcon\n      icon={ExclamationCircleIcon}\n      color={globalDangerColor200.value}\n    />\n    <Title headingLevel=\"h2\" size=\"lg\">\n      Error\n    </Title>\n    <EmptyStateBody>{message}</EmptyStateBody>\n  </EmptyState>\n);\n\nApiErrorState.propTypes = {\n  message: PropTypes.string,\n};\n\nexport default ApiErrorState;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbHeading,\n} from '@patternfly/react-core';\n\nimport getBaseName from '../Utilities/getBaseName';\n\nconst Breadcrumbs = ({ items = [], current = null }) => {\n  return (\n    <Breadcrumb>\n      {items.map(({ title, navigate }) => {\n        const basePathNavigate = getBaseName() + navigate;\n        return (\n          <BreadcrumbItem key={title} to={basePathNavigate}>\n            {title}\n          </BreadcrumbItem>\n        );\n      })}\n      {current && <BreadcrumbHeading>{current}</BreadcrumbHeading>}\n    </Breadcrumb>\n  );\n};\n\nBreadcrumbs.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      navigate: PropTypes.any,\n      title: PropTypes.node,\n    })\n  ),\n  current: PropTypes.node,\n};\n\nexport default Breadcrumbs;\n","import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst BarContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  width: 100%;\n  max-width: 100%;\n  height: 1rem;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n`;\n\nconst Bar = styled.div`\n  height: 100%;\n`;\n\nconst LabelsContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin-bottom: 1rem;\n`;\n\nconst Label = styled.div`\n  padding-left: 2rem;\n  display: flex;\n  align-items: center;\n  margin-bottom: 1.5rem;\n`;\n\nconst Square = styled.div`\n  width: 0.75rem;\n  height: 0.75rem;\n  margin-right: 0.5rem;\n`;\n\nconst whiteSpace = 0.15; // Currently in percent of total bar width\n\nfunction title(str) {\n  return str[0].toUpperCase() + str.slice(1).toLowerCase();\n}\n\nconst Breakdown = ({ categoryCount, categoryColor, showPercent = false }) => {\n  const totalCount = Object.values(categoryCount).reduce(\n    (accumulated, currentVal) => accumulated + currentVal\n  );\n\n  const sortedCategories = Object.keys(categoryCount)\n    .filter((category) => categoryCount[category] > 0)\n    .sort((a, b) => {\n      if (categoryCount[a] < categoryCount[b]) {\n        return 1; // Normally should be -1, but we want descending order\n      }\n      if (categoryCount[a] > categoryCount[b]) {\n        return -1;\n      }\n      return 0;\n    })\n    .map((category) => {\n      return {\n        name: category,\n        barSpacing: categoryCount[category] / totalCount,\n        color: categoryColor[category],\n      };\n    });\n\n  const remainingSpace = 1 - ((sortedCategories.length - 1) * whiteSpace) / 100;\n\n  return (\n    <>\n      <BarContainer>\n        {sortedCategories.map(({ barSpacing, color }, idx) => {\n          if (idx < sortedCategories.length - 1) {\n            return (\n              <React.Fragment key={idx}>\n                <Bar\n                  style={{\n                    backgroundColor: color,\n                    width: `${barSpacing * 100 * remainingSpace}%`,\n                  }}\n                />\n                <Bar\n                  style={{\n                    backgroundColor: 'transparent',\n                    width: `${whiteSpace}%`,\n                  }}\n                />\n              </React.Fragment>\n            );\n          } else {\n            return (\n              <React.Fragment key={idx}>\n                <Bar\n                  style={{\n                    backgroundColor: color,\n                    width: `${barSpacing * 100 * remainingSpace}%`,\n                  }}\n                />\n              </React.Fragment>\n            );\n          }\n        })}\n      </BarContainer>\n      <LabelsContainer>\n        {sortedCategories.map(({ name, barSpacing, color }) => (\n          <Label key={`label-${name}`}>\n            <Square style={{ backgroundColor: color }} />\n            {showPercent ? (\n              <p>\n                {title(name)} {Math.round(barSpacing * 100)}%\n              </p>\n            ) : (\n              <p>{title(name)}</p>\n            )}\n          </Label>\n        ))}\n      </LabelsContainer>\n    </>\n  );\n};\n\nBreakdown.propTypes = {\n  categoryColor: PropTypes.object.isRequired,\n  categoryCount: PropTypes.object.isRequired,\n  showPercent: PropTypes.bool,\n};\n\nexport default Breakdown;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Button,\n  Title,\n  EmptyState,\n  EmptyStateVariant,\n  EmptyStateIcon,\n  EmptyStateBody,\n} from '@patternfly/react-core';\nimport { WrenchIcon } from '@patternfly/react-icons';\nimport NotAuthorized from '@redhat-cloud-services/frontend-components/NotAuthorized';\nimport { notAuthorizedParams } from '../Utilities/constants';\n\nconst DefaultEmptyState = ({ preflightError: error }) => (\n  <EmptyState variant={EmptyStateVariant.full}>\n    <EmptyStateIcon icon={WrenchIcon} />\n    {error.status === 404 && (\n      <>\n        <Title headingLevel=\"h5\" size=\"lg\">\n          No data found\n        </Title>\n        <EmptyStateBody>\n          Please visit{' '}\n          <a\n            href=\"https://docs.ansible.com/ansible-tower/latest/html/administration/usability_data_collection.html#automation-analytics\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            here\n          </a>{' '}\n          to learn how to enable Automation Analytics.\n        </EmptyStateBody>\n      </>\n    )}\n    {error.status === 401 && (\n      <>\n        <Title headingLevel=\"h5\" size=\"lg\">\n          Not authorized\n        </Title>\n        <EmptyStateBody>\n          You do not have the correct permissions to view this page.\n        </EmptyStateBody>\n      </>\n    )}\n    {error.status === 403 && <NotAuthorized {...notAuthorizedParams} />}\n    {!error.status && (\n      <>\n        <Title headingLevel=\"h5\" size=\"lg\">\n          Something went wrong, please try reloading the page\n        </Title>\n        <Button variant=\"primary\" onClick={() => window.location.reload()}>\n          Reload\n        </Button>\n      </>\n    )}\n  </EmptyState>\n);\n\nDefaultEmptyState.propTypes = {\n  preflightError: PropTypes.object,\n};\n\nexport default DefaultEmptyState;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport {\n  Card as PFCard,\n  CardBody as PFCardBody,\n  ExpandableSection as PFExpandable,\n} from '@patternfly/react-core';\n\nconst Card = styled(PFCard)`\n  background-color: var(--pf-global--BackgroundColor--200);\n  overflow-wrap: break-word;\n`;\n\nconst CardBody = styled(PFCardBody)`\n  max-height: 200px;\n  overflow: scroll;\n`;\n\nconst Expandable = styled(PFExpandable)`\n  text-align: left;\n\n  & .pf-c-expandable__toggle {\n    padding-left: 10px;\n    margin-left: 5px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n`;\n\nfunction ErrorDetail({ error }) {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const handleToggle = () => {\n    setIsExpanded(!isExpanded);\n  };\n\n  return (\n    <>\n      {Array.isArray(error) && error.length && (\n        <Expandable\n          toggleText={'Details'}\n          onToggle={handleToggle}\n          isExpanded={isExpanded}\n        >\n          <Card>\n            <CardBody>\n              <ul>\n                {error.map((m) =>\n                  typeof m === 'string' ? <li key={m}>{m}</li> : null\n                )}\n              </ul>\n            </CardBody>\n          </Card>\n        </Expandable>\n      )}\n    </>\n  );\n}\n\nErrorDetail.propTypes = {\n  error: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport default ErrorDetail;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Label } from '@patternfly/react-core';\nimport {\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n  ClockIcon,\n  SyncAltIcon,\n  ExclamationTriangleIcon,\n} from '@patternfly/react-icons';\n\nconst JobStatus = ({ status }) => {\n  const capitalized = (str) => str.charAt(0).toUpperCase() + str.slice(1);\n\n  const getColor = () => {\n    switch (status) {\n      case 'successful':\n        return 'green';\n      case 'failed':\n      case 'error':\n        return 'red';\n      case 'running':\n      case 'pending':\n        return 'blue';\n      case 'canceled':\n        return 'orange';\n      // case new, waiting\n      default:\n        return 'grey';\n    }\n  };\n\n  const getIcon = () => {\n    switch (status) {\n      case 'successful':\n        return <CheckCircleIcon />;\n      case 'failed':\n      case 'error':\n        return <ExclamationCircleIcon />;\n      case 'running':\n        return <SyncAltIcon />;\n      case 'canceled':\n        return <ExclamationTriangleIcon />;\n      // case new, waiting, pending\n      default:\n        return <ClockIcon />;\n    }\n  };\n\n  return (\n    <Label variant=\"outline\" color={getColor()} icon={getIcon()}>\n      {capitalized(status)}\n    </Label>\n  );\n};\n\nJobStatus.propTypes = {\n  status: PropTypes.oneOf([\n    'successful',\n    'failed',\n    'error',\n    'running',\n    'new',\n    'waiting',\n    'pending',\n    'canceled',\n  ]),\n};\n\nexport default JobStatus;\n","import React from 'react';\nimport {\n  Title,\n  EmptyState,\n  EmptyStateVariant,\n  EmptyStateIcon,\n  EmptyStateBody,\n} from '@patternfly/react-core';\nimport { CubesIcon } from '@patternfly/react-icons';\n\nconst DefaultLoadingState = () => (\n  <EmptyState variant={EmptyStateVariant.full}>\n    <EmptyStateIcon icon={CubesIcon} />\n    <Title headingLevel=\"h5\" size=\"lg\">\n      Loading...\n    </Title>\n    <EmptyStateBody>Please wait.</EmptyStateBody>\n  </EmptyState>\n);\n\nexport default DefaultLoadingState;\n","import React from 'react';\nimport {\n  Title,\n  EmptyState,\n  EmptyStateVariant,\n  EmptyStateIcon,\n} from '@patternfly/react-core';\nimport { CubesIcon } from '@patternfly/react-icons';\n\nconst NoData = () => (\n  <EmptyState variant={EmptyStateVariant.full}>\n    <EmptyStateIcon icon={CubesIcon} />\n    <Title headingLevel=\"h5\" size=\"lg\">\n      No Data\n    </Title>\n  </EmptyState>\n);\n\nexport default NoData;\n","import React from 'react';\nimport {\n  Title,\n  EmptyState,\n  EmptyStateVariant,\n  EmptyStateIcon,\n  EmptyStateBody,\n} from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons';\n\nconst NoResults = () => {\n  return (\n    <EmptyState variant={EmptyStateVariant.full}>\n      <EmptyStateIcon icon={SearchIcon} />\n      <Title size=\"lg\" headingLevel=\"h4\">\n        No results found\n      </Title>\n      <EmptyStateBody>\n        No results match the filter criteria. Remove all filters or clear all\n        filters to show results.\n      </EmptyStateBody>\n    </EmptyState>\n  );\n};\n\nexport default NoResults;\n","export var optionsForCategories = {\n    status: {\n        type: 'select',\n        isSingle: false,\n        name: 'Status',\n        placeholder: 'Filter by job status',\n        hasChips: true,\n    },\n    quick_date_range: {\n        type: 'select',\n        isSingle: true,\n        name: 'Date',\n        placeholder: 'Filter by date',\n        hasChips: false,\n    },\n    start_date: {\n        type: 'date',\n        name: 'Start date',\n        hasChips: false,\n    },\n    end_date: {\n        type: 'date',\n        name: 'End date',\n        hasChips: false,\n    },\n    job_type: {\n        type: 'select',\n        isSingle: false,\n        name: 'Job',\n        placeholder: 'Filter by job type',\n        hasChips: true,\n    },\n    org_id: {\n        type: 'select',\n        isSingle: false,\n        name: 'Organization',\n        placeholder: 'Filter by organization',\n        hasChips: true,\n    },\n    cluster_id: {\n        type: 'select',\n        isSingle: false,\n        name: 'Cluster',\n        placeholder: 'Filter by cluster',\n        hasChips: true,\n    },\n    template_id: {\n        type: 'select',\n        isSingle: false,\n        name: 'Template',\n        placeholder: 'Filter by template',\n        hasChips: true,\n    },\n    sort_options: {\n        type: 'select',\n        isSingle: true,\n        name: 'Sort by',\n        placeholder: 'Sort by attribute',\n        hasChips: false,\n    },\n    automation_status: {\n        type: 'select',\n        isSingle: false,\n        name: 'Automation status',\n        placeholder: 'Filter by automation status',\n        hasChips: true,\n    },\n    frequency_period: {\n        type: 'select',\n        isSingle: false,\n        name: 'Frequency',\n        placeholder: 'Filter by frequency',\n        hasChips: true,\n    },\n    category: {\n        type: 'select',\n        isSingle: false,\n        name: 'Category',\n        placeholder: 'Filter by category',\n        hasChips: true,\n    },\n    inventory_id: {\n        type: 'select',\n        isSingle: false,\n        name: 'Inventory',\n        placeholder: 'Filter by inventory',\n        hasChips: true,\n    },\n    name: {\n        type: 'text',\n        name: 'Search by name',\n        hasChips: true,\n    },\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { ToolbarItem, Select, SelectOption } from '@patternfly/react-core';\n\nconst CategoryDropdown = ({\n  selected,\n  setSelected = () => {},\n  categories = [],\n}) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  return (\n    <ToolbarItem>\n      <Select\n        isOpen={isExpanded}\n        variant={'single'}\n        aria-label={'Categories'}\n        onToggle={() => setIsExpanded(!isExpanded)}\n        onSelect={(_event, selection) => {\n          setSelected(selection);\n          setIsExpanded(false);\n        }}\n        selections={selected}\n        placeholderText={'Filter by'}\n      >\n        {categories.map(({ key, name }) => (\n          <SelectOption key={key} value={key}>\n            {name}\n          </SelectOption>\n        ))}\n      </Select>\n    </ToolbarItem>\n  );\n};\n\nCategoryDropdown.propTypes = {\n  categories: PropTypes.array,\n  selected: PropTypes.string,\n  setSelected: PropTypes.func,\n};\n\nexport default CategoryDropdown;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Tooltip,\n  ToolbarFilter,\n  Select as PFSelect,\n  SelectOption,\n  SelectVariant,\n} from '@patternfly/react-core';\n\nimport { handleCheckboxChips, handleSingleChips } from './helpers';\nimport { optionsForCategories } from '../../constants';\nimport styled from 'styled-components';\n\nconst OptionSpan = styled('span')`\n  display: block;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  max-width: 300px;\n`;\n\nconst renderValues = (values) =>\n  values &&\n  values.map(({ key, value, description }) => (\n    <SelectOption key={key} value={key} description={description}>\n      <Tooltip content={<div>{value}</div>}>\n        <OptionSpan>{value}</OptionSpan>\n      </Tooltip>\n    </SelectOption>\n  ));\n\nconst Select = ({\n  categoryKey,\n  value,\n  selectOptions,\n  isVisible = true,\n  setValue,\n}) => {\n  const [expanded, setExpanded] = useState(false);\n  const options = optionsForCategories[categoryKey];\n\n  const onDelete = (_, valueToDelete) => {\n    const single = optionsForCategories[categoryKey].isSingle;\n\n    if (single) {\n      setValue(null);\n    } else {\n      const keyToDelete = selectOptions.find(\n        ({ value }) => value === valueToDelete\n      ).key;\n      const filteredArr = value.filter((value) => value !== keyToDelete);\n      setValue(filteredArr);\n    }\n  };\n\n  const onFilter = (_, textInput) => {\n    if (textInput === '') {\n      return renderValues(selectOptions);\n    } else {\n      return renderValues(\n        selectOptions.filter(({ value }) =>\n          value.toLowerCase().includes(textInput.toLowerCase())\n        )\n      );\n    }\n  };\n\n  const handleChips = () => {\n    if (options.isSingle) {\n      return handleSingleChips(value, selectOptions);\n    } else {\n      return handleCheckboxChips(value, selectOptions);\n    }\n  };\n\n  const onSelect = (_, selection) => {\n    if (options.isSingle) {\n      setValue(selection);\n      setExpanded(false);\n    } else {\n      setValue(\n        !value.includes(selection)\n          ? [...value, selection]\n          : value.filter((value) => value !== selection)\n      );\n    }\n  };\n\n  return (\n    <ToolbarFilter\n      data-cy={categoryKey}\n      key={categoryKey}\n      showToolbarItem={isVisible}\n      chips={options.hasChips ? handleChips() : []}\n      categoryName={options.name}\n      deleteChip={options.hasChips ? onDelete : null}\n    >\n      <PFSelect\n        variant={\n          options.isSingle ? SelectVariant.single : SelectVariant.checkbox\n        }\n        aria-label={options.name}\n        onToggle={() => setExpanded(!expanded)}\n        onSelect={onSelect}\n        selections={value}\n        isOpen={expanded}\n        hasInlineFilter\n        placeholderText={options.placeholder}\n        onFilter={onFilter}\n        maxHeight={'1000%'}\n      >\n        {renderValues(selectOptions)}\n      </PFSelect>\n    </ToolbarFilter>\n  );\n};\n\nSelect.propTypes = {\n  categoryKey: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n    PropTypes.arrayOf(\n      PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    ),\n  ]).isRequired,\n  selectOptions: PropTypes.array,\n  isVisible: PropTypes.bool,\n  setValue: PropTypes.func.isRequired,\n};\n\nexport default Select;\n","/**\n * Get comparator values if their key is in the item list\n */\nexport const handleCheckboxChips = (item, comparator) => {\n  if (item && comparator) {\n    return item.reduce((acc, i) => {\n      Number.isInteger(parseInt(i)) ? (i = parseInt(i)) : i;\n\n      comparator.forEach((cmpItem) => {\n        if (cmpItem.key === i) {\n          acc.push(cmpItem.value);\n        }\n      });\n\n      return acc;\n    }, []);\n  }\n\n  return [];\n};\n\n/**\n * Convert a list of objects to a list of the last value if defined\n */\nexport const handleSingleChips = (item, comparator) => {\n  if (item && typeof item === 'string' && comparator) {\n    let val;\n    comparator.forEach((i) => {\n      if (i.key === item) {\n        val = i.value;\n      }\n    });\n\n    if (val !== undefined) {\n      return [val];\n    }\n  }\n\n  return [];\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { DatePicker } from '@patternfly/react-core';\nimport { optionsForCategories } from '../../constants';\nvar DateInput = function (_a) {\n    var categoryKey = _a.categoryKey, _b = _a.value, value = _b === void 0 ? '' : _b, _c = _a.setValue, setValue = _c === void 0 ? function () { return ({}); } : _c, _d = _a.otherProps, otherProps = _d === void 0 ? {} : _d;\n    var options = optionsForCategories[categoryKey];\n    return (React.createElement(DatePicker, __assign({ \"aria-label\": options.name, value: value, onChange: setValue, inputProps: {\n            isReadOnly: true,\n        } }, otherProps)));\n};\nDateInput.propTypes = {\n    categoryKey: PropTypes.string.isRequired,\n    value: PropTypes.string,\n    setValue: PropTypes.func.isRequired,\n    otherProps: PropTypes.any,\n};\nexport default DateInput;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  ToolbarFilter,\n  TextInput,\n  InputGroup,\n  Button,\n} from '@patternfly/react-core';\n\nimport { SearchIcon } from '@patternfly/react-icons';\nimport { optionsForCategories } from '../../constants';\n\nconst Text = ({ categoryKey, isVisible = true, value = '', setValue }) => {\n  const [searchVal, setSearchVal] = useState(value);\n  const options = optionsForCategories[categoryKey];\n\n  const onDelete = () => {\n    setValue('');\n  };\n\n  const handleChips = () => {\n    return value ? [value] : [];\n  };\n\n  useEffect(() => {\n    setSearchVal(value);\n  }, [value]);\n\n  return (\n    <ToolbarFilter\n      data-cy={categoryKey}\n      key={categoryKey}\n      showToolbarItem={isVisible}\n      chips={options.hasChips ? handleChips() : []}\n      categoryName={options.name}\n      deleteChip={options.hasChips ? onDelete : null}\n    >\n      <InputGroup>\n        <TextInput\n          type=\"search\"\n          aria-label={options.name}\n          value={searchVal}\n          onChange={setSearchVal}\n          onKeyDown={(e) => {\n            if (e.key && e.key === 'Enter') {\n              e.preventDefault();\n              setValue(searchVal);\n            }\n          }}\n        />\n        <Button\n          variant=\"control\"\n          aria-label={`Search button for ${options.name}`}\n          onClick={() => {\n            setValue(searchVal);\n          }}\n        >\n          <SearchIcon />\n        </Button>\n      </InputGroup>\n    </ToolbarFilter>\n  );\n};\n\nText.propTypes = {\n  categoryKey: PropTypes.string.isRequired,\n  value: PropTypes.any,\n  isVisible: PropTypes.bool,\n  setValue: PropTypes.func.isRequired,\n};\n\nexport default Text;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Select from './Select';\nimport DateInput from './Date';\nimport Text from './Text';\nimport { optionsForCategories } from '../../constants';\n\nconst components = {\n  select: Select,\n  date: DateInput,\n  text: Text,\n};\n\nconst ToolbarInput = ({\n  categoryKey,\n  value,\n  selectOptions,\n  isVisible = true,\n  setValue,\n  ...otherProps\n}) => {\n  const options = optionsForCategories[categoryKey];\n  const SelectedInput = components[options.type];\n\n  const defaultValue = () => {\n    if (value) {\n      return value;\n    } else if (options.type !== 'select') {\n      return '';\n    } else if (options.isSingle) {\n      return '';\n    } else {\n      return [];\n    }\n  };\n\n  return (\n    <SelectedInput\n      categoryKey={categoryKey}\n      value={defaultValue()}\n      selectOptions={selectOptions}\n      isVisible={isVisible}\n      setValue={setValue}\n      otherProps={otherProps}\n    />\n  );\n};\n\nToolbarInput.propTypes = {\n  categoryKey: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n    PropTypes.arrayOf(\n      PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    ),\n  ]),\n  selectOptions: PropTypes.array,\n  isVisible: PropTypes.bool,\n  setValue: PropTypes.func.isRequired,\n};\n\nexport default ToolbarInput;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { ToolbarGroup } from '@patternfly/react-core';\n\nimport CategoryDropdown from './CategoryDropdown';\nimport ToolbarInput from './ToolbarInput/';\nimport { optionsForCategories } from '../constants';\n\nconst FilterCategoriesGroup = ({\n  filterCategories,\n  filters,\n  handleSearch,\n  setFilters,\n}) => {\n  const [currentCategory, setCurrentCategory] = useState(\n    Object.keys(filterCategories)[0]\n  );\n\n  return (\n    <ToolbarGroup variant=\"filter-group\">\n      <CategoryDropdown\n        selected={currentCategory}\n        setSelected={setCurrentCategory}\n        categories={Object.keys(filterCategories).map((el) => ({\n          key: el,\n          name: optionsForCategories[el].name,\n        }))}\n      />\n      {Object.keys(filterCategories).map((key) => (\n        <ToolbarInput\n          key={key}\n          categoryKey={key}\n          value={filters[key]}\n          selectOptions={filterCategories[key]}\n          isVisible={currentCategory === key}\n          setValue={(value) => {\n            setFilters(key, value);\n            handleSearch(key, value);\n          }}\n        />\n      ))}\n    </ToolbarGroup>\n  );\n};\n\nFilterCategoriesGroup.propTypes = {\n  filterCategories: PropTypes.object.isRequired,\n  filters: PropTypes.object.isRequired,\n  handleSearch: PropTypes.func.isRequired,\n  setFilters: PropTypes.func.isRequired,\n};\n\nexport default FilterCategoriesGroup;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { SplitItem, ToolbarGroup, Split } from '@patternfly/react-core';\n\nimport ToolbarInput from './ToolbarInput/';\n\nimport { today } from '../../../Utilities/helpers';\n\nconst getDateByDays = (days, format = true) => {\n  const date = today(days);\n  return format ? date.toISOString().split(/T/)[0] : date;\n};\n\nconst strToDate = (date) => {\n  const nums = date.split('-');\n  return new Date(nums[0], nums[1] - 1, nums[2]);\n};\n\nconst QuickDateGroup = ({ filters, handleSearch, setFilters, values }) => {\n  const endDate = filters.end_date || getDateByDays(0, true);\n  const startDate = filters.start_date || getDateByDays(-30, true);\n\n  return (\n    <ToolbarGroup variant=\"filter-group\">\n      <ToolbarInput\n        categoryKey=\"quick_date_range\"\n        value={filters.quick_date_range}\n        selectOptions={values}\n        setValue={(value) => setFilters('quick_date_range', value)}\n      />\n      {filters.quick_date_range && filters.quick_date_range.includes('custom') && (\n        <Split hasGutter>\n          <SplitItem>\n            <ToolbarInput\n              categoryKey=\"start_date\"\n              value={startDate}\n              setValue={(e) => {\n                setFilters('start_date', e);\n                handleSearch('start_date', e);\n              }}\n              validators={[\n                (date) =>\n                  typeof endDate === 'string' && date > strToDate(endDate)\n                    ? 'Must not be after end date'\n                    : '',\n              ]}\n            />\n          </SplitItem>\n          <SplitItem style={{ paddingTop: '6px' }}>to</SplitItem>\n          <SplitItem>\n            <ToolbarInput\n              categoryKey=\"end_date\"\n              value={endDate}\n              setValue={(e) => {\n                setFilters('end_date', e);\n                handleSearch('end_date', e);\n              }}\n              validators={[\n                (date) => {\n                  if (\n                    typeof startDate === 'string' &&\n                    date < strToDate(startDate)\n                  ) {\n                    return 'Must not be before start date';\n                  }\n\n                  if (date > today()) {\n                    return 'Must not be after today';\n                  }\n\n                  return '';\n                },\n              ]}\n            />\n          </SplitItem>\n        </Split>\n      )}\n    </ToolbarGroup>\n  );\n};\n\nQuickDateGroup.propTypes = {\n  filters: PropTypes.object.isRequired,\n  handleSearch: PropTypes.func.isRequired,\n  setFilters: PropTypes.func.isRequired,\n  values: PropTypes.array.isRequired,\n};\n\nexport default QuickDateGroup;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ToolbarGroup, Button } from '@patternfly/react-core';\nimport { SortAmountDownIcon, SortAmountUpIcon } from '@patternfly/react-icons';\n\nimport ToolbarInput from './ToolbarInput';\n\nconst SortByGroup = ({ filters, handleSearch, setFilters, sort_options }) => (\n  <ToolbarGroup variant=\"filter-group\">\n    <ToolbarInput\n      categoryKey=\"sort_options\"\n      value={filters.sort_options}\n      selectOptions={sort_options}\n      setValue={(value) => {\n        setFilters('sort_options', value);\n        handleSearch('sort_options', value);\n      }}\n    />\n    <Button\n      variant=\"control\"\n      onClick={() => {\n        setFilters('sort_order', filters.sort_order === 'asc' ? 'desc' : 'asc');\n        handleSearch(\n          'sort_order',\n          filters.sort_order === 'asc' ? 'desc' : 'asc'\n        );\n      }}\n    >\n      {filters.sort_order === 'asc' && <SortAmountUpIcon />}\n      {filters.sort_order === 'desc' && <SortAmountDownIcon />}\n    </Button>\n  </ToolbarGroup>\n);\n\nSortByGroup.propTypes = {\n  filters: PropTypes.object.isRequired,\n  handleSearch: PropTypes.func.isRequired,\n  setFilters: PropTypes.func.isRequired,\n  sort_options: PropTypes.array.isRequired,\n};\n\nexport default SortByGroup;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Tooltip, Switch } from '@patternfly/react-core';\nimport {\n  Card,\n  CardTitle,\n  CardBody,\n  CardActions,\n  CardHeader,\n} from '@patternfly/react-core';\nimport { QuestionCircleIcon, TimesIcon } from '@patternfly/react-icons';\n\n/* TODO: For future work: make settings more modular for different pages */\nconst SettingsPanel = ({\n  filters,\n  handleSearch,\n  setFilters,\n  settingsExpanded,\n  setSettingsExpanded,\n}) => (\n  <Card isFlat style={{ backgroundColor: '#EEEEEE' }}>\n    <CardHeader>\n      <CardActions>\n        <Button\n          variant=\"plain\"\n          onClick={() => setSettingsExpanded(!settingsExpanded)}\n        >\n          <TimesIcon />\n        </Button>\n      </CardActions>\n      <CardTitle>Settings</CardTitle>\n    </CardHeader>\n    <CardBody>\n      <Switch\n        id=\"showRootWorkflowJobs\"\n        label=\"Ignore nested workflows and jobs\"\n        labelOff=\"Ignore nested workflows and jobs\"\n        isChecked={filters.only_root_workflows_and_standalone_jobs}\n        onChange={(val) => {\n          setFilters('only_root_workflows_and_standalone_jobs', val);\n          handleSearch('only_root_workflows_and_standalone_jobs', val);\n        }}\n      />\n      <Tooltip\n        position={'top'}\n        content={\n          <div>\n            {' '}\n            If enabled, nested workflows and jobs will not be included in the\n            overall totals. Enable this option to filter out duplicate entries.\n          </div>\n        }\n      >\n        <QuestionCircleIcon />\n      </Tooltip>\n    </CardBody>\n  </Card>\n);\n\nSettingsPanel.propTypes = {\n  filters: PropTypes.object.isRequired,\n  handleSearch: PropTypes.func.isRequired,\n  setFilters: PropTypes.func.isRequired,\n  settingsExpanded: PropTypes.bool.isRequired,\n  setSettingsExpanded: PropTypes.func.isRequired,\n};\n\nexport default SettingsPanel;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Toolbar,\n  ToolbarContent,\n  ToolbarGroup,\n  Button,\n  ToolbarItem,\n} from '@patternfly/react-core';\nimport { FilterIcon, CogIcon } from '@patternfly/react-icons';\n\nimport { optionsForCategories } from './constants';\nimport {\n  FilterCategoriesGroup,\n  QuickDateGroup,\n  SortByGroup,\n  SettingsPanel,\n} from './Groups/';\nimport { useHistory } from 'react-router-dom';\nimport {\n  encodeNonDefaultQueryString,\n  parseQueryString,\n  mergeParams,\n  removeParams,\n  replaceParams,\n} from '../../Utilities/qs';\n\nconst FilterableToolbar = ({\n  categories,\n  filters,\n  qsConfig,\n  setFilters,\n  pagination = null,\n  hasSettings = false,\n  additionalControls = [],\n  hideQuickDateRange = false,\n  hideSortOptions = false,\n}) => {\n  const [settingsExpanded, setSettingsExpanded] = useState(false);\n  const { quick_date_range, sort_options, ...restCategories } = categories;\n  const history = useHistory();\n\n  // Filter out elements which are not in the option object.\n  const filterCategories = Object.keys(restCategories)\n    .filter((key) => Object.keys(optionsForCategories).includes(key))\n    .reduce((obj, key) => {\n      obj[key] = restCategories[key];\n      return obj;\n    }, {});\n\n  const handleSearch = (key, value) => {\n    let params = parseQueryString(qsConfig, history.location.search);\n    params = replaceParams(params, { [key]: value });\n    params = mergeParams(params, { [key]: value });\n    if (value === '' || value.length === 0)\n      params = removeParams(qsConfig, params, { [key]: params[key] });\n    pushHistoryState(params, qsConfig);\n  };\n\n  const handleRemoveAll = (qsConfig) => {\n    // remove everything in oldParams except for page_size and order_by\n    const oldParams = parseQueryString(qsConfig, history.location.search);\n    const oldParamsClone = { ...oldParams };\n    delete oldParamsClone.limit;\n    delete oldParamsClone.sort_by;\n    pushHistoryState(\n      removeParams(qsConfig, oldParams, oldParamsClone),\n      qsConfig\n    );\n  };\n\n  const pushHistoryState = (params, qsConfig) => {\n    const { pathname } = history.location;\n    const nonNamespacedParams = parseQueryString({}, history.location.search);\n    const encodedParams = encodeNonDefaultQueryString(\n      qsConfig,\n      params,\n      nonNamespacedParams\n    );\n    history.push(encodedParams ? `${pathname}?${encodedParams}` : pathname);\n  };\n\n  return (\n    <>\n      <Toolbar\n        id={`${qsConfig.namespace}-filterable-toolbar-with-chip-groups`}\n        clearAllFilters={() => {\n          handleRemoveAll(qsConfig);\n          setFilters(null, null);\n        }}\n        collapseListedFiltersBreakpoint=\"xl\"\n      >\n        <ToolbarContent>\n          <Button variant=\"control\">\n            <FilterIcon />\n          </Button>\n          {Object.keys(filterCategories).length > 0 && (\n            <FilterCategoriesGroup\n              filterCategories={filterCategories}\n              filters={filters}\n              setFilters={setFilters}\n              handleSearch={handleSearch}\n            />\n          )}\n          {!hideQuickDateRange && quick_date_range && (\n            <QuickDateGroup\n              filters={filters}\n              setFilters={setFilters}\n              values={quick_date_range}\n              handleSearch={handleSearch}\n            />\n          )}\n          {!hideSortOptions && sort_options && (\n            <SortByGroup\n              filters={filters}\n              setFilters={setFilters}\n              sort_options={sort_options}\n              handleSearch={handleSearch}\n            />\n          )}\n          {hasSettings && (\n            <ToolbarItem>\n              <Button\n                variant=\"plain\"\n                onClick={() => setSettingsExpanded(!settingsExpanded)}\n                aria-label=\"settings\"\n                isActive={settingsExpanded}\n              >\n                <CogIcon />\n              </Button>\n            </ToolbarItem>\n          )}\n          {additionalControls.length > 0 && (\n            <ToolbarGroup>\n              {additionalControls.map((control, idx) => (\n                <ToolbarItem key={idx}>{control}</ToolbarItem>\n              ))}\n            </ToolbarGroup>\n          )}\n          {pagination && (\n            <ToolbarItem\n              variant=\"pagination\"\n              visibility={{ default: 'hidden', lg: 'visible' }}\n            >\n              {pagination}\n            </ToolbarItem>\n          )}\n        </ToolbarContent>\n        {settingsExpanded && (\n          <SettingsPanel\n            filters={filters}\n            setFilters={setFilters}\n            handleSearch={handleSearch}\n            settingsExpanded={settingsExpanded}\n            setSettingsExpanded={setSettingsExpanded}\n          />\n        )}\n      </Toolbar>\n    </>\n  );\n};\n\nFilterableToolbar.propTypes = {\n  categories: PropTypes.object.isRequired,\n  qsConfig: PropTypes.object.isRequired,\n  filters: PropTypes.object.isRequired,\n  setFilters: PropTypes.func.isRequired,\n  pagination: PropTypes.object,\n  hasSettings: PropTypes.bool,\n  additionalControls: PropTypes.array,\n  hideSortOptions: PropTypes.bool,\n  hideQuickDateRange: PropTypes.bool,\n};\n\nexport default FilterableToolbar;\n","import Toolbar from './Toolbar';\nexport default Toolbar;\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport initializeChart from './BaseChart';\nimport currencyFormatter from '../Utilities/currencyFormatter';\n\nclass Tooltip {\n  constructor(props) {\n    this.svg = props.svg;\n    this.draw();\n  }\n\n  draw() {\n    this.width = 125;\n    this.toolTipBase = d3.select(this.svg + '> svg').append('g');\n    this.toolTipBase.attr('id', 'svg-chart-Tooltip-base-' + this.svg.slice(1));\n    this.toolTipBase.attr('overflow', 'visible');\n    this.toolTipBase.style('opacity', 0);\n    this.toolTipBase.style('pointer-events', 'none');\n    this.toolTipBase.attr('transform', 'translate(100, 100)');\n    this.boxWidth = 125;\n    this.textWidthThreshold = 20;\n\n    this.toolTipPoint = this.toolTipBase\n      .append('rect')\n      .attr('transform', 'translate(10, 0) rotate(45)')\n      .attr('x', 0)\n      .attr('y', 0)\n      .attr('height', 20)\n      .attr('width', 20)\n      .attr('fill', '#393f44');\n    this.boundingBox = this.toolTipBase\n      .append('rect')\n      .attr('x', 10)\n      .attr('y', -23)\n      .attr('rx', 2)\n      .attr('height', 92)\n      .attr('width', this.boxWidth)\n      .attr('fill', '#393f44');\n    this.name = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('font-size', 12)\n      .attr('x', 20)\n      .attr('y', -2)\n      .text('Template name');\n    this.savings = this.toolTipBase\n      .append('text')\n      .attr('x', 20)\n      .attr('y', 52)\n      .attr('font-size', 12)\n      .attr('font-weight', 'bold')\n      .attr('fill', 'white')\n      .text('Total savings $0');\n    this.manualCost = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('font-size', 12)\n      .attr('x', 20)\n      .attr('y', 16)\n      .text('Manual cost $0');\n    this.automationCost = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('font-size', 12)\n      .attr('x', 20)\n      .attr('y', 34)\n      .text('Automation cost $0');\n  }\n\n  handleMouseOver = (d) => {\n    let name;\n    let savings;\n    let manualCost;\n    let automationCost;\n    const scrollLeftOffset = d3.select('#d3-roi-chart-root').node().scrollLeft;\n    const x =\n      d3.event.pageX -\n      d3.select(this.svg).node().getBoundingClientRect().x +\n      10 +\n      scrollLeftOffset;\n    const y =\n      d3.event.pageY -\n      d3.select(this.svg).node().getBoundingClientRect().y -\n      30;\n    if (!d) {\n      return;\n    } else {\n      savings = currencyFormatter(+d.delta);\n      name = d.name;\n      manualCost = currencyFormatter(+d.manualCost);\n      automationCost = currencyFormatter(+d.automatedCost);\n    }\n\n    const toolTipWidth = this.toolTipBase.node().getBoundingClientRect().width;\n    const chartWidth = d3\n      .select(this.svg + '> svg')\n      .node()\n      .getBoundingClientRect().width;\n    const overflow = 100 - (toolTipWidth / chartWidth) * 100;\n    const flipped = overflow < (x / chartWidth) * 100;\n    this.name.text('' + name);\n    this.savings.text(`Total savings ${savings}`);\n    this.manualCost.text(`Manual Cost ${manualCost}`);\n    this.automationCost.text(`Automation Cost ${automationCost}`);\n    this.nameWidth = this.name.node().getComputedTextLength();\n    this.savingsWidth = this.savings.node().getComputedTextLength();\n    this.manualCostWidth = this.manualCost.node().getComputedTextLength();\n    this.automationCostWidth = this.automationCost\n      .node()\n      .getComputedTextLength();\n    this.widestTextElem = d3.max([\n      this.nameWidth,\n      this.savingsWidth,\n      this.automationCostWidth,\n      this.manualCostWidth,\n    ]);\n\n    const maxTextPerc = (this.widestTextElem / this.boxWidth) * 100;\n    const threshold = 85;\n    const overage = maxTextPerc / threshold;\n    let adjustedWidth;\n    if (maxTextPerc > threshold) {\n      adjustedWidth = this.boxWidth * overage;\n    } else {\n      adjustedWidth = this.boxWidth;\n    }\n\n    this.boundingBox.attr('width', adjustedWidth);\n    this.toolTipBase.attr('transform', 'translate(' + x + ',' + y + ')');\n    if (flipped) {\n      this.toolTipPoint.attr('transform', 'translate(-20, 15) rotate(45)');\n      this.boundingBox.attr('x', -adjustedWidth - 20);\n      this.name.attr('x', -(toolTipWidth - 7));\n      this.savings.attr('x', -(toolTipWidth - 7));\n      this.manualCost.attr('x', -(toolTipWidth - 7));\n      this.automationCost.attr('x', -(toolTipWidth - 7));\n    } else {\n      this.toolTipPoint.attr('transform', 'translate(10, 15) rotate(45)');\n      this.boundingBox.attr('x', 10);\n      this.name.attr('x', 20);\n      this.savings.attr('x', 20);\n      this.manualCost.attr('x', 20);\n      this.automationCost.attr('x', 20);\n    }\n\n    this.toolTipBase.style('opacity', 1);\n    this.toolTipBase.interrupt();\n  };\n\n  handleMouseOut = () => {\n    this.toolTipBase\n      .transition()\n      .delay(15)\n      .style('opacity', 0)\n      .style('pointer-events', 'none');\n  };\n}\n\nclass TopTemplatesSavings extends Component {\n  constructor(props) {\n    super(props);\n    this.init = this.init.bind(this);\n    this.draw = this.draw.bind(this);\n    this.resize = this.resize.bind(this);\n    this.state = {\n      timeout: null,\n    };\n  }\n\n  // Methods\n  resize() {\n    const { timeout } = this.state;\n    clearTimeout(timeout);\n    this.setState({\n      timeout: setTimeout(() => {\n        this.init();\n      }, 500),\n    });\n  }\n\n  init() {\n    this.draw();\n  }\n\n  draw() {\n    // Use PF chart color\n    const color = '#0066CC'; //blue\n    // Clear our chart container element first\n    d3.selectAll('#' + this.props.id + ' > *').remove();\n    const { data } = this.props;\n    let width;\n    // adjust chart width to support larger datasets\n    if (data.length >= 15) {\n      const containerWidth = d3.select('.automation-wrapper').node();\n      width =\n        containerWidth.getBoundingClientRect().width -\n        this.props.margin.left -\n        this.props.margin.right;\n    } else {\n      width = this.props.getWidth();\n    }\n\n    const height = this.props.getHeight();\n    const x = d3.scaleBand().rangeRound([0, width]).padding(0.45);\n    const y = d3.scaleLinear().range([height, 0]);\n    // format our X Axis ticks\n    let ticks;\n    ticks = data.map((d) => d.name);\n    const formatYAxisValue = d3.format('.2s');\n    const xAxis = d3.axisBottom(x).tickValues(ticks);\n\n    const yAxis = d3\n      .axisLeft(y)\n      .ticks(8)\n      .tickFormat((d) => formatYAxisValue(d).replace('G', 'B'))\n      .tickSize(-width, 0, 0);\n\n    const svg = d3\n      .select('#' + this.props.id)\n      .append('svg')\n      .attr('width', width + this.props.margin.left + this.props.margin.right)\n      .attr('height', height + this.props.margin.bottom + this.props.margin.top)\n      .append('g')\n      .attr(\n        'transform',\n        'translate(' +\n          this.props.margin.left +\n          ',' +\n          this.props.margin.top +\n          ')'\n      );\n\n    const taskNames = data.map((d) => d.name);\n    const tooltip = new Tooltip({\n      svg: '#' + this.props.id,\n    });\n    x.domain(taskNames);\n    y.domain([0, d3.max(data, (d) => d.delta * 1.15) || 8]);\n\n    // add y axis\n    svg\n      .append('g')\n      .attr('class', 'y axis')\n      .call(yAxis)\n      .selectAll('line')\n      .attr('stroke', '#d7d7d7')\n      .append('text')\n      .attr('transform', 'rotate(-90)')\n      .attr('y', 6)\n      .attr('dy', '.71em')\n      .style('text-anchor', 'end')\n      .style('font-weight', 'bold')\n      .text('Value');\n    svg\n      .append('text')\n      .attr('transform', 'rotate(-90)')\n      .attr('y', 0 - this.props.margin.left)\n      .attr('x', 0 - height / 2)\n      .attr('dy', '1em')\n      .style('text-anchor', 'middle')\n      .text('Savings per template ($)');\n\n    // add x axis\n    svg\n      .append('g')\n      .attr('class', 'x-axis')\n      .attr('transform', 'translate(0,' + height + ')')\n      .call(xAxis)\n      .selectAll('text')\n      .style('text-anchor', 'start')\n      .attr('dx', '0.75em')\n      .attr('dy', -x.bandwidth() / 1.45 - 8)\n      .attr('transform', 'rotate(-90)');\n\n    svg.selectAll('.x-axis line').attr('stroke', 'transparent');\n\n    svg\n      .selectAll('.bar')\n      .data(data)\n      .enter()\n      .append('rect')\n      .attr('x', (d) => x(d.name))\n      .attr('width', x.bandwidth())\n      .attr('y', (d) => y(d.delta))\n      .style('fill', () => color)\n      .attr('height', (d) => height - y(d.delta))\n      .on('mouseover', function (d) {\n        d3.select(this).style('fill', d3.rgb(color).darker(1));\n        tooltip.handleMouseOver(d);\n      })\n      .on('mousemove', tooltip.handleMouseOver)\n      .on('mouseout', function () {\n        d3.select(this).style('fill', color);\n        tooltip.handleMouseOut();\n      });\n  }\n\n  componentDidMount() {\n    this.init();\n    // Call the resize function whenever a resize event occurs\n    window.addEventListener('resize', this.resize);\n  }\n\n  componentWillUnmount() {\n    const { timeout } = this.state;\n    clearTimeout(timeout);\n    window.removeEventListener('resize', this.resize);\n  }\n\n  componentDidUpdate() {\n    this.init();\n  }\n\n  render() {\n    return <div id={this.props.id} />;\n  }\n}\n\nTopTemplatesSavings.propTypes = {\n  id: PropTypes.string,\n  data: PropTypes.array,\n  margin: PropTypes.object,\n  getHeight: PropTypes.func,\n  getWidth: PropTypes.func,\n};\n\nexport default initializeChart(TopTemplatesSavings);\n","import styled from 'styled-components';\nimport { CardTitle } from '@patternfly/react-core';\n\nexport const BorderedCardTitle = styled(CardTitle)`\n  border-bottom: 1px solid #d7d7d7;\n  margin-bottom: 10px;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Card, CardBody, CardTitle, Title } from '@patternfly/react-core';\nimport currencyFormatter from '../../Utilities/currencyFormatter';\n\nconst TotalSavings = ({ totalSavings = 0 }) => (\n  <Card style={{ borderTop: '3px solid #2B9AF3' }}>\n    <CardTitle style={{ paddingBottom: '0' }}>Total savings</CardTitle>\n    <CardBody>\n      <Title\n        headingLevel=\"h3\"\n        size=\"4xl\"\n        style={{ color: 'var(--pf-global--success-color--200)' }}\n      >\n        {currencyFormatter(totalSavings)}\n      </Title>\n    </CardBody>\n  </Card>\n);\n\nTotalSavings.propTypes = {\n  totalSavings: PropTypes.number,\n};\n\nexport default TotalSavings;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport {\n  Card,\n  CardBody,\n  InputGroup,\n  InputGroupText,\n  TextInput,\n} from '@patternfly/react-core';\nimport { DollarSignIcon } from '@patternfly/react-icons';\nimport { BorderedCardTitle as CardTitle } from './helpers';\n\nconst InputAndText = styled.div`\n  flex: 1;\n`;\n\nconst validFloat = (value) => {\n  const floatValue = parseFloat(value);\n  return floatValue && floatValue >= 0 ? value : '';\n};\n\nconst CalculationCost = ({\n  costManual = '0',\n  setCostManual = () => {},\n  costAutomation = '0',\n  setCostAutomation = () => {},\n}) => (\n  <Card>\n    <CardTitle>Calculate your automation</CardTitle>\n    <CardBody>\n      <InputAndText>\n        <p>Manual cost of automation</p>\n        <em style={{ color: 'var(--pf-global--Color--dark-200)' }}>\n          (e.g. average salary of mid-level Software Engineer)\n        </em>\n        <InputGroup style={{ width: '50%' }}>\n          <InputGroupText>\n            <DollarSignIcon />\n          </InputGroupText>\n          <TextInput\n            id=\"manual-cost\"\n            type=\"number\"\n            aria-label=\"manual-cost\"\n            value={costManual}\n            onChange={(e) => setCostManual(validFloat(e))}\n          />\n          <InputGroupText>/hr</InputGroupText>\n        </InputGroup>\n      </InputAndText>\n      <InputAndText style={{ paddingTop: '10px' }}>\n        <p>Automated process cost</p>\n        <InputGroup style={{ width: '50%' }}>\n          <InputGroupText>\n            <DollarSignIcon />\n          </InputGroupText>\n          <TextInput\n            id=\"automation-cost\"\n            type=\"number\"\n            aria-label=\"automation-cost\"\n            value={costAutomation}\n            onChange={(e) => setCostAutomation(validFloat(e))}\n          />\n          <InputGroupText>/hr</InputGroupText>\n        </InputGroup>\n      </InputAndText>\n    </CardBody>\n  </Card>\n);\n\nCalculationCost.propTypes = {\n  costManual: PropTypes.string,\n  setCostManual: PropTypes.func,\n  costAutomation: PropTypes.string,\n  setCostAutomation: PropTypes.func,\n};\n\nexport default CalculationCost;\n","import React from 'react';\n\nimport { Card, CardBody } from '@patternfly/react-core';\nimport { BorderedCardTitle as CardTitle } from './helpers';\n\nconst AutomationFormula = () => (\n  <Card style={{ height: '100%' }}>\n    <CardTitle>Automation formula</CardTitle>\n    <CardBody>\n      <p>\n        <b>Manual cost for template x</b> =\n        <em>\n          (time for a manual run on one host in hours * (sum of all hosts across\n          all job runs) ) * cost per hour\n        </em>\n      </p>\n      <p>\n        <b>Automation cost for template x</b> =\n        <em>\n          cost of automation per hour * sum of total elapsed hours for a\n          template\n        </em>\n      </p>\n      <p>\n        <b>Savings</b> =\n        <em>Sum of (manual cost - automation cost) across all templates</em>\n      </p>\n    </CardBody>\n  </Card>\n);\n\nexport default AutomationFormula;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport {\n  Button,\n  Card,\n  CardBody,\n  InputGroup,\n  InputGroupText,\n  TextInput,\n  Tooltip,\n  Popover,\n} from '@patternfly/react-core';\nimport {\n  InfoCircleIcon,\n  ToggleOnIcon,\n  ToggleOffIcon,\n} from '@patternfly/react-icons';\n\nimport {\n  convertSecondsToMins,\n  convertMinsToSeconds,\n  capitalize,\n} from '../../Utilities/helpers';\n\nimport currencyFormatter from '../../Utilities/currencyFormatter';\n\nconst TemplateDetail = styled.div`\n  em {\n    display: block;\n    padding: 5px 0;\n  }\n\n  @media (max-width: 1490px) {\n    display: block;\n\n    em {\n      padding: 10px 0;\n      display: block;\n    }\n  }\n`;\n\nconst TemplateDetailSubTitle = styled.em`\n  color: var(--pf-global--Color--dark-200);\n`;\n\nconst TooltipWrapper = styled.div`\n  p {\n    text-align: left;\n  }\n`;\n\nconst IconGroup = styled.div`\n  & svg {\n    fill: var(--pf-global--Color--dark-200);\n\n    :hover {\n      cursor: pointer;\n    }\n\n    :first-of-type {\n      margin-right: 10px;\n      margin-left: 10px;\n\n      @media (max-width: 1350px) {\n        margin-left: 0;\n      }\n    }\n  }\n`;\n\nconst InputAndText = styled.div`\n  flex: 1;\n`;\n\nconst showSortAttr = (details, sortBy) => {\n  const trimmed = sortBy.split(':')[0];\n  const sortAttribute = Object.keys(details).map((k) =>\n    k === trimmed ? `${details[k]}` : null\n  );\n\n  return (\n    <TemplateDetailSubTitle>\n      {capitalize(trimmed.split('_').join(' '))}: {sortAttribute}\n    </TemplateDetailSubTitle>\n  );\n};\n\nconst QuestionIconTooltip = ({ details }) => (\n  <Popover\n    aria-label=\"template detail popover\"\n    position=\"left\"\n    bodyContent={\n      <TooltipWrapper>\n        {Object.keys(details).map((k, i) => (\n          <p key={i}>\n            <b>{capitalize(k.split('_').join(' '))}</b>: {details[k]}\n          </p>\n        ))}\n      </TooltipWrapper>\n    }\n  >\n    <InfoCircleIcon />\n  </Popover>\n);\n\nQuestionIconTooltip.propTypes = {\n  details: PropTypes.object,\n};\n\nconst TopTemplates = ({\n  data = [],\n  sortBy = '',\n  setDataRunTime = () => {},\n  setEnabled = () => {},\n  redirectToJobExplorer = () => {},\n}) => (\n  <Card>\n    <CardBody>\n      <p>Enter the time it takes to run the following templates manually.</p>\n      {data.map((d) => (\n        <div key={d.id}>\n          <Tooltip content={'List of jobs for this template for past 30 days'}>\n            <Button\n              style={{ padding: '15px 0 10px' }}\n              component=\"a\"\n              onClick={() => redirectToJobExplorer(d.id)}\n              variant=\"link\"\n            >\n              {d.name}\n            </Button>\n          </Tooltip>\n          <TemplateDetail>\n            <InputAndText key={d.id}>\n              <InputGroup>\n                <TextInput\n                  id={d.id}\n                  type=\"number\"\n                  aria-label=\"time run manually\"\n                  value={convertSecondsToMins(d.avgRunTime)}\n                  onChange={(minutes) =>\n                    setDataRunTime(convertMinsToSeconds(minutes), d.id)\n                  }\n                />\n                <InputGroupText>min</InputGroupText>\n              </InputGroup>\n            </InputAndText>\n            <TemplateDetailSubTitle>\n              x {d.successful_hosts_total} host runs\n            </TemplateDetailSubTitle>\n            {showSortAttr(d, sortBy)}\n            <IconGroup>\n              <QuestionIconTooltip details={d} />\n              {!d.enabled && (\n                <ToggleOffIcon onClick={() => setEnabled(d.id)(true)} />\n              )}\n              {d.enabled && (\n                <ToggleOnIcon onClick={() => setEnabled(d.id)(false)} />\n              )}\n            </IconGroup>\n          </TemplateDetail>\n          <p style={{ color: '#486B00' }}>{currencyFormatter(+d.delta)}</p>\n        </div>\n      ))}\n    </CardBody>\n  </Card>\n);\n\nTopTemplates.propTypes = {\n  data: PropTypes.array,\n  setDataRunTime: PropTypes.func,\n  redirectToJobExplorer: PropTypes.func,\n  deselectedIds: PropTypes.array,\n  setDeselectedIds: PropTypes.func,\n  setEnabled: PropTypes.func,\n  sortBy: PropTypes.string,\n};\n\nexport default TopTemplates;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport {\n  Card,\n  CardBody,\n  Grid,\n  GridItem,\n  Stack,\n  StackItem,\n} from '@patternfly/react-core';\n\n// Imports from custom components\nimport LoadingState from '../../Components/LoadingState';\nimport NoData from '../../Components/NoData';\nimport EmptyState from '../../Components/EmptyState';\nimport ApiErrorState from '../../Components/ApiErrorState';\nimport FilterableToolbar from '../../Components/Toolbar/';\n\n// Imports from API\nimport { preflightRequest, readROI, readROIOptions } from '../../Api/';\n\n// Imports from utilities\nimport { useQueryParams } from '../../Utilities/useQueryParams';\nimport { roi as roiConst } from '../../Utilities/constants';\nimport useRedirect from '../../Utilities/useRedirect';\nimport { calculateDelta, convertSecondsToHours } from '../../Utilities/helpers';\nimport useRequest from '../../Utilities/useRequest';\nimport { getQSConfig } from '../../Utilities/qs';\n\n// Chart\nimport TopTemplatesSavings from '../../Charts/ROITopTemplates';\n\n// Local imports\nimport { BorderedCardTitle } from './helpers';\nimport TotalSavings from './TotalSavings';\nimport CalculationCost from './CalculationCost';\nimport AutomationFormula from './AutomationFormula';\nimport TopTemplates from './TopTemplates';\n\nconst mapApi = ({ items = [] }) =>\n  items.map((el) => ({\n    ...el,\n    delta: 0,\n    avgRunTime: 3600,\n    manualCost: 0,\n    automatedCost: 0,\n    enabled: true,\n  }));\n\nconst filterDisabled = (data) => data.filter(({ enabled }) => enabled);\n\nconst updateDeltaCost = (data, costAutomation, costManual) =>\n  data.map((el) => {\n    const manualCost =\n      convertSecondsToHours(el.avgRunTime) *\n      el.successful_hosts_total *\n      parseFloat(costManual);\n    const automatedCost =\n      convertSecondsToHours(el.successful_elapsed_total) *\n      parseFloat(costAutomation);\n    const delta = calculateDelta(automatedCost, manualCost);\n\n    return { ...el, delta, manualCost, automatedCost };\n  });\n\nconst computeTotalSavings = (data) =>\n  data.reduce((sum, curr) => sum + curr.delta, 0);\n\nconst qsConfig = getQSConfig('clusters', { ...roiConst.defaultParams }, [\n  'limit',\n  'offset',\n]);\n\nconst AutomationCalculator = ({ history }) => {\n  const toJobExplorer = useRedirect(history, 'jobExplorer');\n  const [costManual, setCostManual] = useState('50');\n  const [costAutomation, setCostAutomation] = useState('20');\n\n  // params from toolbar/searchbar\n  const { queryParams, setFromToolbar } = useQueryParams(qsConfig);\n\n  const { error: preflightError, request: setPreflight } = useRequest(\n    useCallback(() => preflightRequest(), [])\n  );\n\n  const { result: options, request: setOptions } = useRequest(\n    useCallback(() => readROIOptions(queryParams), [queryParams]),\n    {}\n  );\n\n  const {\n    result: api,\n    error: apiError,\n    isLoading: apiIsLoading,\n    isSuccess: apiIsSuccess,\n    request: fetchEndpoint,\n    setValue,\n  } = useRequest(\n    useCallback(async () => {\n      const response = await readROI(queryParams);\n      return updateDeltaCost(mapApi(response), costAutomation, costManual);\n    }, [queryParams]),\n    []\n  );\n\n  /**\n   * Modifies one elements avgRunTime in the unfilteredData\n   * and updates all calculated fields.\n   * Used in top templates.\n   */\n  const setDataRunTime = (seconds, id) => {\n    const updatedData = api.map((el) => {\n      if (el.id === id) {\n        el.avgRunTime = seconds;\n        const updatedDelta = updateDeltaCost(\n          [el],\n          costAutomation,\n          costManual\n        )[0];\n        return updatedDelta;\n      } else {\n        return el;\n      }\n    });\n\n    setValue(updatedData);\n  };\n\n  const setEnabled = (id) => (value) => {\n    setValue(api.map((el) => (el.id === id ? { ...el, enabled: value } : el)));\n  };\n\n  useEffect(() => {\n    setPreflight();\n    setOptions();\n  }, []);\n\n  /**\n   * Recalculates the delta and costs in the data after the cost is changed.\n   */\n  useEffect(() => {\n    setValue(updateDeltaCost(api, costAutomation, costManual));\n  }, [costAutomation, costManual]);\n\n  /**\n   * Get data from API depending on the queryParam.\n   */\n  useEffect(() => {\n    setOptions();\n    fetchEndpoint();\n  }, [queryParams]);\n\n  /**\n   * Function to redirect to the job explorer page\n   * with the same filters as is used here.\n   */\n  const redirectToJobExplorer = (templateId) => {\n    const initialQueryParams = {\n      'job-explorer.quick_date_range': 'last_30_days',\n      'job-explorer.template_id': templateId,\n    };\n    toJobExplorer(initialQueryParams);\n  };\n\n  const renderLeft = () => (\n    <Stack hasGutter>\n      <StackItem>\n        <Card>\n          <BorderedCardTitle>Automation savings</BorderedCardTitle>\n          <CardBody>\n            <TopTemplatesSavings\n              margin={{ top: 20, right: 20, bottom: 20, left: 70 }}\n              id=\"d3-roi-chart-root\"\n              data={filterDisabled(api)}\n            />\n            <p style={{ textAlign: 'center' }}>Templates</p>\n          </CardBody>\n        </Card>\n      </StackItem>\n      <StackItem isFilled>\n        <AutomationFormula />\n      </StackItem>\n    </Stack>\n  );\n\n  const renderRight = () => (\n    <Stack hasGutter>\n      <StackItem>\n        <TotalSavings totalSavings={computeTotalSavings(filterDisabled(api))} />\n      </StackItem>\n      <StackItem>\n        <Stack>\n          <StackItem>\n            <CalculationCost\n              costManual={costManual}\n              setCostManual={setCostManual}\n              costAutomation={costAutomation}\n              setCostAutomation={setCostAutomation}\n            />\n          </StackItem>\n          <StackItem style={{ overflow: 'auto', maxHeight: '48vh' }}>\n            <TopTemplates\n              redirectToJobExplorer={redirectToJobExplorer}\n              data={api}\n              setDataRunTime={setDataRunTime}\n              setUnfilteredData={api}\n              setEnabled={setEnabled}\n              sortBy={queryParams.sort_by}\n            />\n          </StackItem>\n        </Stack>\n      </StackItem>\n    </Stack>\n  );\n\n  const renderContents = () => {\n    if (preflightError) return <EmptyState preflightError={preflightError} />;\n    if (apiIsLoading) return <LoadingState />;\n    if (apiError) return <ApiErrorState message={apiError.error} />;\n    if (apiIsSuccess && api.length <= 0) return <NoData />;\n    if (apiIsSuccess && api.length > 0)\n      return (\n        <Grid hasGutter className=\"automation-wrapper\">\n          <GridItem span={9}>{renderLeft()}</GridItem>\n          <GridItem span={3}>{renderRight()}</GridItem>\n        </Grid>\n      );\n\n    return null;\n  };\n\n  return (\n    <>\n      <PageHeader>\n        <PageHeaderTitle title={'Automation Calculator'} />\n        <FilterableToolbar\n          categories={options}\n          filters={queryParams}\n          qsConfig={qsConfig}\n          setFilters={setFromToolbar}\n        />\n      </PageHeader>\n      <Main>{renderContents()}</Main>\n    </>\n  );\n};\n\nAutomationCalculator.propTypes = {\n  history: PropTypes.object,\n};\n\nexport default AutomationCalculator;\n","import * as d3 from 'd3';\n\nclass Tooltip {\n  constructor(opts) {\n    this.svg = opts.svg;\n    this.colors = opts.colors;\n    this.draw();\n  }\n\n  draw() {\n    this.toolTipBase = d3.select(this.svg + '> svg').append('g');\n    this.toolTipBase.attr('id', 'svg-chart-Tooltip.base-' + this.svg.slice(1));\n    this.toolTipBase.attr('overflow', 'visible');\n    this.toolTipBase.style('opacity', 0);\n    this.toolTipBase.style('pointer-events', 'none');\n    this.toolTipBase.attr('transform', 'translate(100, 100)');\n    this.boxWidth = 145;\n    this.textWidthThreshold = 20;\n\n    this.toolTipPoint = this.toolTipBase\n      .append('rect')\n      .attr('transform', 'translate(10, -10) rotate(45)')\n      .attr('x', 0)\n      .attr('y', 0)\n      .attr('height', 20)\n      .attr('width', 20)\n      .attr('fill', '#393f44');\n    this.boundingBox = this.toolTipBase\n      .append('rect')\n      .attr('x', 10)\n      .attr('y', -41)\n      .attr('rx', 2)\n      .attr('height', 110)\n      .attr('width', this.boxWidth)\n      .attr('fill', '#393f44');\n    this.circleSuccess = this.toolTipBase\n      .append('circle')\n      .attr('cx', 26)\n      .attr('cy', 0)\n      .attr('r', 8)\n      .attr('stroke', 'white')\n      .attr('fill', 'white');\n    this.circleFail = this.toolTipBase\n      .append('circle')\n      .attr('cx', 26)\n      .attr('cy', 26)\n      .attr('r', 8)\n      .attr('stroke', 'white')\n      .attr('fill', 'white');\n    this.successText = this.toolTipBase\n      .append('text')\n      .attr('x', 43)\n      .attr('y', 4)\n      .attr('font-size', 12)\n      .attr('fill', 'white')\n      .text('Successful');\n    this.failText = this.toolTipBase\n      .append('text')\n      .attr('x', 43)\n      .attr('y', 28)\n      .attr('font-size', 12)\n      .attr('fill', 'white')\n      .text('Failed');\n    this.successIcon = this.toolTipBase\n      .append('text')\n      .attr('class', 'fas fa-sm')\n      .attr('fill', this.colors(1))\n      .attr('x', 19)\n      .attr('y', 5)\n      .text('\\uf058');\n    this.failedIcon = this.toolTipBase\n      .append('text')\n      .attr('class', 'fas fa-sm')\n      .attr('fill', this.colors(0))\n      .attr('x', 20)\n      .attr('y', 31)\n      .text('\\uf06a');\n    this.jobs = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('x', 137)\n      .attr('y', -21)\n      .attr('font-size', 12)\n      .attr('text-anchor', 'end')\n      .text('No jobs');\n    this.successful = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('font-size', 12)\n      .attr('x', 122)\n      .attr('y', 4)\n      .text('0');\n    this.failed = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('font-size', 12)\n      .attr('x', 122)\n      .attr('y', 28)\n      .text('0');\n    this.date = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('stroke', 'white')\n      .attr('x', 20)\n      .attr('y', -21)\n      .attr('font-size', 12)\n      .text('Never');\n    this.clickMore = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('x', 20)\n      .attr('y', 55)\n      .attr('font-size', 12)\n      .text('Click for details');\n  }\n\n  handleMouseOver = (d) => {\n    let success = 0;\n    let fail = 0;\n    let total = 0;\n    const x =\n      d3.event.pageX -\n      d3.select(this.svg).node().getBoundingClientRect().x +\n      10;\n    const y =\n      d3.event.pageY -\n      d3.select(this.svg).node().getBoundingClientRect().y -\n      10;\n    const formatTooltipDate = d3.timeFormat('%m/%d');\n    if (!d) {\n      return;\n    }\n\n    const toolTipWidth = this.toolTipBase.node().getBoundingClientRect().width;\n    const chartWidth = d3\n      .select(this.svg + '> svg')\n      .node()\n      .getBoundingClientRect().width;\n    const overflow = 100 - (toolTipWidth / chartWidth) * 100;\n    const flipped = overflow < (x / chartWidth) * 100;\n    if (d) {\n      success = d.RAN || 0;\n      fail = d.FAIL || 0;\n      total = d.TOTAL || 0;\n      this.date.text(formatTooltipDate(d.DATE || null));\n    }\n\n    if (d && d.data) {\n      success = d.data.RAN || 0;\n      fail = d.data.FAIL || 0;\n      total = d.data.TOTAL || 0;\n      this.date.text(formatTooltipDate(d.data.DATE || null));\n    }\n\n    this.jobs.text('' + total + ' jobs');\n    this.jobsWidth = this.jobs.node().getComputedTextLength();\n    this.failed.text('' + fail);\n    this.successful.text('' + success);\n    this.successTextWidth = this.successful.node().getComputedTextLength();\n    this.failTextWidth = this.failed.node().getComputedTextLength();\n\n    const maxTextPerc = (this.jobsWidth / this.boxWidth) * 100;\n    const threshold = 40;\n    const overage = maxTextPerc / threshold;\n    let adjustedWidth;\n    if (maxTextPerc > threshold) {\n      adjustedWidth = this.boxWidth * overage;\n    } else {\n      adjustedWidth = this.boxWidth;\n    }\n\n    this.boundingBox.attr('width', adjustedWidth);\n    this.toolTipBase.attr('transform', 'translate(' + x + ',' + y + ')');\n    if (flipped) {\n      this.toolTipPoint.attr('transform', 'translate(-20, 0) rotate(45)');\n      this.boundingBox.attr('x', -adjustedWidth - 20);\n      this.circleSuccess.attr('cx', -adjustedWidth);\n      this.circleFail.attr('cx', -adjustedWidth);\n      this.failedIcon.attr('x', -adjustedWidth - 7);\n      this.successIcon.attr('x', -adjustedWidth - 7);\n      this.successText.attr('x', -adjustedWidth + 17);\n      this.failText.attr('x', -adjustedWidth + 17);\n      this.successful.attr('x', -this.successTextWidth - 20 - 12);\n      this.failed.attr('x', -this.failTextWidth - 20 - 12);\n      this.date.attr('x', -adjustedWidth - 5);\n      this.jobs.attr('x', -this.jobsWidth / 2 - 7);\n      this.clickMore.attr('x', -adjustedWidth);\n    } else {\n      this.toolTipPoint.attr('transform', 'translate(10, 0) rotate(45)');\n      this.boundingBox.attr('x', 10);\n      this.circleSuccess.attr('cx', 26);\n      this.circleFail.attr('cx', 26);\n      this.failedIcon.attr('x', 19);\n      this.successIcon.attr('x', 19);\n      this.successText.attr('x', 43);\n      this.failText.attr('x', 43);\n      this.successful.attr('x', adjustedWidth - this.successTextWidth);\n      this.failed.attr('x', adjustedWidth - this.failTextWidth);\n      this.date.attr('x', 20);\n      this.jobs.attr('x', adjustedWidth);\n      this.clickMore.attr('x', 20);\n    }\n\n    this.toolTipBase.style('opacity', 1);\n    this.toolTipBase.interrupt();\n  };\n\n  handleMouseOut = () => {\n    this.toolTipBase\n      .transition()\n      .delay(15)\n      .style('opacity', 0)\n      .style('pointer-events', 'none');\n  };\n}\n\nexport default Tooltip;\n","import React, { Component } from 'react';\nimport initializeChart from './BaseChart';\nimport * as d3 from 'd3';\nimport PropTypes from 'prop-types';\nimport Tooltip from '../Utilities/Tooltip';\nimport { stringify } from 'query-string';\nimport { Paths } from '../paths';\nimport { formatDate } from '../Utilities/helpers';\n\nclass BarChart extends Component {\n  constructor(props) {\n    super(props);\n    this.draw = this.draw.bind(this);\n    this.init = this.init.bind(this);\n    this.resize = this.resize.bind(this);\n    this.redirectToJobExplorer = this.redirectToJobExplorer.bind(this);\n    this.state = {\n      formattedData: [],\n      timeout: null,\n    };\n  }\n\n  redirectToJobExplorer({ data: { DATE: date } }) {\n    const { jobExplorer } = Paths;\n    const formattedDate = formatDate(date);\n    const initialQueryParams = {\n      start_date: formattedDate,\n      end_date: formattedDate,\n      quick_date_range: 'custom',\n      status: ['failed', 'successful'],\n      template_id: this.props.queryParams.template_id,\n      org_id: this.props.queryParams.org_id,\n      job_type: this.props.queryParams.job_type,\n    };\n\n    const search = stringify(initialQueryParams, { arrayFormat: 'bracket' });\n    this.props.history.push({\n      pathname: jobExplorer,\n      search,\n    });\n  }\n\n  resize() {\n    const { timeout } = this.state;\n    clearTimeout(timeout);\n    this.setState({\n      timeout: setTimeout(() => {\n        this.init();\n      }, 500),\n    });\n  }\n\n  init() {\n    this.draw();\n  }\n\n  // Methods\n  draw() {\n    // Clear our chart container element first\n    d3.selectAll('#' + this.props.id + ' > *').remove();\n    const parseTime = d3.timeParse('%Y-%m-%d');\n    let { data: unformattedData } = this.props;\n    const data = unformattedData.reduce(\n      (formatted, { created_date, successful_count, failed_count }) => {\n        let DATE = parseTime(created_date) || new Date();\n        let RAN = +successful_count || 0;\n        let FAIL = +failed_count || 0;\n        let TOTAL = +successful_count + failed_count || 0;\n        return formatted.concat({ DATE, RAN, FAIL, TOTAL });\n      },\n      []\n    );\n    const width = this.props.getWidth();\n    const height = this.props.getHeight();\n    const x = d3.scaleBand().rangeRound([0, width]).padding(0.35); // percentage\n    const y = d3.scaleLinear().range([height, 0]);\n\n    const svg = d3\n      .select('#' + this.props.id)\n      .append('svg')\n      .attr('width', width + this.props.margin.left + this.props.margin.right)\n      .attr('height', height + this.props.margin.top + this.props.margin.bottom)\n      .append('g')\n      .attr(\n        'transform',\n        'translate(' +\n          this.props.margin.left +\n          ',' +\n          this.props.margin.top +\n          ')'\n      );\n    //[fail, success]\n    let colors = d3.scaleOrdinal(['#6EC664', '#A30000']);\n\n    const barTooltip = new Tooltip({\n      svg: '#' + this.props.id,\n      colors,\n    });\n    const status = ['FAIL', 'RAN'];\n\n    // stack our data\n    const stack = d3\n      .stack()\n      .keys(status)\n      .order(d3.stackOrderNone)\n      .offset(d3.stackOffsetNone);\n\n    const layers = stack(data);\n    // Scale the range of the data\n    x.domain(layers[0].map((d) => d.data.DATE));\n    y.domain([0, d3.max(layers[layers.length - 1], (d) => d[1] * 1.15) || 8]);\n    // Add the Y Axis\n    svg\n      .append('g')\n      .attr('class', 'y-axis')\n      .call(d3.axisLeft(y).tickSize(-width, 0, 0))\n      .selectAll('line')\n      .attr('stroke', '#d7d7d7');\n    svg.selectAll('.y-axis .tick text').attr('x', -5);\n    // text label for the y axis\n    svg\n      .append('text')\n      .attr('transform', 'rotate(-90)')\n      .attr('y', 0 - this.props.margin.left)\n      .attr('x', 0 - height / 2)\n      .attr('dy', '1em')\n      .style('text-anchor', 'middle')\n      .text('Jobs across all clusters');\n    // Add the X Axis\n    let ticks;\n    const maxTicks = Math.round(data.length / (data.length / 2));\n    ticks = data.map((d) => d.DATE);\n    if (data.length > 14) {\n      ticks = data\n        .map((d, i) => (i % maxTicks === 0 ? d.DATE : undefined))\n        .filter((item) => item);\n    }\n\n    svg\n      .append('g')\n      .attr('class', 'x-axis')\n      .attr('transform', 'translate(0,' + height + ')')\n      .call(\n        d3.axisBottom(x).tickValues(ticks).tickFormat(d3.timeFormat('%-m/%-d')) // \"1/19\"\n      )\n      .selectAll('line')\n      .attr('stroke', '#d7d7d7');\n    svg.selectAll('.x-axis .tick text').attr('y', 10);\n\n    // text label for the x axis\n    svg\n      .append('text')\n      .attr(\n        'transform',\n        'translate(' +\n          width / 2 +\n          ' ,' +\n          (height + this.props.margin.top + 20) +\n          ')'\n      )\n      .style('text-anchor', 'middle')\n      .text('Date');\n\n    const layer = svg\n      .selectAll('layer')\n      .data(layers)\n      .enter()\n      .append('g')\n      .attr('class', 'layer')\n      .style('fill', (_d, i) => colors(i));\n    layer\n      .selectAll('rect')\n      .data((d) => d)\n      .enter()\n      .append('rect')\n      .attr('x', (d) => x(d.data.DATE))\n      .attr('y', (d) => y(d[0]))\n      .attr('height', 0)\n      .attr('width', x.bandwidth() - 1)\n      .transition()\n      .duration(550)\n      .ease(d3.easeCubic)\n      .attr('y', (d) => y(d[1]))\n      .attr('height', (d) => y(d[0]) - y(d[1]));\n    layer\n      .selectAll('rect')\n      .on('mouseover', barTooltip.handleMouseOver)\n      .on('mousemove', barTooltip.handleMouseOver)\n      .on('mouseout', barTooltip.handleMouseOut)\n      .on('click', this.redirectToJobExplorer);\n  }\n\n  componentDidMount() {\n    this.init();\n    // Call the resize function whenever a resize event occurs\n    window.addEventListener('resize', this.resize);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.data !== this.props.data) {\n      this.init();\n    }\n  }\n\n  componentWillUnmount() {\n    const { timeout } = this.state;\n    clearTimeout(timeout);\n    window.removeEventListener('resize', this.resize);\n  }\n\n  render() {\n    return <div id={this.props.id} />;\n  }\n}\n\nBarChart.propTypes = {\n  id: PropTypes.string,\n  queryParams: PropTypes.object,\n  data: PropTypes.array,\n  margin: PropTypes.object,\n  getHeight: PropTypes.func,\n  getWidth: PropTypes.func,\n  history: PropTypes.object,\n};\n\nexport default initializeChart(BarChart);\n","import React, { Component } from 'react';\nimport initializeChart from './BaseChart';\nimport PropTypes from 'prop-types';\nimport Tooltip from '../Utilities/Tooltip';\nimport { Paths } from '../paths';\nimport { formatDate } from '../Utilities/helpers';\nimport { stringify } from 'query-string';\nimport * as d3 from 'd3';\n\nclass LineChart extends Component {\n  constructor(props) {\n    super(props);\n    this.init = this.init.bind(this);\n    this.draw = this.draw.bind(this);\n    this.resize = this.resize.bind(this);\n    this.updateCluster = this.updateCluster.bind(this);\n    this.redirectToJobExplorer = this.redirectToJobExplorer.bind(this);\n    this.state = {\n      formattedData: [],\n      timeout: null,\n    };\n  }\n\n  redirectToJobExplorer({ DATE: date }) {\n    const { jobExplorer } = Paths;\n    const formattedDate = formatDate(date);\n    const initialQueryParams = {\n      start_date: formattedDate,\n      end_date: formattedDate,\n      quick_date_range: 'custom',\n      status: ['failed', 'successful'],\n      cluster_id: this.props.queryParams.cluster_id,\n      org_id: this.props.queryParams.org_id,\n      template_id: this.props.queryParams.template_id,\n      job_type: this.props.queryParams.job_type,\n    };\n\n    const search = stringify(initialQueryParams, { arrayFormat: 'bracket' });\n    this.props.history.push({\n      pathname: jobExplorer,\n      search,\n    });\n  }\n\n  resize() {\n    const { timeout } = this.state;\n    clearTimeout(timeout);\n    this.setState({\n      timeout: setTimeout(() => {\n        this.init();\n      }, 500),\n    });\n  }\n\n  updateCluster() {\n    this.init();\n  }\n  init() {\n    this.draw();\n  }\n  // Methods\n  draw() {\n    // Clear our chart container element first\n    d3.selectAll('#' + this.props.id + ' > *').remove();\n    const width = this.props.getWidth();\n    const height = this.props.getHeight();\n\n    function transition(path) {\n      path.transition().duration(1000).attrTween('stroke-dasharray', tweenDash);\n    }\n\n    function tweenDash() {\n      const l = this.getTotalLength();\n      const i = d3.interpolateString('0,' + l, l + ',' + l);\n      return function (t) {\n        return i(t);\n      };\n    }\n\n    const x = d3.scaleTime().rangeRound([0, width]);\n    const y = d3.scaleLinear().range([height, 0]);\n\n    //[success, fail, total]\n    let colors = d3.scaleOrdinal(['#6EC664', '#A30000', '#06C']);\n    const svg = d3\n      .select('#' + this.props.id)\n      .append('svg')\n      .attr('width', width + this.props.margin.left + this.props.margin.right)\n      .attr('height', height + this.props.margin.top + this.props.margin.bottom)\n      .attr('z', 100)\n      .append('g')\n      .attr(\n        'transform',\n        'translate(' +\n          this.props.margin.left +\n          ',' +\n          this.props.margin.top +\n          ')'\n      );\n    // Tooltip\n    const tooltip = new Tooltip({\n      svg: '#' + this.props.id,\n      colors,\n    });\n    const { data: unformattedData } = this.props;\n    const parseTime = d3.timeParse('%Y-%m-%d');\n\n    const data = unformattedData.reduce(\n      (formatted, { created_date, successful_count, failed_count }) => {\n        let DATE = parseTime(created_date) || new Date();\n        let RAN = +successful_count || 0;\n        let FAIL = +failed_count || 0;\n        let TOTAL = +successful_count + failed_count || 0;\n        return formatted.concat({ DATE, RAN, FAIL, TOTAL });\n      },\n      []\n    );\n    // Scale the range of the data\n    x.domain(\n      d3.extent(data, function (d) {\n        return d.DATE;\n      })\n    );\n    y.domain([\n      0,\n      d3.max(data, function (d) {\n        return d.TOTAL * 1.15 || 8;\n      }),\n    ]);\n\n    const successLine = d3\n      .line()\n      .curve(d3.curveMonotoneX)\n      .x(function (d) {\n        return x(d.DATE);\n      })\n      .y(function (d) {\n        return y(d.RAN);\n      });\n\n    const failLine = d3\n      .line()\n      .defined((d) => !isNaN(d.FAIL))\n      .curve(d3.curveMonotoneX)\n      .x(function (d) {\n        return x(d.DATE);\n      })\n      .y(function (d) {\n        return y(d.FAIL);\n      });\n    // Add the Y Axis\n    svg\n      .append('g')\n      .attr('class', 'y-axis')\n      .call(d3.axisLeft(y).ticks(10).tickSize(-width))\n      .selectAll('line')\n      .attr('stroke', '#d7d7d7');\n    svg.selectAll('.y-axis .tick text').attr('x', -5);\n\n    // text label for the y axis\n    svg\n      .append('text')\n      .attr('transform', 'rotate(-90)')\n      .attr('y', 0 - this.props.margin.left)\n      .attr('x', 0 - height / 2)\n      .attr('dy', '1em')\n      .style('text-anchor', 'middle')\n      .text('Job runs');\n    // Add the X Axis\n    let ticks;\n    const maxTicks = Math.round(data.length / (data.length / 2));\n    ticks = data.map((d) => d.DATE);\n    if (data.length > 14) {\n      ticks = data\n        .map((d, i) => (i % maxTicks === 0 ? d.DATE : undefined))\n        .filter((item) => item);\n    }\n\n    svg\n      .append('g')\n      .attr('class', 'x-axis')\n      .attr('transform', 'translate(0,' + height + ')')\n      .call(\n        d3\n          .axisBottom(x)\n          .tickValues(ticks)\n          .tickSize(-height)\n          .tickFormat(d3.timeFormat('%-m/%-d')) // \"1/19\"\n      ) // \"Jan-01\"\n      .selectAll('line')\n      .attr('stroke', '#d7d7d7');\n    svg.selectAll('.x-axis .tick text').attr('y', 10);\n\n    // text label for the x axis\n    svg\n      .append('text')\n      .attr(\n        'transform',\n        'translate(' +\n          width / 2 +\n          ' ,' +\n          (height + this.props.margin.top + 20) +\n          ')'\n      )\n      .style('text-anchor', 'middle')\n      .text('Date');\n    const vertical = svg\n      .append('path')\n      .attr('class', 'mouse-line')\n      .style('stroke', 'black')\n      .style('stroke-width', '3px')\n      .style('stroke-dasharray', '3, 3')\n      .style('opacity', '0');\n\n    const handleMouseOver = function (d) {\n      tooltip.handleMouseOver(d);\n      // show vertical line\n      vertical.transition().style('opacity', '1');\n    };\n\n    const handleMouseMove = function () {\n      let intersectX = this.cx.baseVal.value;\n      vertical.attr('d', function () {\n        let d = 'M' + intersectX + ',' + height;\n        d += ' ' + intersectX + ',' + 0;\n        return d;\n      });\n    };\n\n    const handleMouseOut = function () {\n      // hide tooltip\n      tooltip.handleMouseOut();\n      // hide vertical line\n      vertical.transition().style('opacity', 0);\n    };\n\n    // Add the successLine path.\n    svg\n      .append('path')\n      .data([data])\n      .attr('class', 'line')\n      .style('fill', 'none')\n      .style('stroke', () => colors(1))\n      .attr('stroke-width', 2)\n      .attr('d', successLine)\n      .call(transition);\n\n    // Add the failLine path.\n    svg\n      .append('path')\n      .data([data])\n      .attr('class', 'line')\n      .style('fill', 'none')\n      .style('stroke', () => colors(0))\n      .attr('stroke-width', 2)\n      .attr('d', failLine)\n      .call(transition);\n    svg\n      .selectAll('dot')\n      .data(data)\n      .enter()\n      .append('circle')\n      .attr('r', 3)\n      .style('stroke', () => colors(1))\n      .style('fill', () => colors(1))\n      .attr('cx', function (d) {\n        return x(d.DATE);\n      })\n      .attr('cy', function (d) {\n        return y(d.RAN);\n      })\n\n      .on('mouseover', handleMouseOver)\n      .on('mousemove', handleMouseMove)\n      .on('mouseout', handleMouseOut)\n      .on('click', this.redirectToJobExplorer);\n    // create our failLine circles\n    svg\n      .selectAll('dot')\n      .data(data)\n      .enter()\n      .append('circle')\n      .attr('r', 3)\n      .style('stroke', () => colors(0))\n      .style('fill', () => colors(0))\n      .attr('cx', function (d) {\n        return x(d.DATE);\n      })\n      .attr('cy', function (d) {\n        return y(d.FAIL);\n      })\n      .on('mouseover', handleMouseOver)\n      .on('mousemove', handleMouseMove)\n      .on('mouseout', handleMouseOut)\n      .on('click', this.redirectToJobExplorer);\n  }\n\n  componentDidMount() {\n    this.updateCluster();\n    // Call the resize function whenever a resize event occurs\n    window.addEventListener('resize', this.resize);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.data !== this.props.data) {\n      this.updateCluster();\n    }\n  }\n\n  componentWillUnmount() {\n    const { timeout } = this.state;\n    clearTimeout(timeout);\n    window.removeEventListener('resize', this.resize);\n  }\n\n  render() {\n    return <div id={this.props.id} />;\n  }\n}\n\nLineChart.propTypes = {\n  id: PropTypes.string,\n  queryParams: PropTypes.object,\n  data: PropTypes.array,\n  margin: PropTypes.object,\n  getHeight: PropTypes.func,\n  getWidth: PropTypes.func,\n  history: PropTypes.object,\n};\n\nexport default initializeChart(LineChart);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { trimStr } from '../Utilities/helpers';\nimport styled from 'styled-components';\nimport LoadingState from '../Components/LoadingState';\nimport NoData from '../Components/NoData';\n\nimport {\n  DataList,\n  DataListItem as PFDataListItem,\n  DataListCell as PFDataListCell,\n} from '@patternfly/react-core';\n\nconst DataListCell = styled(PFDataListCell)`\n  --pf-c-data-list__cell-cell--MarginRight: 0;\n`;\n\nconst DataListItem = styled(PFDataListItem)`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  padding: 0 15px 10px 15px;\n`;\n\nconst DataCellEnd = styled(DataListCell)`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n`;\n\nconst ModulesList = ({ modules, isLoading }) => (\n  <DataList\n    aria-label=\"Top Modules\"\n    style={{\n      maxHeight: '400px',\n      overflow: 'auto',\n      height: '400px',\n      background: 'white',\n    }}\n  >\n    <DataListItem aria-labelledby=\"top-modules-header\">\n      <DataListCell>\n        <h3>Top modules</h3>\n      </DataListCell>\n      <DataCellEnd>\n        <h3>Usage</h3>\n      </DataCellEnd>\n    </DataListItem>\n    {isLoading && (\n      <PFDataListItem\n        aria-labelledby=\"modules-loading\"\n        key={isLoading}\n        style={{ border: 'none' }}\n      >\n        <PFDataListCell>\n          <LoadingState />\n        </PFDataListCell>\n      </PFDataListItem>\n    )}\n    {!isLoading && modules.length <= 0 && (\n      <PFDataListItem\n        aria-labelledby=\"modules-no-data\"\n        key={isLoading}\n        style={{ border: 'none' }}\n      >\n        <PFDataListCell>\n          <NoData />\n        </PFDataListCell>\n      </PFDataListItem>\n    )}\n    {!isLoading &&\n      modules\n        .filter((module) => module.name !== null)\n        .map(({ name, host_task_count }, index) => (\n          <DataListItem aria-labelledby=\"top-modules-detail\" key={index}>\n            <DataListCell>\n              <span>{trimStr(name)}</span>\n            </DataListCell>\n            <DataCellEnd>{host_task_count}</DataCellEnd>\n          </DataListItem>\n        ))}\n  </DataList>\n);\n\nModulesList.propTypes = {\n  modules: PropTypes.array,\n  isLoading: PropTypes.bool,\n};\n\nexport default ModulesList;\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport LoadingState from '../Components/LoadingState';\nimport ApiErrorState from '../Components/ApiErrorState';\nimport NoResults from './NoResults';\nimport Breakdown from '../Components/Breakdown';\nimport JobStatus from '../Components/JobStatus';\nimport { Paths } from '../paths';\nimport { stringify } from 'query-string';\nimport {\n  formatDateTime,\n  formatJobType,\n  formatTotalTime,\n} from '../Utilities/helpers';\nimport { readJobExplorer } from '../Api';\n\nimport { Button, Modal, ModalVariant } from '@patternfly/react-core';\nimport {\n  global_palette_blue_300,\n  global_palette_green_200,\n  global_palette_red_100,\n  global_palette_black_850,\n  global_palette_orange_300,\n  global_palette_purple_300,\n  global_palette_cyan_200,\n  global_palette_light_green_200,\n} from '@patternfly/react-tokens';\n\nimport {\n  DescriptionList,\n  DescriptionListTerm,\n  DescriptionListGroup,\n  DescriptionListDescription,\n  Divider,\n} from '@patternfly/react-core';\n\nimport {\n  TableComposable,\n  Thead,\n  Tbody,\n  Tr,\n  Th,\n  Td,\n} from '@patternfly/react-table';\nimport useRequest from '../Utilities/useRequest';\n\nconst ActionContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 2rem;\n`;\n\nconst formatTopFailedTask = (data) => {\n  if (!data) {\n    return;\n  }\n\n  if (data && data[0]) {\n    const percentage = Math.ceil(\n      (data[0].failed_count / data[0].total_failed_count) * 100\n    );\n    return `${data[0].task_name} ${percentage}%`;\n  }\n\n  return `Unavailable`;\n};\n\nconst formatSuccessRate = (successCount, totalCount) =>\n  Math.ceil((successCount / totalCount) * 100) + '%';\nconst formatAvgRun = (elapsed, totalCount) =>\n  new Date(Math.ceil(elapsed / totalCount) * 1000).toISOString().substr(11, 8);\n\nconst ModalContents = ({ selectedId, isOpen, handleModal, qp, jobType }) => {\n  const {\n    result: stats,\n    request: fetchStats,\n    ...statsApi\n  } = useRequest(\n    useCallback(() => readJobExplorer(agreggateTemplateParams), [selectedId]),\n    {}\n  );\n\n  const {\n    result: relatedJobs,\n    request: fetchJobs,\n    ...jobsApi\n  } = useRequest(\n    useCallback(() => readJobExplorer(relatedTemplateJobsParams), [selectedId]),\n    {}\n  );\n  let history = useHistory();\n\n  const redirectToJobExplorer = () => {\n    const { jobExplorer } = Paths;\n    const initialQueryParams = {\n      'job-explorer.template_id': selectedId,\n      'job-explorer.status': [\n        'successful',\n        'failed',\n        'new',\n        'pending',\n        'waiting',\n        'error',\n        'canceled',\n        'running',\n      ],\n      'job-explorer.job_type': [jobType],\n      'job-explorer.quick_date_range': 'last_30_days',\n    };\n\n    const search = stringify(initialQueryParams, { arrayFormat: 'bracket' });\n    history.push({\n      pathname: jobExplorer,\n      search,\n    });\n  };\n\n  const relatedTemplateJobsParams = {\n    ...qp,\n    template_id: [selectedId],\n    attributes: [\n      'id',\n      'status',\n      'job_type',\n      'started',\n      'finished',\n      'elapsed',\n      'created',\n      'cluster_name',\n      'org_name',\n    ],\n    group_by_time: false,\n    limit: 5,\n    sort_by: 'created:desc',\n    quick_date_range: qp.quick_date_range\n      ? qp.quick_date_range\n      : 'last_30_days',\n    job_type: [jobType],\n  };\n\n  const agreggateTemplateParams = {\n    group_by: 'template',\n    template_id: [selectedId],\n    attributes: [\n      'elapsed',\n      'job_type',\n      'successful_count',\n      'failed_count',\n      'error_count',\n      'waiting_count',\n      'pending_count',\n      'canceled_count',\n      'new_count',\n      'running_count',\n      'total_count',\n      jobType === 'job' ? 'most_failed_tasks' : 'most_failed_steps',\n    ],\n    status: qp.status,\n    quick_date_range: qp.quick_date_range\n      ? qp.quick_date_range\n      : 'last_30_days',\n    job_type: [jobType],\n  };\n\n  useEffect(() => {\n    fetchJobs();\n    fetchStats();\n  }, [selectedId]);\n\n  const tableCols = ['Id/Name', 'Status', 'Cluster', 'Finished', 'Total time'];\n  const statsData = (statsApi.isSuccess && stats?.items[0]) ?? null;\n  const categoryCount = statsData\n    ? {\n        success: statsData.successful_count,\n        cancelled: statsData.canceled_count,\n        error: statsData.error_count,\n        failed: statsData.failed_count,\n        new: statsData.new_count,\n        pending: statsData.pending_count,\n        running: statsData.running_count,\n        waiting: statsData.waiting_count,\n      }\n    : null;\n\n  const categoryColor = {\n    success: global_palette_green_200.value,\n    cancelled: global_palette_black_850.value,\n    error: global_palette_orange_300.value,\n    failed: global_palette_red_100.value,\n    new: global_palette_cyan_200.value,\n    pending: global_palette_purple_300.value,\n    running: global_palette_blue_300.value,\n    waiting: global_palette_light_green_200.value,\n  };\n\n  const descriptionStats = statsData && [\n    {\n      label: 'Number of runs',\n      id: 'total-runs',\n      value: statsData.total_count ?? 'Unavailable',\n    },\n    {\n      label: 'Total time',\n      id: 'total-time',\n      value: statsData.elapsed\n        ? formatTotalTime(statsData.elapsed)\n        : 'Unavailable',\n    },\n    {\n      label: 'Average time',\n      id: 'avg-time',\n      value: statsData.elapsed\n        ? formatAvgRun(statsData.elapsed, statsData.total_count)\n        : 'Unavailable',\n    },\n    {\n      label: 'Type',\n      id: 'type',\n      value: jobType ? formatJobType(jobType) : 'Unavailable',\n    },\n    {\n      label: 'Success rate',\n      id: 'success-rate',\n      value: !isNaN(statsData.successful_count)\n        ? formatSuccessRate(statsData.successful_count, statsData.total_count)\n        : 'Unavailable',\n    },\n    {\n      label: 'Most failed task',\n      id: 'most-failed',\n      value: statsData.most_failed_tasks\n        ? formatTopFailedTask(statsData.most_failed_tasks)\n        : 'Unavailable',\n    },\n  ];\n\n  const cleanup = () => {\n    handleModal(false);\n  };\n\n  return (\n    <Modal\n      aria-label=\"modal\"\n      variant={ModalVariant.medium}\n      title={\n        jobsApi.isSuccess &&\n        statsApi.isSuccess &&\n        stats?.items?.length > 0 &&\n        (stats?.items[0]?.name ?? 'No template name')\n      }\n      isOpen={isOpen}\n      onClose={cleanup}\n    >\n      {(statsApi.isLoading || jobsApi.isLoading) && <LoadingState />}\n      {(statsApi.error || jobsApi.error) && (\n        <ApiErrorState message={jobsApi.error.error} />\n      )}\n      {statsApi.isSuccess &&\n        jobsApi.isSuccess &&\n        relatedJobs?.items?.length <= 0 && <NoResults />}\n      {statsApi.isSuccess &&\n        jobsApi.isSuccess &&\n        relatedJobs?.items?.length > 0 && (\n          <>\n            {categoryCount && (\n              <Breakdown\n                categoryCount={categoryCount}\n                categoryColor={categoryColor}\n              />\n            )}\n\n            <DescriptionList isHorizontal columnModifier={{ lg: '3Col' }}>\n              {descriptionStats.map(({ label, id, value }) => (\n                <DescriptionListGroup className={id} key={label}>\n                  <DescriptionListTerm>{label}</DescriptionListTerm>\n                  <DescriptionListDescription>\n                    {value}\n                  </DescriptionListDescription>\n                </DescriptionListGroup>\n              ))}\n            </DescriptionList>\n\n            <Divider\n              component=\"div\"\n              style={{ marginTop: '2rem', marginBottom: '1.5rem' }}\n            />\n            <p>\n              <strong>Last 5 jobs</strong>\n            </p>\n\n            <TableComposable\n              aria-label=\"Template information table\"\n              variant=\"compact\"\n            >\n              <Thead>\n                <Tr>\n                  {tableCols.map((heading, idx) => (\n                    <Th key={idx}>{heading}</Th>\n                  ))}\n                </Tr>\n              </Thead>\n              <Tbody>\n                {relatedJobs.items.map((job, idx) => (\n                  <Tr key={`job-detail-${idx}`}>\n                    <Td>{`${job.id.id} - ${job.id.template_name}`}</Td>\n                    <Td>\n                      <JobStatus status={job.status} />\n                    </Td>\n                    <Td>{job.cluster_name}</Td>\n                    <Td>{formatDateTime(job.finished)}</Td>\n                    <Td>{formatTotalTime(job.elapsed)}</Td>\n                  </Tr>\n                ))}\n              </Tbody>\n            </TableComposable>\n          </>\n        )}\n\n      <ActionContainer>\n        <Button\n          key=\"cancel\"\n          variant=\"secondary\"\n          onClick={() => {\n            cleanup();\n          }}\n        >\n          Close\n        </Button>\n\n        <Button component=\"a\" onClick={redirectToJobExplorer} variant=\"link\">\n          View all jobs\n        </Button>\n      </ActionContainer>\n    </Modal>\n  );\n};\n\nModalContents.propTypes = {\n  selectedId: PropTypes.number.isRequired,\n  qp: PropTypes.object.isRequired,\n  jobType: PropTypes.string.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  handleModal: PropTypes.func.isRequired,\n};\n\nexport default ModalContents;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport LoadingState from '../Components/LoadingState';\nimport NoData from '../Components/NoData';\n\nimport {\n  DataList,\n  DataListItem as PFDataListItem,\n  DataListCell as PFDataListCell,\n} from '@patternfly/react-core';\n\nimport ModalContents from './ModalContents';\n\nconst DataListCell = styled(PFDataListCell)`\n  --pf-c-data-list__cell-cell--MarginRight: 0;\n`;\n\nconst DataListItem = styled(PFDataListItem)`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  padding: 0 15px 10px 15px;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst DataCellEnd = styled(DataListCell)`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n`;\n\nconst TemplatesList = ({ templates, isLoading, qp, title, jobType }) => {\n  const [selectedId, setSelectedId] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const displayJobType = (type) => {\n    return type === 'job' ? 'templates' : 'workflows';\n  };\n\n  return (\n    <>\n      <DataList\n        aria-label={`Top ${displayJobType(jobType)}`}\n        style={{\n          maxHeight: '400px',\n          overflow: 'auto',\n          height: '400px',\n          background: 'white',\n        }}\n      >\n        <DataListItem aria-labelledby={`top-${displayJobType(jobType)}-header`}>\n          <DataListCell>\n            <h3>{title}</h3>\n          </DataListCell>\n          <DataCellEnd>\n            <h3>Usage</h3>\n          </DataCellEnd>\n        </DataListItem>\n        {isLoading && (\n          <PFDataListItem\n            aria-labelledby={`${displayJobType(jobType)}-loading`}\n            key={isLoading}\n            style={{ border: 'none' }}\n          >\n            <PFDataListCell>\n              <LoadingState />\n            </PFDataListCell>\n          </PFDataListItem>\n        )}\n        {!isLoading && templates.length <= 0 && (\n          <PFDataListItem\n            aria-labelledby={`${displayJobType(jobType)}-no-data`}\n            key={isLoading}\n            style={{ border: 'none' }}\n          >\n            <PFDataListCell>\n              <NoData />\n            </PFDataListCell>\n          </PFDataListItem>\n        )}\n        {!isLoading &&\n          templates.map(({ name, total_count, id }, index) => (\n            <DataListItem\n              aria-labelledby={`top-${displayJobType(jobType)}-detail`}\n              key={index}\n            >\n              <DataListCell>\n                <a\n                  onClick={() => {\n                    setIsModalOpen(true);\n                    setSelectedId(id);\n                  }}\n                >\n                  {name}\n                </a>\n              </DataListCell>\n              <DataCellEnd>{total_count}</DataCellEnd>\n            </DataListItem>\n          ))}\n      </DataList>\n      {selectedId && (\n        <ModalContents\n          isOpen={isModalOpen}\n          handleModal={setIsModalOpen}\n          selectedId={selectedId}\n          qp={qp}\n          jobType={jobType}\n        />\n      )}\n    </>\n  );\n};\n\nTemplatesList.propTypes = {\n  templates: PropTypes.array,\n  isLoading: PropTypes.bool,\n  queryParams: PropTypes.object,\n  title: PropTypes.string,\n  qp: PropTypes.object,\n  jobType: PropTypes.string,\n};\n\nexport default TemplatesList;\n","import React, { useEffect, useCallback } from 'react';\n\nimport { useQueryParams } from '../../Utilities/useQueryParams';\n\nimport LoadingState from '../../Components/LoadingState';\nimport EmptyState from '../../Components/EmptyState';\nimport {\n  preflightRequest,\n  readClustersOptions,\n  readJobExplorer,\n  readEventExplorer,\n} from '../../Api/';\n\nimport { jobExplorer } from '../../Utilities/constants';\n\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\n\nimport {\n  Card,\n  CardBody,\n  CardTitle,\n  Grid,\n  GridItem,\n} from '@patternfly/react-core';\n\nimport BarChart from '../../Charts/BarChart';\nimport LineChart from '../../Charts/LineChart';\nimport ModulesList from '../../Components/ModulesList';\nimport TemplatesList from '../../Components/TemplatesList';\nimport FilterableToolbar from '../../Components/Toolbar';\nimport ApiErrorState from '../../Components/ApiErrorState';\n\nimport { clusters } from '../../Utilities/constants';\nimport useRequest from '../../Utilities/useRequest';\nimport { getQSConfig } from '../../Utilities/qs';\n\nconst initialTopTemplateParams = {\n  group_by: 'template',\n  limit: 10,\n  job_type: ['job'],\n  group_by_time: false,\n  status: ['successful', 'failed'],\n};\n\nconst initialTopWorkflowParams = {\n  group_by: 'template',\n  limit: 10,\n  job_type: ['workflowjob'],\n  group_by_time: false,\n  status: ['successful', 'failed'],\n};\n\nconst initialModuleParams = {\n  group_by: 'module',\n  sort_by: 'host_task_count:desc',\n  limit: 10,\n};\n\nconst initialOptionsParams = {\n  attributes: jobExplorer.attributes,\n};\n\n// takes json and returns\nconst qsConfig = getQSConfig('clusters', { ...clusters.defaultParams }, [\n  'limit',\n  'offset',\n]);\n\nconst Clusters = () => {\n  const { error: preflightError, request: setPreflight } = useRequest(\n    useCallback(() => preflightRequest(), [])\n  );\n\n  // params from toolbar/searchbar\n  const optionsQueryParams = useQueryParams(initialOptionsParams);\n  const { queryParams, setFromToolbar } = useQueryParams(qsConfig);\n  const {\n    result: options,\n    error,\n    request: fetchOptions,\n  } = useRequest(\n    useCallback(\n      () => readClustersOptions(optionsQueryParams),\n      [optionsQueryParams]\n    ),\n    {}\n  );\n\n  const {\n    result: chartData,\n    isLoading: chartDataIsLoading,\n    isSuccess: chartDataIsSuccess,\n    request: fetchChartData,\n  } = useRequest(\n    useCallback(async () => {\n      const chartData = await readJobExplorer(queryParams);\n      return chartData.items;\n    }, [queryParams]),\n    []\n  );\n\n  const {\n    result: modules,\n    isLoading: modulesIsLoading,\n    request: fetchModules,\n  } = useRequest(\n    useCallback(async () => {\n      const modules = await readEventExplorer(topModuleParams);\n      return modules.items;\n    }, [queryParams]),\n    []\n  );\n\n  const {\n    result: templates,\n    isLoading: templatesIsLoading,\n    request: fetchTemplates,\n  } = useRequest(\n    useCallback(async () => {\n      const templates = await readJobExplorer(topTemplatesParams);\n      return templates.items;\n    }, [queryParams]),\n    []\n  );\n\n  const {\n    result: workflows,\n    isLoading: workflowsIsLoading,\n    request: fetchWorkflows,\n  } = useRequest(\n    useCallback(async () => {\n      const workflows = await readJobExplorer(topWorkflowParams);\n      return workflows.items;\n    }, [queryParams]),\n    []\n  );\n\n  useEffect(() => {\n    setPreflight();\n    fetchOptions();\n    fetchChartData();\n    fetchModules();\n    fetchTemplates();\n    fetchWorkflows();\n  }, [queryParams]);\n\n  const {\n    cluster_id,\n    org_id,\n    template_id,\n    quick_date_range,\n    start_date,\n    end_date,\n  } = queryParams;\n\n  const topTemplatesParams = {\n    cluster_id,\n    org_id,\n    template_id,\n    quick_date_range,\n    start_date,\n    end_date,\n    ...initialTopTemplateParams,\n  };\n\n  const topWorkflowParams = {\n    cluster_id,\n    org_id,\n    template_id,\n    quick_date_range,\n    start_date,\n    end_date,\n    ...initialTopWorkflowParams,\n  };\n\n  const topModuleParams = {\n    cluster_id,\n    org_id,\n    template_id,\n    quick_date_range,\n    start_date,\n    end_date,\n    ...initialModuleParams,\n  };\n\n  if (preflightError) return <EmptyState preflightError={preflightError} />;\n\n  if (error) return <ApiErrorState message={error.error} />;\n\n  const renderContent = () => {\n    // Warning: we are not checking if ALL the api succeed\n    // this can cause an unsurfaced error when only some of them fails\n    return (\n      <Grid hasGutter>\n        <GridItem span={12}>\n          <Card>\n            <CardTitle>\n              <h2>Job status</h2>\n            </CardTitle>\n            <CardBody>\n              {chartDataIsLoading && <LoadingState />}\n              {(!queryParams.cluster_id ||\n                queryParams.cluster_id?.length <= 0) &&\n                chartDataIsSuccess && (\n                  <BarChart\n                    margin={{ top: 20, right: 20, bottom: 50, left: 70 }}\n                    id=\"d3-bar-chart-root\"\n                    data={chartData}\n                    queryParams={queryParams}\n                  />\n                )}\n              {queryParams.cluster_id?.length > 0 && chartDataIsSuccess && (\n                <LineChart\n                  margin={{ top: 20, right: 20, bottom: 50, left: 70 }}\n                  id=\"d3-line-chart-root\"\n                  data={chartData}\n                  queryParams={queryParams}\n                />\n              )}\n            </CardBody>\n          </Card>\n        </GridItem>\n        <GridItem span={4}>\n          <TemplatesList\n            qp={queryParams}\n            templates={workflows}\n            isLoading={workflowsIsLoading}\n            title={'Top workflows'}\n            jobType={'workflowjob'}\n          />\n        </GridItem>\n        <GridItem span={4}>\n          <TemplatesList\n            qp={queryParams}\n            templates={templates}\n            isLoading={templatesIsLoading}\n            title={'Top templates'}\n            jobType={'job'}\n          />\n        </GridItem>\n        <GridItem span={4}>\n          <ModulesList modules={modules} isLoading={modulesIsLoading} />\n        </GridItem>\n      </Grid>\n    );\n  };\n\n  return (\n    <>\n      <PageHeader>\n        <PageHeaderTitle title={'Clusters'} />\n        <FilterableToolbar\n          categories={options}\n          qsConfig={qsConfig}\n          filters={queryParams}\n          setFilters={setFromToolbar}\n        />\n      </PageHeader>\n      <Main>{renderContent()}</Main>\n    </>\n  );\n};\n\nexport default Clusters;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Tr, Td, ExpandableRowContent } from '@patternfly/react-table';\n\nimport { formatDateTime, formatJobType } from '../Utilities/helpers';\nimport JobStatus from './JobStatus';\nimport Breakdown from './Breakdown';\nimport {\n  global_palette_green_300,\n  global_palette_black_400,\n  global_palette_gold_300,\n  global_palette_red_100,\n  global_palette_blue_300,\n} from '@patternfly/react-tokens';\nimport {\n  DescriptionList,\n  DescriptionListGroup,\n  DescriptionListTerm,\n  DescriptionListDescription,\n  Flex,\n  FlexItem,\n  Grid,\n  GridItem,\n  Button,\n} from '@patternfly/react-core';\n\nconst categoryColor = {\n  ok: global_palette_green_300.value,\n  passed: global_palette_green_300.value,\n  unreachable: global_palette_black_400.value,\n  changed: global_palette_gold_300.value,\n  failed: global_palette_red_100.value,\n  skipped: global_palette_blue_300.value,\n};\n\nconst renderMoreButton = (showMore, setShowMore) => {\n  return (\n    <Flex className=\"pf-u-mb-md\">\n      <FlexItem align={{ default: 'alignRight' }}>\n        <Button\n          variant=\"secondary\"\n          onClick={() => {\n            setShowMore(!showMore);\n          }}\n          fullWidth={{ default: 'fullWidth' }}\n        >\n          {showMore ? 'Show less' : 'Show more'}\n        </Button>\n      </FlexItem>\n    </Flex>\n  );\n};\n\nconst renderFailedTaskBar = (failed_tasks) => {\n  const [showMore, setShowMore] = useState(false);\n\n  if (failed_tasks != null) {\n    return (\n      <>\n        <p>\n          <strong>Top failed tasks</strong>\n        </p>\n\n        <Grid hasGutter>\n          {failed_tasks\n            .slice(0, showMore ? failed_tasks.length : 2)\n            .map((task, idx) => {\n              const categoryCount = {\n                passed: task?.passed_host_count ?? 0,\n                failed: task?.failed_host_count ?? 0,\n                unreachable: task?.unreachable_host_count ?? 0,\n              };\n\n              return (\n                <GridItem lg={6} md={12} key={`most-failed-${idx}`}>\n                  <Flex>\n                    <FlexItem>\n                      <strong>Task name </strong> {task?.task_name}\n                    </FlexItem>\n\n                    <FlexItem align={{ default: 'alignRight' }}>\n                      <strong>Module name </strong> {task?.module_name}\n                    </FlexItem>\n                  </Flex>\n                  <Breakdown\n                    categoryCount={categoryCount}\n                    categoryColor={categoryColor}\n                    showPercent\n                  />\n                </GridItem>\n              );\n            })}\n        </Grid>\n\n        {failed_tasks.length > 2\n          ? renderMoreButton(showMore, setShowMore)\n          : null}\n      </>\n    );\n  }\n};\n\nconst JobExplorerListRow = ({ job }) => {\n  const [expanded, setExpanded] = useState(false);\n  const handleExpansion = () => {\n    setExpanded(!expanded);\n  };\n\n  const categoryCount = job\n    ? {\n        ok: job?.ok_host_count ?? 0,\n        skipped: job?.skipped_host_count ?? 0,\n        changed: job?.changed_host_count ?? 0,\n        failed: job?.failed_host_count ?? 0,\n        unreachable: job?.unreachable_host_count ?? 0,\n      }\n    : null;\n\n  const expandedInfo = [\n    {\n      label: 'Created',\n      value: job.created ? formatDateTime(job.created) : 'Unavailable',\n    },\n    {\n      label: 'Started',\n      value: job.created ? formatDateTime(job.started) : 'Unavailable',\n    },\n    {\n      label: 'Finished',\n      value: job.created ? formatDateTime(job.finished) : 'Unavailable',\n    },\n    {\n      label: 'Tasks',\n      value: job.host_task_count ?? 0,\n    },\n  ];\n\n  return (\n    <>\n      <Tr>\n        <Td\n          expand={{\n            rowIndex: job.id.id,\n            isExpanded: expanded,\n            onToggle: handleExpansion,\n          }}\n        />\n        <Td\n          href={job.id.tower_link}\n        >{`${job.id.id} - ${job.id.template_name}`}</Td>\n        <Td>\n          <JobStatus status={job?.status} />\n        </Td>\n        <Td>{job?.cluster_name}</Td>\n        <Td>{job?.org_name}</Td>\n        <Td>{formatJobType(job?.job_type)}</Td>\n      </Tr>\n      <Tr isExpanded={expanded}>\n        <Td colSpan={6}>\n          <ExpandableRowContent>\n            <Flex>\n              <FlexItem>\n                <strong>Host status</strong>\n              </FlexItem>\n              <FlexItem align={{ default: 'alignRight' }}>\n                <strong>Hosts</strong>\n                {'  '}\n                {job?.host_count ?? 0}\n              </FlexItem>\n            </Flex>\n            <Breakdown\n              categoryCount={categoryCount}\n              categoryColor={categoryColor}\n              showPercent\n            />\n            {renderFailedTaskBar(job.most_failed_tasks)}\n\n            <DescriptionList isHorizontal columnModifier={{ lg: '3Col' }}>\n              {expandedInfo.map(({ label, value }) => (\n                <DescriptionListGroup key={label}>\n                  <DescriptionListTerm>{label}</DescriptionListTerm>\n                  <DescriptionListDescription>\n                    {value}\n                  </DescriptionListDescription>\n                </DescriptionListGroup>\n              ))}\n            </DescriptionList>\n          </ExpandableRowContent>\n        </Td>\n      </Tr>\n    </>\n  );\n};\n\nJobExplorerListRow.propTypes = {\n  job: PropTypes.object.isRequired,\n};\n\nexport default JobExplorerListRow;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { TableComposable, Thead, Tbody, Tr, Th } from '@patternfly/react-table';\nimport JobExplorerListRow from './JobExplorerListRow';\n\nconst cols = ['Id/Name', 'Status', 'Cluster', 'Organization', 'Type'];\nconst sortableCols = ['Id/Name', 'Status', 'Type'];\n\nconst sortMap = {\n  0: 'id',\n  1: 'status',\n  4: 'job_type',\n};\n\nconst reverseSortMap = {\n  id: 0,\n  status: 1,\n  job_type: 4,\n};\n\nconst JobExplorerList = ({ jobs, queryParams, queryParamsDispatch }) => {\n  const [sortIdx, setSortIdx] = useState(-1);\n  const [sortDir, setSortDir] = useState('none');\n\n  useEffect(() => {\n    if (queryParams?.sort_options in reverseSortMap) {\n      setSortIdx(reverseSortMap[queryParams.sort_options]);\n      setSortDir(\n        queryParams?.sort_order &&\n          (queryParams.sort_order === 'desc' ||\n            queryParams.sort_order === 'asc')\n          ? queryParams.sort_order\n          : 'desc'\n      );\n    } else {\n      setSortIdx(-1);\n      setSortDir('none');\n    }\n  }, [queryParams]);\n\n  const onSort = (_event, idx, dir) => {\n    if (idx !== sortIdx) {\n      setSortIdx(idx);\n      queryParamsDispatch({\n        type: 'SET_SORT_OPTIONS',\n        value: { sort_options: sortMap[idx] },\n      });\n    }\n\n    if (dir !== sortDir) {\n      setSortDir(dir);\n      queryParamsDispatch({\n        type: 'SET_SORT_ORDER',\n        value: { sort_order: dir },\n      });\n    }\n  };\n\n  return (\n    <TableComposable aria-label=\"Job Explorer Table\" variant=\"compact\">\n      <Thead>\n        <Tr>\n          <Th />\n          {cols.map((head, idx) => {\n            const params = sortableCols.includes(head)\n              ? {\n                  sort: {\n                    sortBy: {\n                      index: sortIdx,\n                      direction: sortDir,\n                    },\n                    onSort,\n                    columnIndex: idx,\n                  },\n                }\n              : {};\n            return (\n              <Th key={`col-${idx}`} {...params}>\n                {head}\n              </Th>\n            );\n          })}\n        </Tr>\n      </Thead>\n      <Tbody>\n        {jobs.map((job) => (\n          <JobExplorerListRow job={job} key={job.id.id} />\n        ))}\n      </Tbody>\n    </TableComposable>\n  );\n};\n\nJobExplorerList.propTypes = {\n  jobs: PropTypes.array.isRequired,\n  queryParams: PropTypes.object.isRequired,\n  queryParamsDispatch: PropTypes.func.isRequired,\n};\n\nexport default JobExplorerList;\n","import React, { useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { useQueryParams } from '../../Utilities/useQueryParams';\nimport useRequest from '../../Utilities/useRequest';\n\nimport LoadingState from '../../Components/LoadingState';\nimport EmptyState from '../../Components/EmptyState';\nimport NoResults from '../../Components/NoResults';\nimport ApiErrorState from '../../Components/ApiErrorState';\nimport Pagination from '../../Components/Pagination';\n\nimport {\n  preflightRequest,\n  readJobExplorer,\n  readJobExplorerOptions,\n} from '../../Api/';\nimport { jobExplorer } from '../../Utilities/constants';\n\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\n\nimport { Card, CardBody, PaginationVariant } from '@patternfly/react-core';\n\nimport JobExplorerList from '../../Components/JobExplorerList';\nimport FilterableToolbar from '../../Components/Toolbar/';\nimport { getQSConfig } from '../../Utilities/qs';\n\nconst initialQueryParams = {\n  ...jobExplorer.defaultParams,\n  attributes: jobExplorer.attributes,\n};\nconst qsConfig = getQSConfig('job-explorer', { ...initialQueryParams }, [\n  'limit',\n  'offset',\n]);\n\nconst JobExplorer = () => {\n  const { error: preflightError, request: setPreflight } = useRequest(\n    useCallback(() => preflightRequest(), [])\n  );\n\n  const {\n    queryParams,\n    setFromPagination,\n    setFromToolbar,\n    dispatch: queryParamsDispatch,\n  } = useQueryParams(qsConfig);\n\n  const {\n    result: options,\n    error,\n    request: fetchOptions,\n  } = useRequest(\n    useCallback(() => readJobExplorerOptions(queryParams), [queryParams]),\n    {}\n  );\n\n  const {\n    result: { items: data, meta },\n    isLoading: dataIsLoading,\n    isSuccess: dataIsSuccess,\n    request: fetchEndpoints,\n  } = useRequest(\n    useCallback(() => readJobExplorer(queryParams), [queryParams]),\n    { items: [], meta: {} }\n  );\n\n  useEffect(() => {\n    insights.chrome.appNavClick({ id: 'job-explorer', secondaryNav: true });\n    setPreflight();\n  }, []);\n\n  useEffect(() => {\n    fetchOptions();\n    fetchEndpoints();\n  }, [queryParams]);\n\n  if (preflightError) return <EmptyState preflightError={preflightError} />;\n  if (error) return <ApiErrorState message={error.error} />;\n\n  return (\n    <React.Fragment>\n      <PageHeader>\n        <PageHeaderTitle title={'Job Explorer'} />\n      </PageHeader>\n\n      {!preflightError && (\n        <Main>\n          <Card>\n            <CardBody>\n              <FilterableToolbar\n                categories={options}\n                filters={queryParams}\n                qsConfig={qsConfig}\n                setFilters={setFromToolbar}\n                pagination={\n                  <Pagination\n                    count={meta?.count}\n                    params={{\n                      limit: parseInt(queryParams.limit),\n                      offset: parseInt(queryParams.offset),\n                    }}\n                    qsConfig={qsConfig}\n                    setPagination={setFromPagination}\n                    isCompact\n                  />\n                }\n                hasSettings\n              />\n              {dataIsLoading && <LoadingState />}\n              {dataIsSuccess && data.length <= 0 && <NoResults />}\n              {dataIsSuccess && data.length > 0 && (\n                <JobExplorerList\n                  jobs={data}\n                  queryParams={queryParams}\n                  queryParamsDispatch={queryParamsDispatch}\n                />\n              )}\n              <Pagination\n                count={meta?.count}\n                params={{\n                  limit: parseInt(queryParams.limit),\n                  offset: parseInt(queryParams.offset),\n                }}\n                qsConfig={qsConfig}\n                setPagination={setFromPagination}\n                variant={PaginationVariant.bottom}\n              />\n            </CardBody>\n          </Card>\n        </Main>\n      )}\n    </React.Fragment>\n  );\n};\n\nJobExplorer.propTypes = {\n  location: PropTypes.object,\n  history: PropTypes.object,\n};\n\nexport default JobExplorer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport moment from 'moment';\n\nimport {\n  NotificationDrawerList as PFNotificationDrawerList,\n  NotificationDrawerListItem as PFNotificationDrawerListItem,\n  NotificationDrawerListItemBody,\n  NotificationDrawerListItemHeader,\n} from '@patternfly/react-core';\n\nimport { ExternalLinkAltIcon as PFExternalLinkAltIcon } from '@patternfly/react-icons';\nimport LoadingState from '../Components/LoadingState';\nimport { capitalize } from '../Utilities/helpers';\n\nconst ExternalLinkAltIcon = styled(PFExternalLinkAltIcon)`\n  margin-left: 7px;\n  color: var(--pf-global--Color--400);\n  font-size: 14px;\n`;\n\nconst NotificationDrawerListItem = styled(PFNotificationDrawerListItem)`\n  border-top: 1px solid var(--pf-global--BorderColor--light-100\n    );\n  border-bottom::nth-child(odd): 1px solid var(--pf-global--BorderColor--light-100\n    );\n  box-shadow: none;\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst NotificationDrawerList = styled(PFNotificationDrawerList)`\n  &:last-child {\n    border-bottom: 1px solid var(--pf-global--BorderColor--light-100);\n  }\n`;\n\nconst stringifyDate = (date) => {\n  const day = moment(date);\n  const oneHour = 60 * 60 * 1000;\n  const now = moment().utc();\n\n  if (now.isAfter(day)) {\n    return `${now.diff(day, 'days')} day(s) ago.`;\n  }\n\n  if (day.isSame(now, 'day')) {\n    if (day.valueOf() > oneHour) {\n      return `${day.diff(now, 'hours')} hour(s) ago.`;\n    }\n\n    return `${now.diff(day, 'minutes')} minute(s) ago.`;\n  }\n};\n\nconst AllNotificationTemplate = ({ notifications }) =>\n  notifications.map(\n    ({ date, message, label, notification_id: id, tower_url: url }) => {\n      if (label === '' || label === 'notice') {\n        return (\n          <NotificationDrawerListItem variant=\"info\" key={date + '-' + id}>\n            <NotificationDrawerListItemHeader\n              variant=\"info\"\n              title={\n                <>\n                  {url ? (\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href={url}>\n                      {capitalize(label)}\n                      <ExternalLinkAltIcon />\n                    </a>\n                  ) : (\n                    capitalize(label)\n                  )}\n                </>\n              }\n            />\n            <NotificationDrawerListItemBody>\n              {message}{' '}\n            </NotificationDrawerListItemBody>\n          </NotificationDrawerListItem>\n        );\n      }\n\n      if (label === 'error') {\n        return (\n          <NotificationDrawerListItem variant=\"danger\" key={date + '-' + id}>\n            <NotificationDrawerListItemHeader\n              variant=\"danger\"\n              title={\n                <>\n                  {url ? (\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href={url}>\n                      {capitalize(label)}\n                      <ExternalLinkAltIcon />\n                    </a>\n                  ) : (\n                    capitalize(label)\n                  )}\n                </>\n              }\n            />\n            <NotificationDrawerListItemBody timestamp={stringifyDate(date)}>\n              {message}{' '}\n            </NotificationDrawerListItemBody>\n          </NotificationDrawerListItem>\n        );\n      }\n\n      if (label === 'warning') {\n        return (\n          <NotificationDrawerListItem variant=\"warning\" key={date + '-' + id}>\n            <NotificationDrawerListItemHeader\n              variant=\"warning\"\n              title={\n                <>\n                  {url ? (\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href={url}>\n                      {capitalize(label)}\n                      <ExternalLinkAltIcon />\n                    </a>\n                  ) : (\n                    capitalize(label)\n                  )}\n                </>\n              }\n            />\n            <NotificationDrawerListItemBody timestamp={stringifyDate(date)}>\n              {message}{' '}\n            </NotificationDrawerListItemBody>\n          </NotificationDrawerListItem>\n        );\n      }\n    }\n  );\n\nconst ErrorNotificationTemplate = ({ notifications }) =>\n  notifications\n    .filter((notification) => notification.label === 'error')\n    .map(({ message, date, label, notification_id: id, tower_url: url }) => (\n      <NotificationDrawerListItem variant=\"danger\" key={date + '-' + id}>\n        <NotificationDrawerListItemHeader\n          variant=\"danger\"\n          title={\n            <>\n              {url ? (\n                <a target=\"_blank\" rel=\"noopener noreferrer\" href={url}>\n                  {capitalize(label)}\n                  <ExternalLinkAltIcon />\n                </a>\n              ) : (\n                capitalize(label)\n              )}\n            </>\n          }\n        />\n        <NotificationDrawerListItemBody timestamp={stringifyDate(date)}>\n          {message}{' '}\n        </NotificationDrawerListItemBody>\n      </NotificationDrawerListItem>\n    ));\n\nconst NoticeNotificationTemplate = ({ notifications }) =>\n  notifications\n    .filter((notification) => notification.label === 'notice')\n    .map(({ message, date, label, notification_id: id, tower_url: url }) => (\n      <NotificationDrawerListItem variant=\"info\" key={date + '-' + id}>\n        <NotificationDrawerListItemHeader\n          variant=\"info\"\n          title={\n            <>\n              {url ? (\n                <a target=\"_blank\" rel=\"noopener noreferrer\" href={url}>\n                  {capitalize(label)}\n                  <ExternalLinkAltIcon />\n                </a>\n              ) : (\n                capitalize(label)\n              )}\n            </>\n          }\n        />\n        <NotificationDrawerListItemBody timestamp={stringifyDate(date)}>\n          {message}{' '}\n        </NotificationDrawerListItemBody>\n      </NotificationDrawerListItem>\n    ));\n\nconst WarningNotificationTemplate = ({ notifications }) =>\n  notifications\n    .filter((notification) => notification.label === 'warning')\n    .map(({ message, date, label, notification_id: id, tower_url: url }) => (\n      <NotificationDrawerListItem variant=\"warning\" key={date + '-' + id}>\n        <NotificationDrawerListItemHeader\n          variant=\"warning\"\n          title={\n            <>\n              {url ? (\n                <a target=\"_blank\" rel=\"noopener noreferrer\" href={url}>\n                  {capitalize(label)}\n                  <ExternalLinkAltIcon />\n                </a>\n              ) : (\n                capitalize(label)\n              )}\n            </>\n          }\n        />\n        <NotificationDrawerListItemBody timestamp={stringifyDate(date)}>\n          {message}{' '}\n        </NotificationDrawerListItemBody>\n      </NotificationDrawerListItem>\n    ));\n\nconst NotificationsList = ({ filterBy, notifications }) => (\n  <>\n    <NotificationDrawerList>\n      {notifications.length <= 0 && <LoadingState />}\n      {filterBy === '' && (\n        <AllNotificationTemplate notifications={notifications} />\n      )}\n      {filterBy === 'notice' && (\n        <NoticeNotificationTemplate notifications={notifications} />\n      )}\n      {filterBy === 'error' && (\n        <ErrorNotificationTemplate notifications={notifications} />\n      )}\n      {filterBy === 'warning' && (\n        <WarningNotificationTemplate notifications={notifications} />\n      )}\n    </NotificationDrawerList>\n  </>\n);\n\nAllNotificationTemplate.propTypes = {\n  notifications: PropTypes.array,\n};\n\nErrorNotificationTemplate.propTypes = {\n  notifications: PropTypes.array,\n};\n\nWarningNotificationTemplate.propTypes = {\n  notifications: PropTypes.array,\n};\n\nNotificationsList.propTypes = {\n  notifications: PropTypes.array,\n  filterBy: PropTypes.string,\n};\n\nexport default NotificationsList;\n","import React, { useState, useEffect } from 'react';\n\nimport { useQueryParams } from '../../Utilities/useQueryParams';\n\nimport styled from 'styled-components';\nimport LoadingState from '../../Components/LoadingState';\nimport EmptyState from '../../Components/EmptyState';\nimport NoData from '../../Components/NoData';\nimport { preflightRequest, readClusters, readNotifications } from '../../Api/';\n\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\n\nimport {\n  Card,\n  CardBody,\n  CardTitle as PFCardTitle,\n  FormSelect,\n  FormSelectOption,\n  PaginationVariant,\n  NotificationDrawer,\n} from '@patternfly/react-core';\n\nimport NotificationsList from '../../Components/NotificationsList';\nimport Pagination from '../../Components/Pagination';\nimport { getQSConfig } from '../../Utilities/qs';\n\nconst CardTitle = styled(PFCardTitle)`\n  display: flex;\n  justify-content: space-between;\n\n  @media screen and (max-width: 1035px) {\n    display: block;\n  }\n`;\n\nconst DropdownGroup = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n\n  @media screen and (max-width: 1035px) {\n    display: block;\n  }\n\n  select {\n    margin: 0 10px;\n    width: 150px;\n\n    @media screen and (max-width: 1035px) {\n      margin: 10px 10px 0 0;\n    }\n\n    @media screen and (max-width: 865px) {\n      width: 100%;\n    }\n  }\n`;\n\nconst notificationOptions = [\n  {\n    value: 'please choose',\n    label: 'Select Notification Severity',\n    disabled: true,\n  },\n  { value: 'error', label: 'View Critical', disabled: false },\n  { value: 'warning', label: 'View Warning', disabled: false },\n  { value: 'notice', label: 'View Notice', disabled: false },\n  { value: '', label: 'View All', disabled: false },\n];\n\nfunction formatClusterName(data) {\n  const defaultClusterOptions = [\n    { value: 'please choose', label: 'Select cluster', disabled: true },\n    { value: '', label: 'All Clusters', disabled: false },\n    { value: -1, label: 'Unassociated', disabled: false },\n  ];\n  return data.reduce(\n    (formatted, { label, cluster_id: id, install_uuid: uuid }) => {\n      if (label.length === 0) {\n        formatted.push({ value: id, label: uuid, disabled: false });\n      } else {\n        formatted.push({ value: id, label, disabled: false });\n      }\n\n      return formatted;\n    },\n    defaultClusterOptions\n  );\n}\n\nconst initialQueryParams = {\n  defaultParams: {\n    limit: 5,\n    offset: 0,\n  },\n};\n\n// takes json and returns\nconst qsConfig = getQSConfig(\n  'notifications',\n  { ...initialQueryParams.defaultParams },\n  ['limit', 'offset']\n);\n\nconst Notifications = () => {\n  const [preflightError, setPreFlightError] = useState(null);\n  const [notificationsData, setNotificationsData] = useState([]);\n  const [clusterOptions, setClusterOptions] = useState([]);\n  const [selectedCluster, setSelectedCluster] = useState('');\n  const [firstRender, setFirstRender] = useState(true);\n  const [isLoading, setIsLoading] = useState(true);\n  const [meta, setMeta] = useState({});\n\n  // params from toolbar/searchbar\n  const { queryParams, setId, setFromPagination, setSeverity } =\n    useQueryParams(qsConfig);\n\n  useEffect(() => {\n    if (firstRender) {\n      return;\n    }\n\n    const getData = () => {\n      return readNotifications(queryParams);\n    };\n\n    const update = () => {\n      setIsLoading(true);\n      getData().then(({ notifications: notificationsData = [], meta }) => {\n        setNotificationsData(notificationsData);\n        setMeta(meta);\n        setIsLoading(false);\n      });\n    };\n\n    update();\n  }, [queryParams]);\n\n  useEffect(() => {\n    insights.chrome.appNavClick({ id: 'notifications', secondaryNav: true });\n\n    let ignore = false;\n    const fetchEndpoints = () => {\n      return Promise.all(\n        [readClusters(), readNotifications(queryParams)].map((p) =>\n          p.catch(() => [])\n        )\n      );\n    };\n\n    async function initializeWithPreflight() {\n      setIsLoading(true);\n      await preflightRequest().catch((error) => {\n        setPreFlightError(error);\n      });\n      fetchEndpoints().then(\n        ([\n          { templates: clustersData = [] },\n          { notifications: notificationsData = [], meta },\n        ]) => {\n          if (!ignore) {\n            const clusterOptions = formatClusterName(clustersData);\n            setClusterOptions(clusterOptions);\n            setNotificationsData(notificationsData);\n            setMeta(meta);\n            setFirstRender(false);\n            setIsLoading(false);\n          }\n        }\n      );\n    }\n\n    initializeWithPreflight();\n    return () => (ignore = true);\n  }, [queryParams]);\n\n  if (preflightError) return <EmptyState preflightError={preflightError} />;\n\n  return (\n    <React.Fragment>\n      <PageHeader>\n        <PageHeaderTitle title={'Notifications'} />\n      </PageHeader>\n      <>\n        <Main>\n          <Card>\n            <CardTitle>\n              <DropdownGroup>\n                <FormSelect\n                  name=\"selectedCluster\"\n                  value={selectedCluster}\n                  onChange={(value) => {\n                    setSelectedCluster(value);\n                    setId(value);\n                    setFromPagination(0);\n                  }}\n                  aria-label=\"Select Cluster\"\n                >\n                  {clusterOptions.map(({ value, label, disabled }, index) => (\n                    <FormSelectOption\n                      isDisabled={disabled}\n                      key={index}\n                      value={value}\n                      label={label}\n                    />\n                  ))}\n                </FormSelect>\n                <FormSelect\n                  name=\"selectedNotification\"\n                  value={queryParams.severity || ''}\n                  onChange={(value) => {\n                    setSeverity(value);\n                    setFromPagination(0);\n                  }}\n                  aria-label=\"Select Notification Type\"\n                >\n                  {notificationOptions.map(\n                    ({ disabled, value, label }, index) => (\n                      <FormSelectOption\n                        isDisabled={disabled}\n                        key={index}\n                        value={value}\n                        label={label}\n                      />\n                    )\n                  )}\n                </FormSelect>\n              </DropdownGroup>\n              <Pagination\n                count={meta?.count}\n                qsConfig={qsConfig}\n                params={{\n                  limit: queryParams.limit,\n                  offset: queryParams.offset,\n                }}\n                setPagination={setFromPagination}\n                isCompact\n              />\n            </CardTitle>\n            <CardBody>\n              {isLoading && <LoadingState />}\n              {!isLoading && notificationsData.length <= 0 && <NoData />}\n              {!isLoading && notificationsData.length > 0 && (\n                <NotificationDrawer>\n                  <NotificationsList\n                    filterBy={queryParams.severity || ''}\n                    options={notificationOptions}\n                    notifications={notificationsData}\n                  />\n                </NotificationDrawer>\n              )}\n              <Pagination\n                count={meta?.count}\n                qsConfig={qsConfig}\n                params={{\n                  limit: queryParams.limit,\n                  offset: queryParams.offset,\n                }}\n                setPagination={setFromPagination}\n                variant={PaginationVariant.bottom}\n              />\n            </CardBody>\n          </Card>\n        </Main>\n      </>\n    </React.Fragment>\n  );\n};\n\nexport default Notifications;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Switch } from '@patternfly/react-core';\n\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  margin-top: 20px;\n  margin-bottom: 20px;\n  overflow: auto;\n  width: 100%;\n  height: ${(props) => props.height};\n`;\n\nconst LegendDetail = styled.div`\n  display: flex;\n  padding: 7.5px 15px;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  overflow: auto;\n`;\n\nconst Color = styled.div.attrs((props) => ({\n  color: props.color || 'black',\n}))`\n  min-width: 12px;\n  height: 12px;\n  background: ${(props) => props.color};\n  margin-right: 20px;\n`;\n\nconst Title = styled.span`\n  font-size: 15px;\n  display: inline-block;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: left;\n`;\n\nconst SubTitle = styled.span`\n  font-size: 15px;\n  margin-left: auto;\n  margin-right: 0;\n  padding-right: 10px;\n`;\n\nconst Legend = ({ data, selected, height, onToggle, chartName }) => {\n  return (\n    <Container height={height}>\n      {data.map(({ name, value, id, count }, index) => (\n        <LegendDetail key={index}>\n          <Wrapper>\n            <Color color={value} />\n            <Title>{name}</Title>\n          </Wrapper>\n          {count && <SubTitle>{count}</SubTitle>}\n          {selected && (\n            <Switch\n              isChecked={selected.some((selection) => selection === id)}\n              onChange={() => onToggle(id)}\n              aria-label={`${chartName}-${name}`}\n              value={id}\n              key={index}\n            />\n          )}\n        </LegendDetail>\n      ))}\n    </Container>\n  );\n};\n\nLegend.propTypes = {\n  data: PropTypes.array.isRequired,\n  selected: PropTypes.array.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  height: PropTypes.string.isRequired,\n  chartName: PropTypes.string.isRequired,\n};\n\nexport default Legend;\n","import PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport styled from 'styled-components';\n\nimport initializeChart from '.././BaseChart';\nimport Legend from '../../Utilities/Legend';\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: nowrap;\n  flex-shrink: 0;\n`;\n\nconst formatDate = (date) => {\n  const pieces = date.split('-');\n  return `${pieces[1]}/${pieces[2]}`;\n};\n\nconst GroupedBarChart = ({\n  onClick = null,\n  TooltipClass,\n  legend,\n  ...props\n}) => {\n  const colors = legend.map(({ id, name }) => {\n    return {\n      name,\n      value: props.colorFunc(id),\n      id,\n    };\n  });\n  const [selectedIds, setSelectedIds] = useState(\n    legend.map(({ id }) => id).slice(0, 8)\n  );\n  let timeout = null;\n\n  const handleToggle = (id) => {\n    if (selectedIds.includes(id)) {\n      setSelectedIds(selectedIds.filter((el) => el !== id));\n    } else {\n      setSelectedIds([...selectedIds, id]);\n    }\n  };\n\n  const draw = () => {\n    // Clear our chart container element first\n    d3.selectAll('#' + props.id + ' > *').remove();\n    let { data: unformattedData } = props;\n    const data = unformattedData.reduce((formatted, { date, items }) => {\n      const selectedOrgs = items.filter(({ id }) => selectedIds.includes(id));\n      return formatted.concat({ date, selectedOrgs });\n    }, []);\n    const width = props.getWidth();\n    const height = props.getHeight();\n    // x scale of entire chart\n    const x0 = d3.scaleBand().range([0, width]).padding(0.35);\n    // x scale of individual grouped bars\n    const x1 = d3.scaleBand();\n    const y = d3.scaleLinear().range([height, 0]);\n    // format our X Axis ticks\n    const maxTicksOneMonth = Math.round(data.length / (data.length / 2));\n    const maxTicksTwoMonths = Math.round(data.length / (data.length / 4));\n    let ticks = data.map((d) => d.date);\n    if (data.length > 14) {\n      ticks = data\n        .map((d, i) =>\n          i % (data.length > 31 ? maxTicksTwoMonths : maxTicksOneMonth) === 0\n            ? d.date\n            : undefined\n        )\n        .filter((item) => item);\n    }\n\n    const xAxis = d3.axisBottom(x0).tickValues(ticks).tickFormat(formatDate);\n\n    const yAxis = d3.axisLeft(y).ticks(8).tickSize(-width, 0, 0);\n\n    const svg = d3\n      .select('#' + props.id)\n      .append('svg')\n      .attr('width', width + props.margin.left + props.margin.right)\n      .attr('height', height + props.margin.bottom + props.margin.top)\n      .append('g')\n      .attr(\n        'transform',\n        'translate(' + props.margin.left + ',' + props.margin.top + ')'\n      );\n\n    const dates = data.map((d) => d.date);\n    const tooltip = new TooltipClass({\n      svg: '#' + props.id,\n    });\n    x0.domain(dates);\n    x1.domain(selectedIds).range([0, x0.bandwidth()]);\n    y.domain([\n      0,\n      d3.max(data, (date) =>\n        d3.max(date.selectedOrgs, (d) => d.value * 1.15)\n      ) || 8,\n    ]);\n\n    // add y axis\n    svg\n      .append('g')\n      .attr('class', 'y axis')\n      .call(yAxis)\n      .selectAll('line')\n      .attr('stroke', '#d7d7d7')\n      .append('text')\n      .attr('transform', 'rotate(-90)')\n      .attr('y', 6)\n      .attr('dy', '.71em')\n      .style('text-anchor', 'end')\n      .style('font-weight', 'bold')\n      .text('Value');\n    svg\n      .append('text')\n      .attr('transform', 'rotate(-90)')\n      .attr('y', 0 - props.margin.left)\n      .attr('x', 0 - height / 2)\n      .attr('dy', '1em')\n      .style('text-anchor', 'middle')\n      .text(props.yLabel);\n\n    // add x axis\n    svg\n      .append('g')\n      .attr('class', 'x axis')\n      .attr('transform', 'translate(0,' + height + ')')\n      .call(xAxis)\n      .selectAll('line')\n      .attr('stroke', '#d7d7d7');\n    svg\n      .append('text')\n      .attr(\n        'transform',\n        'translate(' + width / 2 + ' ,' + (height + props.margin.top + 25) + ')'\n      )\n      .style('text-anchor', 'middle')\n      .text('Date');\n    // add the groups\n    let slice = svg.selectAll('.slice').data(data);\n    slice.exit().remove();\n\n    const enter = slice\n      .enter()\n      .append('g')\n      .attr('class', 'g foo')\n      .attr('transform', (d) => 'translate(' + x0(d.date) + ',0)');\n    slice = slice.merge(enter);\n    // add the individual bars\n    let bars = slice.selectAll('rect').data(function (d) {\n      return d.selectedOrgs;\n    });\n    bars.exit().remove();\n\n    const color = props.colorFunc;\n    const subEnter = bars\n      .enter()\n      .append('rect')\n      .attr('width', x1.bandwidth())\n      .attr('x', function (d) {\n        return x1(d.id);\n      }) // unsorted\n      .style('fill', function (d) {\n        return color(d.id);\n      })\n      .attr('y', function (d) {\n        return y(d.value);\n      })\n      .attr('height', function (d) {\n        return height - y(d.value);\n      })\n      .on('mouseover', function (d) {\n        d.moreDetail = !d.name.endsWith('Others');\n        d3.select(this).style(\n          'cursor',\n          onClick && d.moreDetail ? 'pointer' : 'default'\n        );\n        d3.select(this).style('fill', d3.rgb(color(d.id)).darker(1));\n        tooltip.handleMouseOver(d);\n      })\n      .on('mousemove', tooltip.handleMouseOver)\n      .on('mouseout', function (d) {\n        d3.select(this).style('fill', color(d.id));\n        tooltip.handleMouseOut();\n      })\n      .on('click', onClick);\n    bars = bars.merge(subEnter);\n  };\n\n  const init = () => {\n    draw();\n  };\n\n  const resize = () => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      draw();\n    }, 500);\n  };\n\n  useEffect(() => {\n    init();\n    window.addEventListener('resize', resize);\n\n    return () => {\n      clearTimeout(timeout);\n      window.removeEventListener('resize', resize);\n    };\n  }, []);\n\n  useEffect(() => {\n    draw();\n  }, [props.data, selectedIds]);\n\n  return (\n    <Wrapper>\n      <div id={props.id} />\n      {colors.length > 0 && (\n        <Legend\n          id={`${props.id}-legend`}\n          data={colors}\n          selected={selectedIds}\n          onToggle={handleToggle}\n          height=\"350px\"\n          chartName={`${props.id}-legend`}\n        />\n      )}\n    </Wrapper>\n  );\n};\n\nGroupedBarChart.propTypes = {\n  id: PropTypes.string,\n  data: PropTypes.array,\n  legend: PropTypes.array,\n  margin: PropTypes.object,\n  getHeight: PropTypes.func,\n  getWidth: PropTypes.func,\n  colorFunc: PropTypes.func,\n  yLabel: PropTypes.string,\n  onClick: PropTypes.func,\n  TooltipClass: PropTypes.any.isRequired,\n};\n\nGroupedBarChart.defaultProps = {\n  legend: [],\n};\n\nexport default initializeChart(GroupedBarChart);\n","import * as d3 from 'd3';\n\nconst formatDate = (date) => {\n  const pieces = date.split('-');\n  return `${pieces[1]}/${pieces[2]}`;\n};\n\nexport default class OrgsTooltip {\n  constructor(props) {\n    this.svg = props.svg;\n    this.draw();\n  }\n\n  draw() {\n    this.width = 125;\n    this.toolTipBase = d3.select(this.svg + '> svg').append('g');\n    this.toolTipBase.attr('id', 'svg-chart-Tooltip.base-' + this.svg.slice(1));\n    this.toolTipBase.attr('overflow', 'visible');\n    this.toolTipBase.style('opacity', 0);\n    this.toolTipBase.style('pointer-events', 'none');\n    this.toolTipBase.attr('transform', 'translate(100, 100)');\n    this.boxWidth = 125;\n\n    this.textWidthThreshold = 20;\n\n    this.toolTipPoint = this.toolTipBase\n      .append('rect')\n      .attr('transform', 'translate(10, -10) rotate(45)')\n      .attr('x', 0)\n      .attr('y', 0)\n      .attr('height', 20)\n      .attr('width', 20)\n      .attr('fill', '#393f44');\n    this.boundingBox = this.toolTipBase\n      .append('rect')\n      .attr('x', 10)\n      .attr('y', -12)\n      .attr('rx', 2)\n      .attr('height', 50)\n      .attr('width', this.boxWidth)\n      .attr('fill', '#393f44');\n    this.date = this.toolTipBase\n      .append('text')\n      .attr('x', 20)\n      .attr('y', 25)\n      .attr('font-size', 12)\n      .attr('fill', 'white')\n      .text('Date');\n    this.jobs = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('font-size', 12)\n      .attr('x', 72)\n      .attr('y', 25)\n      .text('0 Jobs');\n    this.orgName = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('font-weight', 800)\n      .attr('x', 20)\n      .attr('y', 10)\n      .attr('font-size', 12)\n      .text('Org');\n\n    this.clickMore = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('x', 20)\n      .attr('y', 30)\n      .attr('font-size', 12)\n      .text('');\n  }\n\n  handleMouseOver = (d) => {\n    let date;\n    let orgName;\n    let jobs;\n    const x =\n      d3.event.pageX -\n      d3.select(this.svg).node().getBoundingClientRect().x +\n      10;\n    const y =\n      d3.event.pageY -\n      d3.select(this.svg).node().getBoundingClientRect().y -\n      10;\n    if (!d) {\n      return;\n    } else {\n      const maxLength = 16;\n      date = d.date;\n      orgName = d.name;\n      jobs = d.value;\n      if (d.name.length > maxLength) {\n        orgName = d.name.slice(0, maxLength).concat('...');\n      }\n    }\n\n    let yAdjust = -11;\n\n    // Include 'Click for details' if more detail is available\n    if (d.moreDetail) {\n      this.boundingBox.attr('height', 68);\n      this.boundingBox.attr('y', -23);\n      this.date.attr('y', 25 + yAdjust);\n      this.jobs.attr('y', 25 + yAdjust);\n      this.orgName.attr('y', 10 + yAdjust);\n      this.clickMore.text('Click for details');\n    } else {\n      this.boundingBox.attr('height', 50);\n      this.boundingBox.attr('y', -12);\n      this.date.attr('y', 25);\n      this.jobs.attr('y', 25);\n      this.orgName.attr('y', 10);\n      this.clickMore.text('');\n    }\n\n    const formatTooltipDate = formatDate;\n    const toolTipWidth = this.toolTipBase.node().getBoundingClientRect().width;\n    const chartWidth = d3\n      .select(this.svg + '> svg')\n      .node()\n      .getBoundingClientRect().width;\n    const overflow = 100 - (toolTipWidth / chartWidth) * 100;\n    const flipped = overflow < (x / chartWidth) * 100;\n\n    this.date.text('' + formatTooltipDate(date));\n    this.orgName.text('' + orgName);\n    this.jobs.text('' + jobs + ' Jobs');\n    this.jobsWidth = this.jobs.node().getComputedTextLength();\n\n    const maxTextPerc = (this.jobsWidth / this.boxWidth) * 100;\n    const threshold = 45;\n    const overage = maxTextPerc / threshold;\n    let adjustedWidth;\n    if (maxTextPerc > threshold) {\n      adjustedWidth = this.boxWidth * overage;\n    } else {\n      adjustedWidth = this.boxWidth;\n    }\n\n    this.boundingBox.attr('width', adjustedWidth);\n    this.toolTipBase.attr('transform', 'translate(' + x + ',' + y + ')');\n    if (flipped) {\n      this.toolTipPoint.attr('transform', 'translate(-20, 0) rotate(45)');\n      this.boundingBox.attr('x', -adjustedWidth - 20);\n      this.jobs.attr('x', -this.jobsWidth - 20 - 7);\n      this.orgName.attr('x', -adjustedWidth - 7);\n      this.date.attr('x', -adjustedWidth - 7);\n      this.clickMore.attr('x', -adjustedWidth - 7);\n    } else {\n      this.toolTipPoint.attr('transform', 'translate(10, 0) rotate(45)');\n      this.boundingBox.attr('x', 10);\n      this.orgName.attr('x', 20);\n      this.jobs.attr('x', adjustedWidth / 2);\n      this.date.attr('x', 20);\n      this.clickMore.attr('x', 20);\n    }\n\n    this.toolTipBase.style('opacity', 1);\n    this.toolTipBase.interrupt();\n  };\n\n  handleMouseOut = () => {\n    this.toolTipBase\n      .transition()\n      .delay(15)\n      .style('opacity', 0)\n      .style('pointer-events', 'none');\n  };\n}\n","import * as d3 from 'd3';\n\nconst formatDate = (date) => {\n  const pieces = date.split('-');\n  return `${pieces[1]}/${pieces[2]}`;\n};\n\nexport default class HostsTooltip {\n  constructor(props) {\n    this.svg = props.svg;\n    this.draw();\n  }\n\n  draw() {\n    this.width = 125;\n    this.toolTipBase = d3.select(this.svg + '> svg').append('g');\n    this.toolTipBase.attr('id', 'svg-chart-Tooltip.base-' + this.svg.slice(1));\n    this.toolTipBase.attr('overflow', 'visible');\n    this.toolTipBase.style('opacity', 0);\n    this.toolTipBase.style('pointer-events', 'none');\n    this.toolTipBase.attr('transform', 'translate(100, 100)');\n    this.boxWidth = 125;\n    this.textWidthThreshold = 20;\n\n    this.toolTipPoint = this.toolTipBase\n      .append('rect')\n      .attr('transform', 'translate(10, -10) rotate(45)')\n      .attr('x', 0)\n      .attr('y', 0)\n      .attr('height', 20)\n      .attr('width', 20)\n      .attr('fill', '#393f44');\n    this.boundingBox = this.toolTipBase\n      .append('rect')\n      .attr('x', 10)\n      .attr('y', -12)\n      .attr('rx', 2)\n      .attr('height', 50)\n      .attr('width', this.boxWidth)\n      .attr('fill', '#393f44');\n    this.date = this.toolTipBase\n      .append('text')\n      .attr('x', 20)\n      .attr('y', 25)\n      .attr('font-size', 12)\n      .attr('fill', 'white')\n      .text('Date');\n    this.jobs = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('font-size', 12)\n      .attr('x', 72)\n      .attr('y', 25)\n      .text('0 Jobs');\n    this.orgName = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('font-weight', 800)\n      .attr('x', 20)\n      .attr('y', 10)\n      .attr('font-size', 12)\n      .text('Org');\n  }\n\n  handleMouseOver = (d) => {\n    let date;\n    let orgName;\n    let jobs;\n    const x =\n      d3.event.pageX -\n      d3.select(this.svg).node().getBoundingClientRect().x +\n      10;\n    const y =\n      d3.event.pageY -\n      d3.select(this.svg).node().getBoundingClientRect().y -\n      10;\n    if (!d) {\n      return;\n    } else {\n      const maxLength = 16;\n      date = d.date;\n      orgName = d.name;\n      jobs = d.value;\n      if (d.name.length > maxLength) {\n        orgName = d.name.slice(0, maxLength).concat('...');\n      }\n    }\n\n    const formatTooltipDate = formatDate;\n    const toolTipWidth = this.toolTipBase.node().getBoundingClientRect().width;\n    const chartWidth = d3\n      .select(this.svg + '> svg')\n      .node()\n      .getBoundingClientRect().width;\n    const overflow = 100 - (toolTipWidth / chartWidth) * 100;\n    const flipped = overflow < (x / chartWidth) * 100;\n\n    this.date.text('' + formatTooltipDate(date));\n    this.orgName.text('' + orgName);\n    this.jobs.text('' + jobs + ' Hosts');\n    this.jobsWidth = this.jobs.node().getComputedTextLength();\n\n    const maxTextPerc = (this.jobsWidth / this.boxWidth) * 100;\n    const threshold = 45;\n    const overage = maxTextPerc / threshold;\n    let adjustedWidth;\n    if (maxTextPerc > threshold) {\n      adjustedWidth = this.boxWidth * overage;\n    } else {\n      adjustedWidth = this.boxWidth;\n    }\n\n    this.boundingBox.attr('width', adjustedWidth);\n    this.toolTipBase.attr('transform', 'translate(' + x + ',' + y + ')');\n    if (flipped) {\n      this.toolTipPoint.attr('transform', 'translate(-20, 0) rotate(45)');\n      this.boundingBox.attr('x', -adjustedWidth - 20);\n      this.jobs.attr('x', -this.jobsWidth - 20 - 7);\n      this.orgName.attr('x', -adjustedWidth - 7);\n      this.date.attr('x', -adjustedWidth - 7);\n    } else {\n      this.toolTipPoint.attr('transform', 'translate(10, 0) rotate(45)');\n      this.boundingBox.attr('x', 10);\n      this.orgName.attr('x', 20);\n      this.jobs.attr('x', adjustedWidth / 2);\n      this.date.attr('x', 20);\n    }\n\n    this.toolTipBase.style('opacity', 1);\n    this.toolTipBase.interrupt();\n  };\n\n  handleMouseOut = () => {\n    this.toolTipBase\n      .transition()\n      .delay(15)\n      .style('opacity', 0)\n      .style('pointer-events', 'none');\n  };\n}\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport * as d3 from 'd3';\nimport initializeChart from './BaseChart';\nimport { getTotal } from '../Utilities/helpers';\nimport Legend from '../Utilities/Legend';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-wrap: nowrap;\n  flex-shrink: 0;\n`;\n\nclass Tooltip {\n  constructor(props) {\n    this.svg = props.svg;\n    // defer drawing until we know the data shape\n    this.drawn = false;\n    // show the success rate or not\n    this.showSuccess = false;\n  }\n\n  draw(d) {\n    // chart1 has success rate data and chart2 does not ...\n    this.showSuccess = d && d.data && 'success_rate' in d.data ? true : false;\n    const boundingHeight = this.showSuccess ? 70 : 52;\n    const boundingWidth = this.showSuccess ? 120 : 108;\n\n    this.toolTipBase = d3.select(this.svg + '> svg').append('g');\n    this.toolTipBase.attr('id', 'svg-chart-Tooltip.base-' + this.svg.slice(1));\n    this.toolTipBase.attr('overflow', 'visible');\n    this.toolTipBase.style('opacity', 0);\n    this.toolTipBase.style('pointer-events', 'none');\n    this.toolTipBase.attr('transform', 'translate(100, 100)');\n\n    this.toolTipPoint = this.toolTipBase\n      .append('rect')\n      .attr('transform', 'translate(10, -10) rotate(45)')\n      .attr('x', 0)\n      .attr('y', 0)\n      .attr('height', 20)\n      .attr('width', 20)\n      .attr('fill', '#393f44');\n    this.boundingBOx = this.toolTipBase\n      .append('rect')\n      .attr('x', 10)\n      .attr('y', -23)\n      .attr('rx', 2)\n      .attr('height', boundingHeight)\n      .attr('width', boundingWidth)\n      .attr('fill', '#393f44');\n    this.orgName = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('font-size', 12)\n      .attr('font-weight', 800)\n      .attr('x', 20)\n      .attr('y', 0)\n      .text('Organization');\n    this.percentageTotal = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('font-size', 12)\n      .attr('font-weight', 800)\n      .attr('x', 20)\n      .attr('y', 16)\n      .text('0');\n    this.percentageSuccess = null;\n    if (this.showSuccess) {\n      this.percentageSuccess = this.toolTipBase\n        .append('text')\n        .attr('fill', 'white')\n        .attr('font-size', 12)\n        .attr('font-weight', 800)\n        .attr('x', 20)\n        .attr('y', 30)\n        .text('');\n    }\n  }\n\n  handleMouseOver = (d) => {\n    // treat draw() as a singleton to avoid a painted window effect\n    if (this.drawn !== true) {\n      this.draw(d);\n      this.drawn = true;\n    }\n\n    let perc;\n    let percSuccess;\n    let orgName;\n    const x =\n      d3.event.pageX -\n      d3.select(this.svg).node().getBoundingClientRect().x +\n      10;\n    const y =\n      d3.event.pageY -\n      d3.select(this.svg).node().getBoundingClientRect().y -\n      10;\n    if (!d) {\n      return;\n    }\n\n    if (d && d.data) {\n      const maxLength = 16;\n      perc = d.data.percent;\n      percSuccess = d.data.success_rate;\n      orgName = d.data.name;\n      if (d.data.name.length > maxLength) {\n        orgName = d.data.name.slice(0, maxLength - 3).concat('...');\n      }\n    }\n\n    const toolTipWidth = this.toolTipBase.node().getBoundingClientRect().width;\n    const chartWidth = d3\n      .select(this.svg + '> svg')\n      .node()\n      .getBoundingClientRect().width;\n    const overflow = 100 - (toolTipWidth / chartWidth) * 100;\n    const flipped = overflow < (x / chartWidth) * 100;\n\n    this.percentageTotal.text('' + perc + '%');\n    if (percSuccess && this.percentageSuccess) {\n      this.percentageSuccess.text('(' + percSuccess + '% successful)');\n    }\n\n    this.orgName.text(' ' + orgName);\n    this.toolTipBase.attr('transform', 'translate(' + x + ',' + y + ')');\n    if (flipped) {\n      this.toolTipPoint.attr('transform', 'translate(-20, -10) rotate(45)');\n      this.boundingBOx.attr('x', -125);\n      this.orgName.attr('x', -112);\n      this.percentageTotal.attr('x', -112);\n      if (this.showSuccess) {\n        this.percentageSuccess.attr('x', -112);\n      }\n    } else {\n      this.toolTipPoint.attr('transform', 'translate(10, -10) rotate(45)');\n      this.boundingBOx.attr('x', 10);\n      this.orgName.attr('x', 20);\n      this.percentageTotal.attr('x', 20);\n      if (this.showSuccess) {\n        this.percentageSuccess.attr('x', 20);\n      }\n    }\n\n    this.toolTipBase.style('opacity', 1);\n    this.toolTipBase.interrupt();\n  };\n\n  handleMouseOut = () => {\n    this.toolTipBase\n      .transition()\n      .delay(15)\n      .style('opacity', 0)\n      .style('pointer-events', 'none');\n  };\n}\n\nconst PieChart = ({\n  data,\n  id,\n  colorFunc: color,\n  margin,\n  getWidth,\n  getHeight,\n}) => {\n  const colors = data\n    .map(({ id, name, count }) => {\n      return {\n        id,\n        name,\n        value: color(id),\n        count: Math.round(count),\n      };\n    })\n    .sort((a, b) => (a.count > b.count ? 1 : b.count > a.count ? -1 : 0));\n\n  const [selectedIds, setSelectedIds] = useState(\n    data.map(({ id }) => id).slice(0, 8)\n  );\n\n  let timeout = null;\n\n  const handleToggle = (id) => {\n    if (selectedIds.includes(id)) {\n      setSelectedIds(selectedIds.filter((el) => el !== id));\n    } else {\n      setSelectedIds([...selectedIds, id]);\n    }\n  };\n\n  const draw = () => {\n    d3.selectAll('#' + id + ' > *').remove();\n    const width = getWidth();\n    const height = getHeight();\n    const svg = d3\n      .select('#' + id)\n      .append('svg')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.bottom)\n      .append('g');\n\n    svg.append('g').attr('class', 'slices');\n    svg.append('g').attr('class', 'labels');\n    svg.append('g').attr('class', 'lines');\n    const radius = Math.min(width, height) / 2;\n    const filteredData = data.filter(({ id }) => selectedIds.includes(id));\n    const total = getTotal(filteredData);\n    filteredData.forEach(function (d) {\n      d.count = +d.count;\n      d.percent = +Math.round((d.count / total) * 100);\n    });\n    const donutTooltip = new Tooltip({\n      svg: '#' + id,\n    });\n    const pie = d3\n      .pie()\n      .sort(null)\n      .value((d) => d.count);\n    const arc = d3\n      .arc()\n      .outerRadius(radius - 10) // controls top positioning of chart\n      .innerRadius(0);\n\n    svg.attr(\n      'transform',\n      'translate(' +\n        (width + margin.left + margin.right) / 2 +\n        ',' +\n        (height + margin.top + margin.bottom) / 2 +\n        ')'\n    );\n\n    svg\n      .selectAll('path')\n      .data(pie(filteredData))\n      .enter()\n      .append('path')\n      .attr('d', arc)\n      .attr('fill', (d) => color(d.data.id));\n\n    svg\n      .selectAll('path')\n      .on('mouseover', function (d) {\n        d3.select(this).style('fill', d3.rgb(color(d.data.id)).darker(1));\n        donutTooltip.handleMouseOver(d);\n      })\n      .on('mouseout', function (d) {\n        d3.select(this).style('fill', color(d.data.id));\n        donutTooltip.handleMouseOut();\n      })\n      .on('mousemove', donutTooltip.handleMouseOver);\n\n    svg.append('g').classed('labels', true);\n    svg.append('g').classed('lines', true);\n  };\n\n  const init = () => {\n    draw();\n  };\n\n  const resize = () => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      draw();\n    }, 500);\n  };\n\n  useEffect(() => {\n    init();\n    window.addEventListener('resize', resize);\n\n    return () => {\n      clearTimeout(timeout);\n      window.removeEventListener('resize', resize);\n    };\n  }, []);\n\n  useEffect(() => {\n    draw();\n  }, [data, selectedIds]);\n\n  return (\n    <Wrapper>\n      <div id={id} />\n      {colors.length > 0 && (\n        <Legend\n          id={`${id}-legend`}\n          data={colors}\n          selected={selectedIds}\n          onToggle={handleToggle}\n          height=\"300px\"\n          chartName={`${id}-legend`}\n        />\n      )}\n    </Wrapper>\n  );\n};\n\nPieChart.propTypes = {\n  id: PropTypes.string,\n  data: PropTypes.array,\n  margin: PropTypes.object,\n  getHeight: PropTypes.func,\n  getWidth: PropTypes.func,\n  colorFunc: PropTypes.func,\n};\n\nexport default initializeChart(PieChart);\n","import React, { useCallback, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport { useQueryParams } from '../../Utilities/useQueryParams';\nimport useRedirect from '../../Utilities/useRedirect';\nimport { formatDate as dateForJobExplorer } from '../../Utilities/helpers';\n\nimport EmptyState from '../../Components/EmptyState';\n\nimport {\n  preflightRequest,\n  readJobExplorer,\n  readHostExplorer,\n  readOrgOptions,\n} from '../../Api/';\n\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\n\nimport {\n  Card,\n  CardBody,\n  CardTitle,\n  Tabs,\n  Tab,\n  Grid,\n  GridItem,\n} from '@patternfly/react-core';\n\nimport {\n  GroupedBarChart,\n  OrgsTooltip,\n  HostsTooltip,\n} from '../../Charts/GroupedBarChart/';\nimport PieChart from '../../Charts/PieChart';\nimport FilterableToolbar from '../../Components/Toolbar/';\nimport { organizationStatistics as constants } from '../../Utilities/constants';\n\n// For chart colors\nimport { pfmulti } from '../../Utilities/colors';\nimport { scaleOrdinal } from 'd3';\nimport useRequest from '../../Utilities/useRequest';\nimport { getQSConfig } from '../../Utilities/qs';\n\nimport ApiErrorState from '../../Components/ApiErrorState';\nimport LoadingState from '../../Components/LoadingState';\nimport NoData from '../../Components/NoData';\n\nconst Divider = styled('hr')`\n  border: 1px solid #ebebeb;\n`;\n\nconst colorFunc = scaleOrdinal(pfmulti);\n\nconst orgsChartMapper = (data = [], meta, attrName) => {\n  const dates = data.map(({ date, items }) => ({\n    date,\n    items: items.map(({ id, [attrName]: value, name }) => ({\n      id,\n      date,\n      value,\n      name: name || 'No organization',\n    })),\n  }));\n  meta.legend.map((el) => ({\n    ...el,\n    name: el.name || 'No organization',\n  }));\n  return dates;\n};\n\nconst pieChartMapper = (items = [], attrName) => {\n  const data = items.map(({ id, [attrName]: count, name }) => ({\n    id,\n    count,\n    name: name || 'No organization',\n  }));\n  return data;\n};\n\nconst redirectToJobExplorer =\n  (toJobExplorer, queryParams) =>\n  ({ date, id }) => {\n    if (id === -1) {\n      // disable clicking on \"others\" block\n      return;\n    }\n\n    const { sort_by, ...rest } = queryParams;\n    const formattedDate = dateForJobExplorer(date);\n    const initialQueryParams = {\n      ...rest,\n      'job-explorer.quick_date_range': 'custom',\n      'job-explorer.start_date': formattedDate,\n      'job-explorer.end_date': formattedDate,\n      'job-explorer.status': [\n        'successful',\n        'failed',\n        'new',\n        'pending',\n        'waiting',\n        'error',\n        'canceled',\n        'running',\n      ],\n      'job-explorer.org_id': [id],\n    };\n\n    toJobExplorer(initialQueryParams);\n  };\n\nconst chartMapper = [\n  {\n    api: readJobExplorer,\n    attr: 'total_count',\n    label: 'Jobs across organizations',\n    onClick: redirectToJobExplorer,\n    tooltip: OrgsTooltip,\n  },\n  {\n    api: readHostExplorer,\n    attr: 'total_unique_host_count',\n    label: 'Hosts across organizations',\n    onClick: () => null,\n    tooltip: HostsTooltip,\n  },\n];\nconst qsConfig = getQSConfig(\n  'organization-statistics',\n  { ...constants.defaultParams },\n  ['limit', 'offset']\n);\n\nconst OrganizationStatistics = ({ history }) => {\n  const toJobExplorer = useRedirect(history, 'jobExplorer');\n  const [activeTabKey, setActiveTabKey] = useState(0);\n\n  // params from toolbar/searchbar\n  const { queryParams, setFromToolbar } = useQueryParams(qsConfig);\n\n  const { error: preflightError, request: setPreflight } = useRequest(\n    useCallback(() => preflightRequest(), [])\n  );\n\n  const {\n    result: jobs,\n    error: jobsError,\n    isLoading: jobsIsLoading,\n    isSuccess: jobsIsSuccess,\n    request: setJobs,\n  } = useRequest(\n    useCallback(\n      async () => readJobExplorer(jobRunsByOrgParams),\n      [jobRunsByOrgParams]\n    ),\n    []\n  );\n\n  const {\n    result: orgs,\n    error: orgsError,\n    isLoading: orgsIsLoading,\n    isSuccess: orgsIsSuccess,\n    request: setOrgs,\n  } = useRequest(\n    useCallback(\n      async (tabIndex = 0) => {\n        let orgs;\n        if (tabIndex === 0) {\n          orgs = await readJobExplorer(jobsByDateAndOrgParams);\n        } else {\n          orgs = await readHostExplorer(hostAcrossOrgParams);\n        }\n        return orgs;\n      },\n      [hostAcrossOrgParams, jobsByDateAndOrgParams]\n    ),\n    []\n  );\n\n  const { result: options, request: setOptions } = useRequest(\n    useCallback(() => readOrgOptions(queryParams), [queryParams]),\n    {}\n  );\n\n  const {\n    result: tasks,\n    error: tasksError,\n    isLoading: tasksIsLoading,\n    isSuccess: tasksIsSuccess,\n    request: setTasks,\n  } = useRequest(\n    useCallback(\n      async () => readJobExplorer(jobEventsByOrgParams),\n      [jobEventsByOrgParams]\n    ),\n    []\n  );\n\n  const jobEventsByOrgParams = {\n    ...queryParams,\n    attributes: ['host_task_count'],\n    group_by: 'org',\n    include_others: true,\n    sort_by: `host_task_count:desc`,\n  };\n\n  const jobRunsByOrgParams = {\n    ...queryParams,\n    attributes: ['total_count'],\n    group_by: 'org',\n    include_others: true,\n    sort_by: `total_count:desc`,\n  };\n\n  const jobsByDateAndOrgParams = {\n    ...queryParams,\n    attributes: ['total_count'],\n    group_by: 'org',\n    group_by_time: true,\n    sort_by: `total_count:desc`,\n  };\n\n  const hostAcrossOrgParams = {\n    ...queryParams,\n    attributes: ['total_unique_host_count'],\n    group_by: 'org',\n    group_by_time: true,\n    sort_by: `host_task_count:desc`,\n  };\n\n  const handleTabClick = (_, tabIndex) => {\n    setActiveTabKey(tabIndex);\n  };\n\n  useEffect(() => {\n    insights.chrome.appNavClick({\n      id: 'organization-statistics',\n      secondaryNav: true,\n    });\n    setPreflight();\n  }, []);\n\n  useEffect(() => {\n    setOrgs(activeTabKey);\n  }, [activeTabKey]);\n\n  useEffect(() => {\n    setOrgs();\n    setTasks();\n    setOptions();\n    setJobs();\n  }, [queryParams]);\n\n  const renderContent = () => {\n    if (preflightError) return <EmptyState preflightError={preflightError} />;\n\n    if (!preflightError)\n      return (\n        <Grid hasGutter>\n          <GridItem span={12}>\n            <Card>\n              <Tabs activeKey={activeTabKey} onSelect={handleTabClick}>\n                <Tab eventKey={0} title={'Jobs'} />\n                <Tab eventKey={1} title={'Hosts'} />\n              </Tabs>\n              <CardBody>\n                {orgsIsLoading && <LoadingState />}\n                {orgsError && <ApiErrorState message={orgsError.error} />}\n                {orgsIsSuccess && orgs.dates?.length <= 0 && <NoData />}\n                {orgsIsSuccess && orgs.dates?.length > 0 && (\n                  <GroupedBarChart\n                    margin={{ top: 20, right: 20, bottom: 50, left: 50 }}\n                    id=\"d3-grouped-bar-chart-root\"\n                    data={orgsChartMapper(\n                      orgs.dates,\n                      orgs.meta,\n                      chartMapper[activeTabKey].attr\n                    )}\n                    legend={orgs.meta.legend}\n                    history={history}\n                    colorFunc={colorFunc}\n                    yLabel={chartMapper[activeTabKey].label}\n                    onClick={chartMapper[activeTabKey].onClick(\n                      toJobExplorer,\n                      queryParams\n                    )}\n                    TooltipClass={chartMapper[activeTabKey].tooltip}\n                  />\n                )}\n              </CardBody>\n            </Card>\n          </GridItem>\n          <GridItem span={6}>\n            <Card>\n              <CardTitle>\n                <h2>Job Runs by Organization</h2>\n              </CardTitle>\n              <Divider />\n              <CardBody>\n                {jobsIsLoading && <LoadingState />}\n                {jobsError && <ApiErrorState message={jobsError.error} />}\n                {jobsIsSuccess && jobs.items?.length <= 0 && <NoData />}\n                {jobsIsSuccess && jobs.items?.length > 0 && (\n                  <PieChart\n                    margin={{ top: 20, right: 20, bottom: 0, left: 20 }}\n                    id=\"d3-donut-1-chart-root\"\n                    data={pieChartMapper(jobs.items, 'total_count')}\n                    colorFunc={colorFunc}\n                  />\n                )}\n              </CardBody>\n            </Card>\n          </GridItem>\n          <GridItem span={6}>\n            <Card>\n              <CardTitle>\n                <h2>Usage by Organization (Tasks)</h2>\n              </CardTitle>\n              <Divider />\n              <CardBody>\n                {tasksIsLoading && <LoadingState />}\n                {tasksError && <ApiErrorState message={tasksError.error} />}\n                {tasksIsSuccess && tasks.items?.length <= 0 && <NoData />}\n                {tasksIsSuccess && tasks.items?.length > 0 && (\n                  <PieChart\n                    margin={{ top: 20, right: 20, bottom: 0, left: 20 }}\n                    id=\"d3-donut-2-chart-root\"\n                    data={pieChartMapper(tasks.items, 'host_task_count')}\n                    colorFunc={colorFunc}\n                  />\n                )}\n              </CardBody>\n            </Card>\n          </GridItem>\n        </Grid>\n      );\n\n    return '';\n  };\n\n  return (\n    <>\n      <PageHeader>\n        <PageHeaderTitle title={'Organization Statistics'} />\n        <FilterableToolbar\n          categories={options}\n          filters={queryParams}\n          setFilters={setFromToolbar}\n          qsConfig={qsConfig}\n        />\n      </PageHeader>\n      <Main>{renderContent()}</Main>\n    </>\n  );\n};\n\nOrganizationStatistics.propTypes = {\n  history: PropTypes.object,\n};\n\nexport default OrganizationStatistics;\n","var pfmulti = [\n    '#06C',\n    '#4CB140',\n    '#009596',\n    '#5752D1',\n    '#F4C145',\n    '#EC7A08',\n    '#8BC1F7',\n    '#23511E',\n    '#A2D9D9',\n    '#2A265F',\n    '#F9E0A2',\n    '#8F4700',\n    '#002F5D',\n];\nexport { pfmulti };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ApiErrorState from './ApiErrorState';\nimport LoadingState from './LoadingState';\nimport NoData from './NoData';\nvar ApiStatusWrapper = function (_a) {\n    var api = _a.api, children = _a.children;\n    if (!api || api.isLoading)\n        return React.createElement(LoadingState, null);\n    if (api.error)\n        return React.createElement(ApiErrorState, { message: api.error.error });\n    if (api.isSuccess) {\n        if (Array.isArray(api.result) && api.result.length === 0)\n            return React.createElement(NoData, null);\n        if (Object.keys(api.result).length === 0)\n            return React.createElement(NoData, null);\n        return React.createElement(React.Fragment, null, children);\n    }\n    return null;\n};\nApiStatusWrapper.propTypes = {\n    api: PropTypes.any.isRequired,\n    children: PropTypes.node.isRequired,\n};\nexport default ApiStatusWrapper;\n","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\n/* eslint-disable @typescript-eslint/no-floating-promises */\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n/* eslint-disable @typescript-eslint/no-unsafe-return */\n/* eslint-disable @typescript-eslint/no-unsafe-call */\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\nimport React, { useCallback, useEffect, useState, } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport ChartBuilder, { functions, } from 'react-json-chart-builder';\nimport { Card, CardBody as PFCardBody, CardFooter, PaginationVariant, } from '@patternfly/react-core';\nimport { TableComposable, TableVariant, Tbody, Td, Th, Thead, Tr as PFTr, } from '@patternfly/react-table';\nimport Pagination from '../../../Components/Pagination';\nimport { useQueryParams } from '../../../Utilities/useQueryParams';\nimport useRequest from '../../../Utilities/useRequest';\nimport { formatTotalTime } from '../../../Utilities/helpers';\nimport { global_disabled_color_300 } from '@patternfly/react-tokens';\nimport ApiStatusWrapper from '../../../Components/ApiStatusWrapper';\nimport FilterableToolbar from '../../../Components/Toolbar/Toolbar';\nimport currencyFormatter from '../../../Utilities/currencyFormatter';\nimport { getQSConfig } from '../../../Utilities/qs';\nvar CardBody = styled(PFCardBody)(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  & .pf-c-toolbar,\\n  & .pf-c-toolbar__content {\\n    padding: 0;\\n  }\\n\"], [\"\\n  & .pf-c-toolbar,\\n  & .pf-c-toolbar__content {\\n    padding: 0;\\n  }\\n\"])));\nvar Tr = styled(PFTr)(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  & td:first-child {\\n    width: 50px;\\n  }\\n\"], [\"\\n  & td:first-child {\\n    width: 50px;\\n  }\\n\"])));\nvar customFunctions = function (data) { return (__assign(__assign({}, functions), { fetchFnc: function () {\n        return new Promise(function (resolve) {\n            resolve(data);\n        });\n    } })); };\nvar perPageOptions = [\n    { title: '4', value: 4 },\n    { title: '6', value: 6 },\n    { title: '8', value: 8 },\n    { title: '10', value: 10 },\n];\nvar timeFields = ['elapsed'];\nvar costFields = [];\nvar isOther = function (item, key) {\n    return key === 'id' && item[key] === -1;\n};\nvar getText = function (item, key) {\n    if (isOther(item, key))\n        return '-';\n    if (timeFields.includes(key))\n        return formatTotalTime(item[key]);\n    if (costFields.includes(key))\n        return currencyFormatter(+item[key]);\n    return \"\" + item[key];\n};\nvar getOthersStyle = function (item, key) {\n    if (isOther(item, key)) {\n        return {\n            backgroundColor: global_disabled_color_300.value,\n        };\n    }\n    return {};\n};\nvar Report = function (_a) {\n    var _b, _c, _d, _e, _f, _g;\n    var defaultParams = _a.defaultParams, extraAttributes = _a.extraAttributes, readData = _a.readData, readOptions = _a.readOptions, schemaFnc = _a.schemaFnc;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var qsConfig = getQSConfig('non-unique-report', defaultParams, [\n        'limit',\n        'offset',\n    ]);\n    var _h = useQueryParams(qsConfig), queryParams = _h.queryParams, setFromPagination = _h.setFromPagination, setFromToolbar = _h.setFromToolbar;\n    var _j = useRequest(useCallback(function () { return readData(queryParams); }, [queryParams]), {}), setData = _j.request, dataApi = __rest(_j, [\"request\"]);\n    var _k = useRequest(useCallback(function () { return readOptions(queryParams); }, [queryParams]), []), options = _k.result, setOptions = _k.request;\n    var _l = useState([]), attrPairs = _l[0], setAttrPairs = _l[1];\n    useEffect(function () {\n        if (options.sort_options) {\n            setAttrPairs(__spreadArray(__spreadArray([], extraAttributes), options.sort_options));\n        }\n    }, [options, extraAttributes]);\n    var chartSchema = schemaFnc(((_b = attrPairs.find(function (_a) {\n        var key = _a.key;\n        return key === queryParams.sort_options;\n    })) === null || _b === void 0 ? void 0 : _b.value) ||\n        'Label Y', queryParams.sort_options);\n    useEffect(function () {\n        setData();\n        setOptions();\n    }, [queryParams]);\n    var onSort = function (_event, index, direction) {\n        var _a;\n        setFromToolbar('sort_order', direction);\n        setFromToolbar('sort_options', (_a = attrPairs[index]) === null || _a === void 0 ? void 0 : _a.key);\n    };\n    var getSorParams = function (currKey) {\n        var _a;\n        var whitelistKeys = (_a = options === null || options === void 0 ? void 0 : options.sort_options) === null || _a === void 0 ? void 0 : _a.map(function (_a) {\n            var key = _a.key;\n            return key;\n        });\n        if (!whitelistKeys.includes(currKey))\n            return {};\n        return {\n            sort: {\n                sortBy: {\n                    index: attrPairs.findIndex(function (_a) {\n                        var key = _a.key;\n                        return key === queryParams.sort_options;\n                    }) || 0,\n                    direction: queryParams.sort_order || 'none',\n                },\n                onSort: onSort,\n                columnIndex: attrPairs.findIndex(function (_a) {\n                    var key = _a.key;\n                    return key === currKey;\n                }),\n            },\n        };\n    };\n    return (React.createElement(Card, null,\n        React.createElement(CardBody, null,\n            React.createElement(FilterableToolbar, { categories: options, filters: queryParams, qsConfig: qsConfig, setFilters: setFromToolbar, pagination: React.createElement(Pagination, { count: (_d = (_c = dataApi.result) === null || _c === void 0 ? void 0 : _c.meta) === null || _d === void 0 ? void 0 : _d.count, perPageOptions: perPageOptions, params: {\n                        limit: queryParams.limit,\n                        offset: queryParams.offset,\n                    }, qsConfig: qsConfig.defaultParams, setPagination: setFromPagination, isCompact: true }) }),\n            React.createElement(ApiStatusWrapper, { api: dataApi },\n                React.createElement(ChartBuilder, { schema: chartSchema, functions: customFunctions(dataApi.result) }),\n                React.createElement(TableComposable, { \"aria-label\": \"Report Table\", variant: TableVariant.compact },\n                    React.createElement(Thead, null,\n                        React.createElement(Tr, null, attrPairs.map(function (_a) {\n                            var key = _a.key, value = _a.value;\n                            return (React.createElement(Th, __assign({ key: key }, getSorParams(key)), value));\n                        }))),\n                    React.createElement(Tbody, null, (_e = dataApi.result.meta) === null || _e === void 0 ? void 0 : _e.legend.map(function (item) { return (React.createElement(Tr, { key: item.id, style: getOthersStyle(item, 'id') }, attrPairs.map(function (_a) {\n                        var key = _a.key;\n                        return (React.createElement(Td, { key: item.id + \"-\" + key }, getText(item, key)));\n                    }))); }))))),\n        React.createElement(CardFooter, null,\n            React.createElement(Pagination, { count: (_g = (_f = dataApi.result) === null || _f === void 0 ? void 0 : _f.meta) === null || _g === void 0 ? void 0 : _g.count, perPageOptions: perPageOptions, params: {\n                    limit: queryParams.limit,\n                    offset: queryParams.offset,\n                }, qsConfig: qsConfig.defaultParams, setPagination: setFromPagination, variant: PaginationVariant.bottom }))));\n};\nReport.propTypes = {\n    defaultParams: PropTypes.any,\n    extraAttributes: PropTypes.arrayOf(PropTypes.exact({\n        key: PropTypes.string.isRequired,\n        value: PropTypes.string.isRequired,\n    }).isRequired).isRequired,\n    readData: PropTypes.func.isRequired,\n    readOptions: PropTypes.func.isRequired,\n    schemaFnc: PropTypes.func.isRequired,\n};\nexport default Report;\nvar templateObject_1, templateObject_2;\n","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { Card } from '@patternfly/react-core';\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport { PageHeader, PageHeaderTitle, } from '@redhat-cloud-services/frontend-components/PageHeader';\nimport Breadcrumbs from '../../../Components/Breadcrumbs';\nimport Report from './Report';\nimport { getReport } from '../Shared/schemas';\nvar Description = styled.p(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  max-width: 70em;\\n  padding-top: 8px;\\n\"], [\"\\n  max-width: 70em;\\n  padding-top: 8px;\\n\"])));\nvar Details = function () {\n    var id = useParams().id;\n    var _a = getReport(+id), name = _a.name, description = _a.description, report = _a.report;\n    var breadcrumbsItems = [{ title: 'Reports', navigate: '/reports' }];\n    return (React.createElement(React.Fragment, null,\n        React.createElement(PageHeader, null,\n            React.createElement(Breadcrumbs, { items: breadcrumbsItems }),\n            React.createElement(PageHeaderTitle, { title: name }),\n            React.createElement(Description, null, description)),\n        React.createElement(Main, null,\n            React.createElement(Card, null, report && React.createElement(Report, __assign({}, report))))));\n};\nexport default Details;\nvar templateObject_1;\n","import React from 'react';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport {\n  Card,\n  CardHeader,\n  CardHeaderMain,\n  CardTitle as PFCardTitle,\n  CardBody,\n  CardFooter,\n  Label as PFLabel,\n} from '@patternfly/react-core';\n\nconst CardTitle = styled(PFCardTitle)`\n  word-break: break-word;\n`;\n\nconst Small = styled.small`\n  display: block;\n  margin-bottom: 10px;\n  color: #6a6e73;\n  white-space: pre-line;\n`;\n\nconst Label = styled(PFLabel)`\n  margin-right: 10px;\n`;\n\nconst ListItem = ({ report }) => {\n  const { id, description, name, categories } = report;\n\n  const match = useRouteMatch();\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardHeaderMain>\n          <CardTitle>\n            <Link to={`${match.url}/${id}`}>{name}</Link>\n          </CardTitle>\n        </CardHeaderMain>\n      </CardHeader>\n      <CardBody>{description ? <Small>{description}</Small> : null}</CardBody>\n      <CardFooter>\n        {categories.map((category, idx) => (\n          <Label key={idx}>{category}</Label>\n        ))}\n      </CardFooter>\n    </Card>\n  );\n};\n\nListItem.propTypes = {\n  report: PropTypes.object,\n};\n\nexport default ListItem;\n","import React from 'react';\nimport styled from 'styled-components';\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { Gallery } from '@patternfly/react-core';\n\nimport ListItem from './ListItem';\nimport reports from '../Shared/schemas';\n\nconst PageContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 76px);\n`;\n\nconst FlexMain = styled(Main)`\n  flex-grow: 1;\n`;\n\nconst List = () => {\n  return (\n    <PageContainer>\n      <PageHeader>\n        <PageHeaderTitle title={'Reports'} />\n      </PageHeader>\n      <FlexMain>\n        <Gallery\n          hasGutter\n          minWidths={{\n            sm: '307px',\n            md: '307px',\n            lg: '307px',\n            xl: '307px',\n            '2xl': '307px',\n          }}\n        >\n          {reports.map((report) => (\n            <ListItem key={report.id} report={report} />\n          ))}\n        </Gallery>\n      </FlexMain>\n    </PageContainer>\n  );\n};\n\nexport default List;\n","import React, { useCallback, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport { Card, CardBody } from '@patternfly/react-core';\n\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\n\nimport Breadcrumbs from '../../../Components/Breadcrumbs';\n\nimport { readPlanOptions } from '../../../Api/';\n\nimport Form from '../Shared/Form';\n\nimport { Paths } from '../../../paths';\nimport useRequest from '../../../Utilities/useRequest';\n\nconst Add = () => {\n  const {\n    result: options,\n    isSuccess,\n    request: fetchPlanOptions,\n  } = useRequest(\n    useCallback(() => readPlanOptions(), []),\n    {}\n  );\n\n  useEffect(() => {\n    fetchPlanOptions();\n  }, [fetchPlanOptions]);\n\n  const canWrite =\n    isSuccess &&\n    (options.meta?.rbac?.perms?.write === true ||\n      options.meta?.rbac?.perms?.all === true);\n  const title = 'Create new plan';\n\n  const showAdd = () => (\n    <>\n      <PageHeader>\n        <Breadcrumbs\n          items={[{ title: 'Savings Planner', navigate: '/savings-planner' }]}\n        />\n        <PageHeaderTitle title={title} />\n      </PageHeader>\n      <Main>\n        <Card>\n          <CardBody>\n            <Form title={title} options={options} />\n          </CardBody>\n        </Card>\n      </Main>\n    </>\n  );\n  if (isSuccess) {\n    return canWrite ? showAdd() : <Redirect to={Paths.savingsPlanner} />;\n  }\n  return null;\n};\n\nexport default Add;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { CardActions } from '@patternfly/react-core';\nimport styled from 'styled-components';\n\nconst CardActionsWrapper = styled.div`\n  margin-top: 20px;\n  --pf-c-card__actions--PaddingLeft: 0;\n`;\n\nconst CardActionsRow = ({ children }) => {\n  return (\n    <CardActionsWrapper>\n      <CardActions>{children}</CardActions>\n    </CardActionsWrapper>\n  );\n};\n\nCardActionsRow.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default CardActionsRow;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styled from 'styled-components';\nimport { Button, Badge, Alert, Tooltip } from '@patternfly/react-core';\nimport AlertModal from '../AlertModal';\nimport { getRelatedResourceDeleteCounts } from '../../Utilities/getRelatedResourceDeleteDetails';\nimport ErrorDetail from '../ErrorDetail';\n\nconst WarningMessage = styled(Alert)`\n  margin-top: 10px;\n`;\n\nconst Label = styled.span`\n  && {\n    margin-right: 10px;\n  }\n`;\n\nconst DeleteButton = ({\n  onConfirm,\n  modalTitle = 'Delete',\n  name = '',\n  variant = 'secondary',\n  isDisabled = false,\n  ouiaId = null,\n  deleteMessage = 'Delete?',\n  deleteDetailsRequests = [],\n  disabledTooltip = 'This item cannot be deleted',\n  children,\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [deleteMessageError, setDeleteMessageError] = useState();\n  const [deleteDetails, setDeleteDetails] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n\n  const toggleModal = async (isModalOpen) => {\n    setIsLoading(true);\n    if (deleteDetailsRequests.length > 0 && isModalOpen) {\n      const { results, error } = await getRelatedResourceDeleteCounts(\n        deleteDetailsRequests\n      );\n      if (error) {\n        setDeleteMessageError(error);\n      } else {\n        setDeleteDetails(results);\n      }\n    }\n    setIsLoading(false);\n    setIsOpen(isModalOpen);\n  };\n\n  if (deleteMessageError) {\n    return (\n      <AlertModal\n        isOpen={!!deleteMessageError}\n        variant={'error'}\n        title={'Error!'}\n        onClose={() => {\n          toggleModal(false);\n          setDeleteMessageError();\n        }}\n      >\n        <ErrorDetail error={deleteMessageError.detail} />\n      </AlertModal>\n    );\n  }\n\n  return (\n    <>\n      {disabledTooltip ? (\n        <Tooltip content={disabledTooltip} position=\"top\">\n          <div>\n            <Button\n              spinnerAriaValueText={isLoading ? 'Loading' : undefined}\n              variant={variant || 'secondary'}\n              aria-label={'Delete'}\n              isDisabled={isDisabled}\n              onClick={() => toggleModal(true)}\n              ouiaId={ouiaId}\n            >\n              {children || 'Delete'}\n            </Button>\n          </div>\n        </Tooltip>\n      ) : (\n        <Button\n          ouiaId={ouiaId}\n          spinnerAriaValueText={isLoading ? 'Loading' : undefined}\n          variant={variant || 'secondary'}\n          aria-label={'Delete'}\n          isDisabled={isDisabled}\n          onClick={() => toggleModal(true)}\n        >\n          {children || 'Delete'}\n        </Button>\n      )}\n      <AlertModal\n        isOpen={isOpen}\n        title={modalTitle}\n        variant=\"danger\"\n        onClose={() => toggleModal(false)}\n        actions={[\n          <Button\n            ouiaId=\"delete-modal-confirm\"\n            key=\"delete\"\n            variant=\"danger\"\n            aria-label={'Confirm Delete'}\n            isDisabled={isDisabled}\n            onClick={() => {\n              onConfirm();\n              toggleModal(false);\n            }}\n          >\n            {'Delete'}\n          </Button>,\n          <Button\n            ouiaId=\"delete-modal-cancel\"\n            key=\"cancel\"\n            variant=\"link\"\n            aria-label={'Cancel'}\n            onClick={() => toggleModal(false)}\n          >\n            {'Cancel'}\n          </Button>,\n        ]}\n      >\n        {'Are you sure you want to delete:'}\n        <br />\n        <strong>{name}</strong>\n        {Object.values(deleteDetails).length > 0 && (\n          <WarningMessage\n            variant=\"warning\"\n            isInline\n            title={\n              <div>\n                <div aria-label={deleteMessage}>{deleteMessage}</div>\n                <br />\n                {Object.entries(deleteDetails).map(([key, value]) => (\n                  <div aria-label={`${key}: ${value}`} key={key}>\n                    <Label>{key}</Label> <Badge>{value}</Badge>\n                  </div>\n                ))}\n              </div>\n            }\n          />\n        )}\n      </AlertModal>\n    </>\n  );\n};\n\nDeleteButton.propTypes = {\n  onConfirm: PropTypes.func.isRequired,\n  modalTitle: PropTypes.string,\n  name: PropTypes.string,\n  variant: PropTypes.object,\n  isDisabled: PropTypes.bool,\n  ouiaId: PropTypes.string,\n  deleteMessage: PropTypes.string,\n  deleteDetailsRequests: PropTypes.array,\n  disabledTooltip: PropTypes.bool,\n  children: PropTypes.node,\n};\n\nexport default DeleteButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { shape, string, number, arrayOf, node, oneOfType } from 'prop-types';\nimport { Tab, Tabs, TabTitleText } from '@patternfly/react-core';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst RoutedTabs = ({ tabsArray, defaultTabId }) => {\n  const history = useHistory();\n  const location = useLocation();\n\n  const getActiveTabId = (defaultTabId) => {\n    return (\n      tabsArray.find((tab) => tab.link === location.pathname)?.id ||\n      defaultTabId\n    );\n  };\n\n  const handleTabSelect = (_, eventKey) => {\n    const match = tabsArray.find((tab) => tab.id === eventKey);\n    if (match) {\n      history.push(match.link);\n    }\n  };\n\n  return (\n    <Tabs activeKey={getActiveTabId(defaultTabId)} onSelect={handleTabSelect}>\n      {tabsArray.map((tab) => (\n        <Tab\n          aria-label={typeof tab.name === 'string' ? tab.name : `${tab.id} tab`}\n          eventKey={tab.id}\n          key={tab.id}\n          link={tab.link}\n          title={<TabTitleText>{tab.name}</TabTitleText>}\n          role=\"tab\"\n        />\n      ))}\n    </Tabs>\n  );\n};\n\nRoutedTabs.propTypes = {\n  defaultTabId: PropTypes.number,\n  tabsArray: arrayOf(\n    shape({\n      id: number.isRequired,\n      link: string.isRequired,\n      name: oneOfType([string.isRequired, node.isRequired]),\n    })\n  ).isRequired,\n};\n\nRoutedTabs.defaultProps = {\n  defaultTabId: 1,\n};\n\nexport default RoutedTabs;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styled from 'styled-components';\nimport { Paths } from '../../../../paths';\nimport { stringify } from 'query-string';\n\nimport { useHistory, useLocation } from 'react-router-dom';\n\nimport { Button } from '@patternfly/react-core';\n\nimport {\n  CardBody as PFCardBody,\n  CardFooter,\n  DescriptionList,\n  DescriptionListTerm,\n  DescriptionListGroup,\n  DescriptionListDescription,\n  Divider as PFDivider,\n  Label,\n  List,\n  ListItem,\n} from '@patternfly/react-core';\nimport CardActionsRow from '../../../../Components/CardActionsRow';\nimport { deletePlan } from '../../../../Api/';\nimport useRequest, {\n  useDismissableError,\n} from '../../../../Utilities/useRequest';\nimport DeleteButton from '../../../../Components/DeleteButton/DeleteButton';\nimport { ExclamationCircleIcon } from '@patternfly/react-icons';\nimport { formatDateTime } from '../../../../Utilities/helpers';\nimport RoutedTabs from '../../../../Components/RoutedTabs';\nimport AlertModal from '../../../../Components/AlertModal/AlertModal';\nimport ErrorDetail from '../../../../Components/ErrorDetail/ErrorDetail';\nimport JobStatus from '../../../../Components/JobStatus';\n\nconst CardBody = styled(PFCardBody)`\n  min-height: 500px;\n  padding: 0;\n  padding-bottom: 20px;\n\n  &:first-child {\n    padding-top: 0;\n  }\n`;\n\nconst Divider = styled(PFDivider)`\n  padding-top: 24px;\n`;\n\nconst DetailsTab = ({ tabsArray, plan, canWrite, options }) => {\n  const { pathname } = useLocation();\n  const history = useHistory();\n  const {\n    id,\n    automation_status,\n    category,\n    description,\n    frequency_period,\n    hosts,\n    manual_time,\n    modified,\n    name,\n    tasks,\n    template_details,\n    template_id,\n  } = plan;\n\n  const redirectToJobExplorer = (templateId) => {\n    const { jobExplorer } = Paths;\n    const initialQueryParams = {\n      'job-explorer.quick_date_range': 'last_30_days',\n      'job-explorer.status': ['failed', 'successful'],\n      'job-explorer.template_id': templateId,\n    };\n    const search = stringify(initialQueryParams, { arrayFormat: 'bracket' });\n    history.push({\n      pathname: jobExplorer,\n      search,\n    });\n  };\n\n  const showTemplate = (template_details) => {\n    if (!template_details.id) {\n      return;\n    }\n\n    return (\n      <a onClick={() => redirectToJobExplorer(template_details.id)}>\n        {template_details.name}\n      </a>\n    );\n  };\n\n  const renderOptionsBasedValue = (key, val) => {\n    const fromOptionsValue = (options[key] || []).find(\n      ({ key: apiValue }) => apiValue === val\n    );\n    return (fromOptionsValue || {}).value;\n  };\n\n  const labelsAndValues = {\n    Name: name || undefined,\n    'Automation type': category\n      ? renderOptionsBasedValue('category', category)\n      : undefined,\n    Description: description || undefined,\n    'Manual time': manual_time\n      ? renderOptionsBasedValue('manual_time', manual_time)\n      : undefined,\n    'Run on hosts': hosts || undefined,\n    Frequency: frequency_period\n      ? renderOptionsBasedValue('frequency_period', frequency_period)\n      : undefined,\n    Template: template_id ? showTemplate(template_details) : undefined,\n    'Last job status':\n      automation_status.status && automation_status.status !== 'None' ? (\n        <JobStatus status={automation_status.status} />\n      ) : (\n        <Label variant=\"outline\" color=\"red\" icon={<ExclamationCircleIcon />}>\n          Not Running\n        </Label>\n      ),\n    'Last updated': modified ? (\n      <span>{formatDateTime(modified)}</span>\n    ) : undefined,\n  };\n\n  const { request: deletePlans, error: deleteError } = useRequest(\n    useCallback(async () => {\n      await deletePlan({ id });\n      history.push(`/savings-planner`);\n    }, [id, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  return (\n    <>\n      {plan && (\n        <>\n          <CardBody>\n            <RoutedTabs tabsArray={tabsArray} />\n            <div style={{ padding: '1rem' }}>\n              <DescriptionList isHorizontal columnModifier={{ lg: '3Col' }}>\n                {Object.keys(labelsAndValues).map(\n                  (key, i) =>\n                    labelsAndValues[key] !== undefined && (\n                      <DescriptionListGroup key={i}>\n                        <DescriptionListTerm>{key}</DescriptionListTerm>\n                        <DescriptionListDescription>\n                          {labelsAndValues[key]}\n                        </DescriptionListDescription>\n                      </DescriptionListGroup>\n                    )\n                )}\n              </DescriptionList>\n              {tasks.length > 0 && (\n                <DescriptionList>\n                  <Divider component=\"div\" />\n                  <DescriptionListGroup key={tasks}>\n                    <DescriptionListTerm>Tasks</DescriptionListTerm>\n                    <DescriptionListDescription>\n                      <List component=\"ol\" type=\"1\">\n                        {tasks.map(({ id, task }) => (\n                          <ListItem key={id}>{task}</ListItem>\n                        ))}\n                      </List>\n                    </DescriptionListDescription>\n                  </DescriptionListGroup>\n                </DescriptionList>\n              )}\n            </div>\n          </CardBody>\n          {canWrite && (\n            <CardFooter>\n              <CardActionsRow>\n                <Button\n                  key=\"edit-plan-button\"\n                  variant=\"primary\"\n                  aria-label=\"Edit plan\"\n                  onClick={() => {\n                    history.push({\n                      pathname: `${pathname.split('/details')[0]}/edit`,\n                    });\n                  }}\n                >\n                  Edit\n                </Button>\n                <DeleteButton\n                  key={'delete-plan-button'}\n                  name={name}\n                  modalTitle={'Delete Plan'}\n                  onConfirm={deletePlans}\n                >\n                  {'Delete'}\n                </DeleteButton>\n              </CardActionsRow>\n              {error && (\n                <AlertModal\n                  isOpen={!!error}\n                  onClose={dismissError}\n                  title={'Error'}\n                  variant=\"error\"\n                >\n                  <ErrorDetail error={error.detail} />\n                </AlertModal>\n              )}\n            </CardFooter>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nDetailsTab.propTypes = {\n  plan: PropTypes.object,\n  tabsArray: PropTypes.array,\n  canWrite: PropTypes.bool.isRequired,\n  options: PropTypes.object.isRequired,\n};\n\nexport default DetailsTab;\n","var hoursFormatter = function (n) {\n    return (+n.toFixed(0)).toLocaleString() + \" hours\";\n}; /* 2,500 hours */\nexport default hoursFormatter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Card, CardBody, CardTitle, Title } from '@patternfly/react-core';\nimport currencyFormatter from '../../../../../Utilities/currencyFormatter';\nimport hoursFormatter from '../../../../../Utilities/hoursFormatter';\nvar TotalSavings = function (_a) {\n    var _b = _a.value, value = _b === void 0 ? 0 : _b, _c = _a.isMoney, isMoney = _c === void 0 ? true : _c;\n    return (React.createElement(Card, { isPlain: true },\n        React.createElement(CardTitle, { style: { paddingBottom: '0' } }, \"Total savings\"),\n        React.createElement(CardBody, null,\n            React.createElement(Title, { headingLevel: \"h3\", size: \"4xl\", style: { color: isMoney ? '#81C46B' : '#0063CF' } }, isMoney ? \"\" + currencyFormatter(value) : \"\" + hoursFormatter(value)))));\n};\nTotalSavings.propTypes = {\n    value: PropTypes.number,\n    isMoney: PropTypes.bool,\n};\nexport default TotalSavings;\n","import React, { useState } from 'react';\nimport { Button, ButtonVariant, CodeBlock, CodeBlockCode, Modal, ModalVariant, } from '@patternfly/react-core';\nimport { InfoCircleIcon } from '@patternfly/react-icons';\nvar CostsText = function () { return (React.createElement(React.Fragment, null,\n    React.createElement(\"p\", null,\n        React.createElement(\"strong\", null, \"Cost\")),\n    React.createElement(\"p\", null, \"The cost includes the hours spent in implementation, deployment, training and other expenditures for creating, maintaining and running the automation. These hours (cost of investment) are usually higher at the onset, and will be greatly reduced once the automation has been created and only maintenance is required.\"),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"For the initial period and the first year, we assume approximately 10 hours spent on each host, as well as some buffer time and a 40% risk adjustment to account for unforeseen situations.\"),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"For the next two years after the first year, we assume 4 hours spent on each host, as well as a 40% risk adjustment to account for unforeseen situations.\"),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"The formula used to calculate cost for the initial period and year 1:\"),\n    React.createElement(CodeBlock, null,\n        React.createElement(CodeBlockCode, null, \"C1 = (time for a manual run on one host in hours * 10) + buffer time\\nC2 = C1 * 40% risk adjustment\\ninitial cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)\\nyear 1 cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)\")),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"The formula used to calculate cost for years 2 and 3:\"),\n    React.createElement(CodeBlock, null,\n        React.createElement(CodeBlockCode, null, \"C1 = (time for a manual run on one host in hours * 4)\\nC2 = C1 * 40% risk adjustment\\nyear 2 cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)\\nyear 3 cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)\")))); };\nvar SavingsText = function () { return (React.createElement(React.Fragment, null,\n    React.createElement(\"p\", null,\n        React.createElement(\"strong\", null, \"Savings\")),\n    React.createElement(\"p\", null, \"The savings indicates the time and money saved as a result of automating the plan.\"),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"We assume 50% productivity recapture to account for the productivity that is usually gained by repeated manual implementation of a task over a period of time. We also add a -5% risk adjustment for unforeseen situations that might arise and need to be handled. We also assume a 15% year over year growth in savings.\"),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"Money savings for the initial period is 0, so there is no formula necessary.\"),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"The formula used to calculate savings for year 0:\"),\n    React.createElement(CodeBlock, null,\n        React.createElement(CodeBlockCode, null, \"initial period savings = 0 - initial cost\")),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"The formula used for savings for year 1:\"),\n    React.createElement(CodeBlock, null,\n        React.createElement(CodeBlockCode, null, \"S1 = (number of hosts * (manual time in minutes / 60) * yearly frequency of automation)\\nS2 = S1 * 50% productivity recapture\\nS3 = S2 * 5% risk adjustment * (cost per hour in USD if applicable, based on display)\\nyear 1 savings = S2 - S3 - year 1 cost\")),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"The formula used to calculate savings for year 2:\"),\n    React.createElement(CodeBlock, null,\n        React.createElement(CodeBlockCode, null, \"S1 = year 1 savings * 15% growth\\nyear 2 savings = year 1 savings + S1 - year 2 cost\")),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"The formula used to calculate savings for year 3:\"),\n    React.createElement(CodeBlock, null,\n        React.createElement(CodeBlockCode, null, \"S2 = year 2 savings * 15% growth\\nyear 3 savings = year 2 savings + S2 - year 3 cost\")))); };\nvar FormulaDescription = function () {\n    var _a = useState(false), isOpen = _a[0], setIsOpen = _a[1];\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Button, { variant: \"link\", onClick: function () { return setIsOpen(true); }, icon: React.createElement(InfoCircleIcon, null) }, \"Automation formula\"),\n        React.createElement(Modal, { title: \"Automation formula\", isOpen: isOpen, onClose: function () { return setIsOpen(false); }, variant: ModalVariant.medium, actions: [\n                React.createElement(Button, { key: \"cancel\", variant: ButtonVariant.primary, onClick: function () { return setIsOpen(false); } }, \"Close\"),\n            ] },\n            React.createElement(\"p\", null, \"We use risk-adjusted factors to create the 3-year projection of cost and savings related to automation. While we aim to provide as accurate an account of the cost and savings as possible, actual values may differ in practice. The following information breaks down where we get the data, the risk-adjustment factors we use, the assumptions we make, and the formula used to compute the values as displayed in the chart.\"),\n            React.createElement(\"br\", null),\n            React.createElement(CostsText, null),\n            React.createElement(\"br\", null),\n            React.createElement(SavingsText, null))));\n};\nexport default FormulaDescription;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Card, CardActions, CardBody, CardHeader, CardTitle, Grid, GridItem, List, ListItem, ToggleGroup, ToggleGroupItem, } from '@patternfly/react-core';\nimport { SquareFullIcon } from '@patternfly/react-icons';\nimport ChartRenderer, { functions, ChartKind, ChartThemeColor, ChartType, ChartTopLevelType, ApiType, } from 'react-json-chart-builder';\nimport RoutedTabs from '../../../../Components/RoutedTabs';\nimport TotalSavings from './TotalSavings';\nimport FormulaDescription from './FormulaDescription';\nimport currencyFormatter from '../../../../Utilities/currencyFormatter';\nimport hoursFormatter from '../../../../Utilities/hoursFormatter';\nvar yearLabels = {\n    initial: 'Initial',\n    year1: 'Year 1',\n    year2: 'Year 2',\n    year3: 'Year 3',\n};\nvar getChartData = function (data) {\n    var statsData = Object.keys(yearLabels).map(function (year) { return ({\n        year: yearLabels[year],\n        total_costs: +data.projections.monetary_stats.total_costs[year] * -1,\n        total_benefits: +data.projections.monetary_stats.total_benefits[year],\n        cumulative_net_benefits: +data.projections.monetary_stats.cumulative_net_benefits[year],\n        total_hours_spent_risk_adjusted: +data.projections.time_stats.total_hours_spent_risk_adjusted[year] * -1,\n        total_hours_saved: +data.projections.time_stats.total_hours_saved[year],\n        cumulative_time_net_benefits: +data.projections.time_stats.cumulative_time_net_benefits[year],\n    }); });\n    return { items: statsData, type: ApiType.nonGrouped, response_type: '' };\n};\nvar constants = function (isMoney) { return ({\n    cost: {\n        key: isMoney ? 'total_costs' : 'total_hours_spent_risk_adjusted',\n        color: '#8B8D8F',\n    },\n    benefit: {\n        key: isMoney ? 'total_benefits' : 'total_hours_saved',\n        color: isMoney ? '#81C46B' : '#0063CF',\n    },\n    net: {\n        key: isMoney ? 'cumulative_net_benefits' : 'cumulative_time_net_benefits',\n        color: '#EE7A00',\n    },\n}); };\nvar StatisticsTab = function (_a) {\n    var tabsArray = _a.tabsArray, plan = _a.plan;\n    var _b = useState(true), isMoney = _b[0], setIsMoney = _b[1];\n    var customTooltipFormatting = function (datum) {\n        return isMoney ? currencyFormatter(+datum.y) : hoursFormatter(+datum.y);\n    };\n    var computeTotalSavings = function (d) {\n        return isMoney\n            ? d.projections.monetary_stats.cumulative_net_benefits.year3\n            : d.projections.time_stats.cumulative_time_net_benefits.year3;\n    };\n    var barChartData = {\n        charts: [\n            {\n                id: 1000,\n                kind: ChartKind.wrapper,\n                type: ChartTopLevelType.chart,\n                parent: null,\n                props: {\n                    height: 600,\n                    domainPadding: {\n                        x: 100,\n                    },\n                    padding: {\n                        bottom: 60,\n                        left: 80,\n                    },\n                    themeColor: ChartThemeColor.gray,\n                },\n                tooltip: {\n                    cursor: true,\n                    stickToAxis: 'x',\n                    mouseFollow: true,\n                    legendTooltip: {\n                        legendData: [\n                            {\n                                childName: constants(isMoney).benefit.key,\n                                name: 'Savings',\n                                symbol: {\n                                    fill: constants(isMoney).benefit.color,\n                                },\n                            },\n                            {\n                                childName: constants(isMoney).cost.key,\n                                name: 'Costs',\n                                symbol: {\n                                    fill: constants(isMoney).cost.color,\n                                },\n                            },\n                            {\n                                childName: constants(isMoney).net.key,\n                                name: 'Cumulative savings',\n                                symbol: {\n                                    fill: constants(isMoney).net.color,\n                                },\n                            },\n                        ],\n                        titleProperyForLegend: 'year',\n                    },\n                    customFnc: customTooltipFormatting,\n                },\n                xAxis: {\n                    label: 'Time',\n                },\n                yAxis: {\n                    label: isMoney ? 'Money Saved' : 'Hours Saved',\n                    tickFormat: 'formatNumberAsK',\n                    style: {\n                        grid: { stroke: '#D2D2D2' },\n                        axisLabel: { padding: 60 },\n                    },\n                },\n            },\n            {\n                id: 1001,\n                kind: ChartKind.stack,\n                parent: 1000,\n                props: {},\n            },\n            {\n                id: 1102,\n                kind: ChartKind.simple,\n                type: ChartType.bar,\n                name: constants(isMoney).benefit.key,\n                parent: 1001,\n                props: {\n                    x: 'year',\n                    y: constants(isMoney).benefit.key,\n                    barRatio: 0.8,\n                    barWidth: 0,\n                    style: {\n                        data: {\n                            fill: constants(isMoney).benefit.color,\n                            width: 120,\n                        },\n                    },\n                },\n                tooltip: {\n                    labelName: '',\n                },\n            },\n            {\n                id: 1101,\n                kind: ChartKind.simple,\n                type: ChartType.bar,\n                name: constants(isMoney).cost.key,\n                parent: 1001,\n                props: {\n                    x: 'year',\n                    y: constants(isMoney).cost.key,\n                    barRatio: 0.8,\n                    barWidth: 0,\n                    style: {\n                        data: {\n                            fill: constants(isMoney).cost.color,\n                            width: 120,\n                        },\n                    },\n                },\n                tooltip: {\n                    labelName: '',\n                },\n            },\n            {\n                id: 1002,\n                kind: ChartKind.simple,\n                type: ChartType.line,\n                name: constants(isMoney).net.key,\n                parent: 1000,\n                props: {\n                    x: 'year',\n                    y: constants(isMoney).net.key,\n                    style: {\n                        data: {\n                            stroke: constants(isMoney).net.color,\n                            strokeWidth: 5,\n                        },\n                    },\n                },\n                tooltip: {\n                    labelName: '',\n                },\n            },\n        ],\n        functions: __assign(__assign({}, functions), { fetchFnc: function () {\n                return new Promise(function (resolve) {\n                    resolve(getChartData(plan));\n                });\n            } }),\n    };\n    var renderLeft = function () { return (React.createElement(Card, { isPlain: true },\n        React.createElement(CardHeader, null,\n            React.createElement(CardActions, null,\n                React.createElement(ToggleGroup, { \"aria-label\": \"toggleButton\" },\n                    React.createElement(ToggleGroupItem, { text: \"Money\", buttonId: \"money\", isSelected: isMoney, onChange: function () { return setIsMoney(true); } }),\n                    React.createElement(ToggleGroupItem, { text: \"Time\", buttonId: \"time\", isSelected: !isMoney, onChange: function () { return setIsMoney(false); } }))),\n            React.createElement(CardTitle, null, plan.name)),\n        React.createElement(CardBody, null,\n            React.createElement(ChartRenderer, { schema: barChartData.charts, functions: barChartData.functions })))); };\n    var renderRight = function () { return (React.createElement(React.Fragment, null,\n        React.createElement(TotalSavings, { value: computeTotalSavings(plan), isMoney: isMoney }),\n        React.createElement(Card, { isPlain: true },\n            React.createElement(CardBody, null,\n                React.createElement(List, { isPlain: true },\n                    React.createElement(ListItem, { icon: React.createElement(SquareFullIcon, { color: constants(isMoney).benefit.color }) }, \"Savings from automating this plan\"),\n                    React.createElement(ListItem, { icon: React.createElement(SquareFullIcon, { color: constants(isMoney).cost.color }) }, \"Costs from creating, maintaining and running the automation\"),\n                    React.createElement(ListItem, { icon: React.createElement(SquareFullIcon, { color: constants(isMoney).net.color }) }, \"Cumulative savings over time\")))),\n        React.createElement(FormulaDescription, null))); };\n    return (React.createElement(Card, null,\n        React.createElement(RoutedTabs, { tabsArray: tabsArray }),\n        React.createElement(Grid, null,\n            React.createElement(GridItem, { span: 9 }, renderLeft()),\n            React.createElement(GridItem, { span: 3 }, renderRight()))));\n};\nStatisticsTab.propTypes = {\n    /* eslint-disable-next-line */\n    /* @ts-ignore: Validation error */\n    plan: PropTypes.object.isRequired,\n    tabsArray: PropTypes.arrayOf(PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        link: PropTypes.string.isRequired,\n        name: PropTypes.node.isRequired,\n    }).isRequired).isRequired,\n};\nexport default StatisticsTab;\n","import React, { useCallback, useEffect } from 'react';\nimport { Redirect, useParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { readPlanOptions } from '../../../Api/';\nimport { Paths } from '../../../paths';\n\nimport Form from '../Shared/Form';\nimport useRequest from '../../../Utilities/useRequest';\n\nconst Edit = ({ data }) => {\n  const { id } = useParams();\n\n  const {\n    result: options,\n    isSuccess,\n    request: fetchPlanOptions,\n  } = useRequest(\n    useCallback(() => readPlanOptions(), []),\n    {}\n  );\n\n  useEffect(() => {\n    fetchPlanOptions();\n  }, [fetchPlanOptions]);\n\n  const canWrite =\n    isSuccess &&\n    (options?.meta?.rbac?.perms?.write === true ||\n      options?.meta?.rbac?.perms?.all === true);\n\n  const renderContent = () => {\n    if (!isSuccess) return null;\n\n    return canWrite ? (\n      <Form title=\"Edit plan\" options={options} data={data} />\n    ) : (\n      <Redirect to={`${Paths.savingsPlanner}/${id}`} />\n    );\n  };\n\n  return renderContent();\n};\n\nEdit.propTypes = {\n  data: PropTypes.object.isRequired,\n};\n\nexport default Edit;\n","import React, { useEffect, useCallback } from 'react';\nimport {\n  useHistory,\n  useParams,\n  useLocation,\n  Route,\n  Switch,\n} from 'react-router-dom';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card, EmptyState } from '@patternfly/react-core';\nimport Main from '@redhat-cloud-services/frontend-components/Main';\n\nimport DetailsTab from './DetailsTab';\nimport StatisticsTab from './StatisticsTab';\nimport ApiErrorState from '../../../Components/ApiErrorState';\n\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\n\nimport Breadcrumbs from '../../../Components/Breadcrumbs';\n\nimport { preflightRequest, readPlan, readPlanOptions } from '../../../Api/';\n\nimport SavingsPlanEdit from '../Edit';\nimport useRequest from '../../../Utilities/useRequest';\n\nconst Details = () => {\n  const { id } = useParams();\n  const location = useLocation();\n  const history = useHistory();\n\n  const queryParams = { id: [id] };\n\n  let pageTitle = 'Details';\n  if (location.pathname.indexOf('/statistics') !== -1) {\n    pageTitle = 'Statistics';\n  } else if (location.pathname.indexOf('/edit') !== -1) {\n    pageTitle = 'Edit plan';\n  }\n\n  const { error: preflightError, request: setPreflight } = useRequest(\n    useCallback(() => preflightRequest(), [])\n  );\n\n  const {\n    result: options,\n    error,\n    request: fetchOptions,\n  } = useRequest(() => readPlanOptions(), {});\n\n  const {\n    result: { rbac, plan },\n    isSuccess: planIsSuccess,\n    request: fetchEndpoints,\n  } = useRequest(\n    useCallback(() => readPlan(id), [id]),\n    { plan: {}, rbac: [] }\n  );\n\n  useEffect(() => {\n    fetchOptions();\n    setPreflight();\n\n    const unlisten = history.listen(({ pathname }) => {\n      if (!pathname.includes('/edit')) fetchEndpoints();\n    });\n\n    return unlisten;\n  }, []);\n\n  useEffect(() => {\n    fetchEndpoints();\n  }, [id]);\n\n  const canWrite =\n    planIsSuccess && (rbac.perms?.write === true || rbac.perms?.all === true);\n\n  const tabsArray = [\n    {\n      id: 0,\n      name: (\n        <>\n          <CaretLeftIcon />\n          {'Back to Plans'}\n        </>\n      ),\n      link: `/savings-planner`,\n    },\n    { id: 1, name: 'Details', link: `/savings-planner/${id}/details` },\n    {\n      id: 2,\n      name: 'Statistics',\n      link: `/savings-planner/${id}/statistics`,\n    },\n  ];\n\n  const breadcrumbUrl = `/savings-planner/${id}`;\n  const breadcrumbsItems = planIsSuccess\n    ? [\n        { title: 'Savings Planner', navigate: '/savings-planner' },\n        { title: plan.name, navigate: breadcrumbUrl },\n      ]\n    : [];\n\n  if (preflightError) {\n    return <EmptyState preflightError={preflightError} />;\n  }\n\n  return (\n    <>\n      {error && <ApiErrorState message={error.error} />}\n      {planIsSuccess && (\n        <>\n          <PageHeader>\n            <Breadcrumbs items={breadcrumbsItems} />\n            <PageHeaderTitle title={pageTitle} />\n          </PageHeader>\n          <Main>\n            <Card>\n              <Switch>\n                <Route exact path=\"/savings-planner/:id/edit\">\n                  <SavingsPlanEdit data={plan} />\n                </Route>\n                <Route exact path=\"/savings-planner/:id/statistics\">\n                  <StatisticsTab\n                    tabsArray={tabsArray}\n                    plan={plan}\n                    queryParams={queryParams}\n                  />\n                </Route>\n                <Route\n                  exact\n                  path={[\n                    '/savings-planner/:id',\n                    '/savings-planner/:id/details',\n                  ]}\n                >\n                  <DetailsTab\n                    plan={plan}\n                    tabsArray={tabsArray}\n                    canWrite={canWrite}\n                    options={options}\n                  />\n                </Route>\n              </Switch>\n            </Card>\n          </Main>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Details;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Title,\n  EmptyState,\n  EmptyStateIcon,\n  EmptyStateBody,\n  Button,\n} from '@patternfly/react-core';\nimport { AddCircleOIcon, SearchIcon } from '@patternfly/react-icons';\nimport { useHistory } from 'react-router-dom';\n\nconst EmptyList = ({\n  label = '',\n  title = 'No items found.',\n  message = '',\n  canAdd = false,\n  path,\n}) => {\n  const history = useHistory();\n\n  return (\n    <EmptyState variant=\"full\">\n      <EmptyStateIcon icon={canAdd ? AddCircleOIcon : SearchIcon} />\n      <Title size=\"lg\" headingLevel=\"h3\">\n        {title}\n      </Title>\n      <EmptyStateBody>{message}</EmptyStateBody>\n      {canAdd && (\n        <Button\n          key=\"add-item-button\"\n          variant=\"primary\"\n          aria-label={label}\n          onClick={() => {\n            history.push({\n              pathname: path,\n            });\n          }}\n        >\n          {label}\n        </Button>\n      )}\n    </EmptyState>\n  );\n};\n\nEmptyList.propTypes = {\n  canAdd: PropTypes.bool,\n  label: PropTypes.string,\n  message: PropTypes.string,\n  title: PropTypes.string,\n  path: PropTypes.string.isRequired,\n};\n\nexport default EmptyList;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { stringify } from 'query-string';\nimport { useHistory, Link, useRouteMatch } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport {\n  Card,\n  CardHeader,\n  CardHeaderMain,\n  CardActions,\n  CardTitle as PFCardTitle,\n  CardBody,\n  CardFooter,\n  Checkbox as PFCheckbox,\n  Dropdown,\n  DropdownItem,\n  KebabToggle,\n  Label,\n} from '@patternfly/react-core';\nimport { ExclamationCircleIcon } from '@patternfly/react-icons';\n\nimport { Paths } from '../../../../paths';\n\nimport currencyFormatter from '../../../../Utilities/currencyFormatter';\nimport { formatDateTime } from '../../../../Utilities/helpers';\n\nimport JobStatus from '../../../../Components/JobStatus';\n\nconst CardTitle = styled(PFCardTitle)`\n  word-break: break-word;\n`;\n\nconst CardLabel = styled.span`\n  margin-right: 5px;\n  font-weight: bold;\n`;\n\nconst Small = styled.small`\n  display: block;\n  margin-bottom: 10px;\n  color: #6a6e73;\n`;\n\nconst Checkbox = styled(PFCheckbox)`\n  &.pf-c-check.pf-m-standalone {\n    margin-top: -3px;\n  }\n`;\n\nconst CardDetail = styled.div`\n  display: flex;\n  min-height: 30px;\n  align-items: center;\n`;\n\nconst ListItem = ({\n  isSuccess,\n  plan,\n  selected = [],\n  handleSelect = () => {},\n  canWrite,\n  options,\n}) => {\n  const {\n    id,\n    automation_status,\n    category,\n    description,\n    frequency_period,\n    modified,\n    name,\n    template_details,\n    projections,\n  } = plan;\n\n  const projectedSavings =\n    projections?.monetary_stats?.cumulative_net_benefits?.year3;\n\n  const [isCardKebabOpen, setIsCardKebabOpen] = useState(false);\n  const match = useRouteMatch();\n  let history = useHistory();\n\n  const redirectToJobExplorer = (templateId) => {\n    const { jobExplorer } = Paths;\n    const initialQueryParams = {\n      'job-explorer.quick_date_range': 'last_30_days',\n      'job-explorer.status': ['failed', 'successful'],\n      'job-explorer.template_id': templateId,\n    };\n    const search = stringify(initialQueryParams, { arrayFormat: 'bracket' });\n    history.push({\n      pathname: jobExplorer,\n      search,\n    });\n  };\n\n  const renderTemplateLink = (template) => {\n    return template && isSuccess ? (\n      <a onClick={() => redirectToJobExplorer(template.id)}>{template.name}</a>\n    ) : null;\n  };\n\n  const renderOptionsBasedValue = (key, val) => {\n    return options[key].find(({ key: apiValue }) => apiValue === val).value;\n  };\n\n  const kebabDropDownItems = [\n    <React.Fragment key={id}>\n      <DropdownItem\n        key=\"edit\"\n        onClick={() => history.push(`${match.url}/${id}/edit`)}\n        position=\"right\"\n      >\n        Edit\n      </DropdownItem>\n      <DropdownItem\n        key=\"link\"\n        onClick={() => history.push(`${match.url}/${id}/edit#tasks`)}\n        position=\"right\"\n      >\n        Manage tasks\n      </DropdownItem>\n      <DropdownItem\n        key=\"link\"\n        onClick={() => history.push(`${match.url}/${id}/edit#link_template`)}\n        position=\"right\"\n      >\n        Link template\n      </DropdownItem>\n    </React.Fragment>,\n  ];\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardHeaderMain>\n          <CardTitle>\n            <Link to={`${match.url}/${id}`}>{name}</Link>\n          </CardTitle>\n        </CardHeaderMain>\n        {canWrite && (\n          <CardActions>\n            <Dropdown\n              onSelect={() => {}}\n              toggle={\n                <KebabToggle\n                  onToggle={() => setIsCardKebabOpen(!isCardKebabOpen)}\n                />\n              }\n              isOpen={isCardKebabOpen}\n              isPlain\n              dropdownItems={kebabDropDownItems}\n              position={'right'}\n            />\n            <Checkbox\n              onChange={() => handleSelect(plan)}\n              isChecked={selected.some((row) => row.id === plan.id)}\n              aria-label=\"card checkbox\"\n              id=\"check-1\"\n              name=\"check1\"\n            />\n          </CardActions>\n        )}\n      </CardHeader>\n      <CardBody>\n        {description ? <Small>{description}</Small> : null}\n        <CardDetail>\n          <CardLabel>Frequency</CardLabel>{' '}\n          {frequency_period ? (\n            renderOptionsBasedValue('frequency_period', frequency_period)\n          ) : (\n            <span>None</span>\n          )}\n        </CardDetail>\n        <CardDetail>\n          <CardLabel>Template</CardLabel>{' '}\n          {Object.keys(template_details || {}).length !== 0 ? (\n            renderTemplateLink(template_details)\n          ) : (\n            <span>\n              None -{' '}\n              <a\n                onClick={() =>\n                  history.push(`${match.url}/${id}/edit#link_template`)\n                }\n              >\n                Link template\n              </a>\n            </span>\n          )}\n        </CardDetail>\n        <CardDetail>\n          <CardLabel>Last job status</CardLabel>\n          {automation_status.status !== 'None' ? (\n            <JobStatus status={automation_status.status} />\n          ) : (\n            <Label\n              variant=\"outline\"\n              color=\"red\"\n              icon={<ExclamationCircleIcon />}\n            >\n              Not Running\n            </Label>\n          )}\n        </CardDetail>\n        {projectedSavings && (\n          <CardDetail>\n            <CardLabel>Projected savings</CardLabel>\n            <a onClick={() => history.push(`${match.url}/${id}/statistics`)}>\n              {currencyFormatter(+projectedSavings)}\n            </a>\n          </CardDetail>\n        )}\n        <CardDetail>\n          <CardLabel>Last updated</CardLabel>{' '}\n          <span>{formatDateTime(modified)}</span>\n        </CardDetail>\n      </CardBody>\n      <CardFooter>\n        <Label>{renderOptionsBasedValue('category', category)}</Label>\n      </CardFooter>\n    </Card>\n  );\n};\n\nListItem.propTypes = {\n  isSuccess: PropTypes.bool.isRequired,\n  canWrite: PropTypes.bool.isRequired,\n  selected: PropTypes.array,\n  handleSelect: PropTypes.func,\n  plan: PropTypes.object,\n  options: PropTypes.object,\n};\n\nexport default ListItem;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Tooltip } from '@patternfly/react-core';\nimport AlertModal from '../AlertModal';\n\nimport { getRelatedResourceDeleteCounts } from '../../Utilities/getRelatedResourceDeleteDetails';\n\nimport ErrorDetail from '../ErrorDetail';\n\nconst requiredField = (props) => {\n  const { name, username, image } = props;\n  if (!name && !username && !image) {\n    return new Error(\n      `One of 'name', 'username' or 'image' is required by ItemToDelete component.`\n    );\n  }\n  if (name) {\n    PropTypes.checkPropTypes(\n      {\n        name: PropTypes.string,\n      },\n      { name: props.name },\n      'prop',\n      'ItemToDelete'\n    );\n  }\n  if (username) {\n    PropTypes.checkPropTypes(\n      {\n        username: PropTypes.string,\n      },\n      { username: props.username },\n      'prop',\n      'ItemToDelete'\n    );\n  }\n  if (image) {\n    PropTypes.checkPropTypes(\n      {\n        image: PropTypes.string,\n      },\n      { image: props.image },\n      'prop',\n      'ItemToDelete'\n    );\n  }\n  return null;\n};\n\nconst ToolbarDeleteButton = ({\n  itemsToDelete,\n  pluralizedItemName = 'Items',\n  onDelete,\n  errorMessage = 'Error while deleting',\n  deleteDetailsRequests = [],\n  cannotDelete = (item) => !item,\n}) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [deleteDetails, setDeleteDetails] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [deleteMessageError, setDeleteMessageError] = useState('');\n  const handleDelete = () => {\n    onDelete();\n    toggleModal();\n  };\n\n  const toggleModal = async (isOpen) => {\n    setIsLoading(true);\n    setDeleteDetails(null);\n    if (\n      isOpen &&\n      itemsToDelete.length === 1 &&\n      deleteDetailsRequests?.length > 0\n    ) {\n      const { results, error } = await getRelatedResourceDeleteCounts(\n        deleteDetailsRequests\n      );\n\n      if (error) {\n        setDeleteMessageError(error);\n      } else {\n        setDeleteDetails(results);\n      }\n    }\n    setIsLoading(false);\n    setIsModalOpen(isOpen);\n  };\n\n  const renderTooltip = () => {\n    const itemsUnableToDelete = itemsToDelete\n      .filter(cannotDelete)\n      .map((item) => item.name || item.username)\n      .join(', ');\n\n    if (itemsToDelete.some(cannotDelete)) {\n      return (\n        <div>\n          {errorMessage ? (\n            <>\n              <span>{errorMessage}</span>\n              <span>{`: ${itemsUnableToDelete}`}</span>\n            </>\n          ) : (\n            `You do not have permission to delete ${pluralizedItemName}: ${itemsUnableToDelete}`\n          )}\n        </div>\n      );\n    }\n    if (itemsToDelete.length) {\n      return 'Delete';\n    }\n    return 'Select a plan to delete';\n  };\n\n  const modalTitle = `Delete ${pluralizedItemName}?`;\n\n  const isDisabled =\n    itemsToDelete.length === 0 || itemsToDelete.some(cannotDelete);\n\n  if (deleteMessageError) {\n    return (\n      <AlertModal\n        isOpen={!!deleteMessageError}\n        title={'Error!'}\n        onClose={() => {\n          toggleModal(false);\n          setDeleteMessageError();\n        }}\n      >\n        <ErrorDetail error={deleteMessageError.detail} />\n      </AlertModal>\n    );\n  }\n\n  return (\n    <>\n      <Tooltip content={renderTooltip()} position=\"top\">\n        <div>\n          <Button\n            variant=\"secondary\"\n            ouiaId=\"delete-button\"\n            spinnerAriaValueText={isLoading ? 'Loading' : undefined}\n            aria-label={'Delete'}\n            onClick={() => toggleModal(true)}\n            isDisabled={isDisabled}\n          >\n            {'Delete'}\n          </Button>\n        </div>\n      </Tooltip>\n\n      {isModalOpen && (\n        <AlertModal\n          variant=\"danger\"\n          title={modalTitle}\n          isOpen={isModalOpen}\n          onClose={() => toggleModal(false)}\n          actions={[\n            <Button\n              ouiaId=\"delete-modal-confirm\"\n              key=\"delete\"\n              variant=\"danger\"\n              aria-label={'confirm delete'}\n              isDisabled={Boolean(deleteDetails)}\n              onClick={handleDelete}\n            >\n              {'Delete'}\n            </Button>,\n            <Button\n              key=\"cancel\"\n              variant=\"link\"\n              aria-label={'cancel delete'}\n              onClick={() => toggleModal(false)}\n            >\n              {'Cancel'}\n            </Button>,\n          ]}\n        >\n          <div>{'This action will delete the following:'}</div>\n          {itemsToDelete.map((item) => (\n            <span key={item.id}>\n              <strong>{item.name || item.username || item.image}</strong>\n              <br />\n            </span>\n          ))}\n        </AlertModal>\n      )}\n    </>\n  );\n};\n\nToolbarDeleteButton.propTypes = {\n  itemsToDelete: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      name: requiredField,\n      username: requiredField,\n      image: requiredField,\n    })\n  ).isRequired,\n  pluralizedItemName: PropTypes.string,\n  onDelete: PropTypes.func.isRequired,\n  errorMessage: PropTypes.string,\n  warningMessage: PropTypes.node,\n  deleteDetailsRequests: PropTypes.array,\n  cannotDelete: PropTypes.func,\n  deleteMessage: PropTypes.string,\n};\n\nexport default ToolbarDeleteButton;\n","import React, { useCallback, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { Button, Gallery, PaginationVariant } from '@patternfly/react-core';\n\nimport {\n  deletePlan,\n  preflightRequest,\n  readPlanOptions,\n  readPlans,\n} from '../../../Api/';\nimport FilterableToolbar from '../../../Components/Toolbar';\nimport ApiErrorState from '../../../Components/ApiErrorState';\nimport LoadingState from '../../../Components/LoadingState';\nimport EmptyState from '../../../Components/EmptyState';\nimport EmptyList from '../../../Components/EmptyList';\nimport Pagination from '../../../Components/Pagination';\nimport PlanCard from './ListItem';\nimport { useQueryParams } from '../../../Utilities/useQueryParams';\nimport { savingsPlanner } from '../../../Utilities/constants';\n\nimport ToolbarDeleteButton from '../../../Components/Toolbar/ToolbarDeleteButton';\nimport useSelected from '../../../Utilities/useSelected';\nimport useRequest, { useDeleteItems } from '../../../Utilities/useRequest';\nimport ErrorDetail from '../../../Components/ErrorDetail';\nimport AlertModal from '../../../Components/AlertModal';\nimport { getQSConfig } from '../../../Utilities/qs';\n\nconst PageContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 76px);\n`;\n\nconst Footer = styled.div`\n  flex-shrink: 0;\n`;\n\nconst FlexMain = styled(Main)`\n  flex-grow: 1;\n`;\nconst qsConfig = getQSConfig(\n  'savings-planner',\n  { ...savingsPlanner.defaultParams },\n  ['limit', 'offset']\n);\n\nconst List = () => {\n  const history = useHistory();\n  const { pathname } = useLocation();\n\n  // params from toolbar/searchbar\n  const { queryParams, setFromPagination, setFromToolbar } =\n    useQueryParams(qsConfig);\n\n  const { error: preflightError, request: setPreflight } = useRequest(\n    useCallback(() => preflightRequest(), [])\n  );\n\n  const {\n    result: options,\n    error,\n    isSuccess,\n    request: fetchOptions,\n  } = useRequest(\n    useCallback(() => readPlanOptions(), [queryParams]),\n    {}\n  );\n\n  const {\n    result: { data, rbac, total_count },\n    isLoading: itemsIsLoading,\n    isSuccess: itemsIsSuccess,\n    request: fetchEndpoints,\n  } = useRequest(\n    useCallback(async () => {\n      const response = await readPlans(queryParams);\n      return {\n        data: response.items,\n        rbac: response.rbac,\n        total_count: response.meta.total_count,\n      };\n    }, [queryParams]),\n    {\n      data: [],\n      rbac: {},\n      total_count: 0,\n    }\n  );\n\n  const combinedOptions = {\n    ...options,\n    name: [{ key: 'name', value: null }],\n  };\n\n  useEffect(() => {\n    setPreflight();\n  }, []);\n\n  useEffect(() => {\n    fetchOptions();\n    fetchEndpoints();\n  }, [queryParams]);\n\n  const canWrite =\n    itemsIsSuccess &&\n    (rbac?.perms?.write === true || rbac?.perms?.all === true);\n\n  const { selected, handleSelect, setSelected } = useSelected(data);\n\n  const {\n    isLoading: deleteLoading,\n    deletionError,\n    deleteItems: deleteItems,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() =>\n      Promise.all(\n        selected.map((plan) => deletePlan({ id: plan.id })),\n        [selected]\n      )\n    ),\n    {}\n  );\n\n  const handleDelete = async () => {\n    await deleteItems();\n    setSelected([]);\n    fetchEndpoints();\n  };\n\n  const renderContent = () => {\n    if (preflightError) return <EmptyState preflightError={preflightError} />;\n\n    if (error) return <ApiErrorState message={error.error} />;\n\n    if (itemsIsLoading || deleteLoading) return <LoadingState />;\n\n    if (\n      itemsIsSuccess &&\n      data.length === 0 &&\n      !(itemsIsLoading || deleteLoading)\n    )\n      return (\n        <EmptyList\n          label={'Add plan'}\n          title={'No plans found'}\n          message={\n            canWrite\n              ? 'Update the applied filters or add a new plan.'\n              : 'Update the applied filters.'\n          }\n          canAdd={canWrite}\n          path={`${pathname}/add`}\n        />\n      );\n\n    if (itemsIsSuccess && !(itemsIsLoading || deleteLoading))\n      return (\n        <Gallery\n          hasGutter\n          minWidths={{\n            sm: '307px',\n            md: '307px',\n            lg: '307px',\n            xl: '307px',\n            '2xl': '307px',\n          }}\n        >\n          {isSuccess &&\n            itemsIsSuccess &&\n            data.map((datum) => (\n              <PlanCard\n                key={datum.id}\n                isSuccess={itemsIsSuccess}\n                selected={selected}\n                plan={datum}\n                handleSelect={handleSelect}\n                canWrite={canWrite}\n                options={options}\n              />\n            ))}\n        </Gallery>\n      );\n\n    return <></>;\n  };\n\n  return (\n    <PageContainer>\n      <PageHeader>\n        <PageHeaderTitle title={'Savings Planner'} />\n        <FilterableToolbar\n          categories={combinedOptions}\n          filters={queryParams}\n          qsConfig={qsConfig}\n          setFilters={setFromToolbar}\n          additionalControls={[\n            ...(canWrite\n              ? [\n                  <Button\n                    key=\"add-plan-button\"\n                    variant=\"primary\"\n                    aria-label=\"Add plan\"\n                    onClick={() => {\n                      history.push({\n                        pathname: `${pathname}/add`,\n                      });\n                    }}\n                  >\n                    Add plan\n                  </Button>,\n                ]\n              : []),\n            canWrite && isSuccess && data.length > 0 && (\n              <ToolbarDeleteButton\n                key=\"delete-plan-button\"\n                onDelete={handleDelete}\n                itemsToDelete={selected}\n                pluralizedItemName={'Savings plan'}\n              />\n            ),\n          ]}\n          pagination={\n            itemsIsSuccess && data.length > 0 ? (\n              <Pagination\n                count={total_count}\n                params={{\n                  limit: parseInt(queryParams.limit),\n                  offset: parseInt(queryParams.offset),\n                }}\n                qsConfig={qsConfig}\n                setPagination={setFromPagination}\n                isCompact\n              />\n            ) : (\n              <div></div>\n            )\n          }\n        />\n      </PageHeader>\n      <FlexMain>{renderContent()}</FlexMain>\n      {data.length > 0 && !(itemsIsLoading || deleteLoading) && (\n        <Footer>\n          <Pagination\n            count={total_count}\n            params={{\n              limit: parseInt(queryParams.limit),\n              offset: parseInt(queryParams.offset),\n            }}\n            qsConfig={qsConfig}\n            setPagination={setFromPagination}\n            variant={PaginationVariant.bottom}\n          />\n        </Footer>\n      )}\n      {deletionError && (\n        <AlertModal\n          aria-label={'Deletion error'}\n          isOpen={deletionError}\n          onClose={clearDeletionError}\n          title={'Error'}\n          variant=\"error\"\n        >\n          {'Failed to delete one or more plans.'}\n          <ErrorDetail error={deletionError.detail} />\n        </AlertModal>\n      )}\n    </PageContainer>\n  );\n};\n\nexport default List;\n","import { useState } from 'react';\n\n/**\n * useSelected hook provides a way to read and update a selected list\n * Param: array of list items\n * Returns: {\n *  selected: array of selected list items\n *  isAllSelected: boolean that indicates if all items are selected\n *  handleSelect: function that adds and removes items from selected list\n *  setSelected: setter function\n * }\n */\n\nexport default function useSelected(list = []) {\n  const [selected, setSelected] = useState([]);\n  const isAllSelected = selected.length > 0 && selected.length === list.length;\n\n  const handleSelect = (row) => {\n    if (selected.some((s) => s.id === row.id)) {\n      setSelected((prevState) => [...prevState.filter((i) => i.id !== row.id)]);\n    } else {\n      setSelected((prevState) => [...prevState, row]);\n    }\n  };\n  return { selected, isAllSelected, handleSelect, setSelected };\n}\n","export const actions = {\n  SET_NAME: 'SET_NAME',\n  SET_CATEGORY: 'SET_CATEGORY',\n  SET_DESCRIPTION: 'SET_DESCRIPTION',\n  SET_MANUAL_TIME: 'SET_MANUAL_TIME',\n  SET_HOSTS: 'SET_HOSTS',\n  SET_FREQUENCY_PERIOD: 'SET_FREQUENCY_PERIOD',\n  SET_TASKS: 'SET_TASKS',\n  SET_TEMPLATE_ID: 'SET_TEMPLATE_ID',\n};\n","import { useReducer } from 'react';\n\nimport { actions } from './constants';\n\nconst formatPayload = (data) => {\n  data.tasks = data.tasks.map((task, index) => ({\n    task,\n    task_order: index + 1,\n  }));\n\n  if (!data.hosts || data.hosts === '') {\n    data.hosts = 1;\n  }\n\n  // these two are fields the api expects but we don't\n  // have form elements for in the MVP.\n  data.hourly_rate = 50;\n  data.frequency_per_period = 1;\n\n  return data;\n};\n\nconst convertTasks = (tasks = []) => {\n  if (tasks?.length) {\n    return tasks\n      .sort((a, b) => a.task_order - b.task_order)\n      .map(({ task }) => task);\n  }\n  return undefined;\n};\n\nconst usePlanData = (initial) => {\n  const formReducer = (state, { type, value }) => {\n    switch (type) {\n      /* v1 api reducers */\n      case actions.SET_NAME:\n        return {\n          ...state,\n          name: value,\n        };\n      case actions.SET_CATEGORY:\n        return {\n          ...state,\n          category: value,\n        };\n      case actions.SET_DESCRIPTION:\n        return {\n          ...state,\n          description: value,\n        };\n      case actions.SET_MANUAL_TIME:\n        return {\n          ...state,\n          manual_time: value,\n        };\n\n      case actions.SET_HOSTS:\n        return {\n          ...state,\n          hosts: value,\n        };\n      case actions.SET_FREQUENCY_PERIOD:\n        return {\n          ...state,\n          frequency_period: value,\n        };\n      case actions.SET_TASKS:\n        return {\n          ...state,\n          tasks: value,\n        };\n      case actions.SET_TEMPLATE_ID:\n        return {\n          ...state,\n          template_id: value,\n        };\n      default:\n        throw new Error(\n          `usePlanData reducer action type ${type} was not found.`\n        );\n    }\n  };\n\n  const [formData, dispatch] = useReducer(formReducer, {\n    name: initial?.name || '',\n    category: initial?.category || 'system',\n    description: initial?.description || '',\n    manual_time: initial?.manual_time || 240,\n    hosts: initial?.hosts || 1,\n    frequency_period: initial?.frequency_period || 'weekly',\n    tasks: convertTasks(initial?.tasks) || [],\n    template_id: initial?.template_id || -2,\n  });\n\n  return {\n    formData,\n    requestPayload: formatPayload({ ...formData }),\n    dispatch,\n  };\n};\n\nexport default usePlanData;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Form,\n  FormGroup,\n  Grid,\n  Select,\n  SelectOption,\n  TextInput,\n  NumberInput,\n} from '@patternfly/react-core';\n\nimport { actions } from '../../../constants';\n\nimport { isPositiveNum } from '../../../../../../Utilities/helpers';\n\nconst Details = ({ options, formData, dispatch }) => {\n  const { name, category, description, manual_time, hosts, frequency_period } =\n    formData;\n\n  const [categoryIsOpen, setCategoryIsOpen] = useState(false);\n  const [manualTimeIsOpen, setManualTimeIsOpen] = useState(false);\n  const [frequencyPeriodIsOpen, setFrequencyPeriodIsOpen] = useState(false);\n\n  return (\n    <Form>\n      {options && (\n        <Grid hasGutter md={6}>\n          <FormGroup\n            label=\"What do you want to automate?\"\n            isRequired\n            fieldId=\"name-field\"\n          >\n            <TextInput\n              isRequired\n              placeholder=\"Example: Provision NGINX server\"\n              type=\"text\"\n              id=\"name-field\"\n              name=\"name\"\n              value={name}\n              onChange={(newName) =>\n                dispatch({\n                  type: actions.SET_NAME,\n                  value: newName,\n                })\n              }\n            />\n          </FormGroup>\n          <FormGroup label=\"What type of task is it?\" fieldId=\"category-field\">\n            <Select\n              id=\"category-field\"\n              isOpen={categoryIsOpen}\n              variant={'single'}\n              aria-label={'Plan category selector'}\n              maxHeight={390}\n              onToggle={() => setCategoryIsOpen(!categoryIsOpen)}\n              onSelect={(_event, selection) => {\n                dispatch({\n                  type: actions.SET_CATEGORY,\n                  value: selection,\n                });\n                setCategoryIsOpen(false);\n              }}\n              selections={category}\n            >\n              {(options.data?.category || []).map(({ key, value }) => (\n                <SelectOption key={key} value={key}>\n                  {value}\n                </SelectOption>\n              ))}\n            </Select>\n          </FormGroup>\n          <FormGroup\n            label=\"Enter a description of your automation plan\"\n            fieldId=\"description-field\"\n          >\n            <TextInput\n              type=\"text\"\n              placeholder=\"Place description here\"\n              id=\"description-field\"\n              name=\"description\"\n              value={description}\n              onChange={(newDescription) =>\n                dispatch({\n                  type: actions.SET_DESCRIPTION,\n                  value: newDescription,\n                })\n              }\n            />\n          </FormGroup>\n          <FormGroup\n            label=\"How long does it take to do this manually?\"\n            fieldId=\"manual-time-field\"\n          >\n            <Select\n              id=\"manual-time-field\"\n              isOpen={manualTimeIsOpen}\n              variant={'single'}\n              placeholderText=\"Select amount\"\n              aria-label={'Plan time selector'}\n              onToggle={() => setManualTimeIsOpen(!manualTimeIsOpen)}\n              onSelect={(_event, selection) => {\n                dispatch({\n                  type: actions.SET_MANUAL_TIME,\n                  value: selection,\n                });\n                setManualTimeIsOpen(false);\n              }}\n              selections={manual_time}\n            >\n              {(options.data?.manual_time || []).map(({ key, value }) => (\n                <SelectOption key={key} value={key}>\n                  {value}\n                </SelectOption>\n              ))}\n            </Select>\n          </FormGroup>\n          <FormGroup\n            label=\"How many hosts do you plan to run this on?\"\n            fieldId=\"hosts-field\"\n          >\n            <NumberInput\n              inputAriaLabel=\"Number of hosts\"\n              widthChars={8}\n              onChange={(event) => {\n                if (\n                  isPositiveNum(event.target.value) ||\n                  event.target.value.length === 0\n                ) {\n                  dispatch({\n                    type: actions.SET_HOSTS,\n                    value: parseInt(event.target.value),\n                  });\n                }\n              }}\n              onMinus={() =>\n                dispatch({\n                  type: actions.SET_HOSTS,\n                  value: isPositiveNum(hosts) ? hosts - 1 : 0,\n                })\n              }\n              onPlus={() =>\n                dispatch({\n                  type: actions.SET_HOSTS,\n                  value: isPositiveNum(hosts) ? hosts + 1 : 1,\n                })\n              }\n              id=\"hosts-field\"\n              name=\"hosts\"\n              value={hosts}\n              min={0}\n            />\n          </FormGroup>\n          <FormGroup\n            label=\"How often do you do this?\"\n            fieldId=\"frequency-period-field\"\n          >\n            <Select\n              id=\"frequency-period-field\"\n              isOpen={frequencyPeriodIsOpen}\n              variant={'single'}\n              placeholderText=\"Select frequency period\"\n              aria-label={'Plan frequency period selector'}\n              onToggle={() => {\n                setFrequencyPeriodIsOpen(!frequencyPeriodIsOpen);\n              }}\n              onSelect={(_event, selection) => {\n                dispatch({\n                  type: actions.SET_FREQUENCY_PERIOD,\n                  value: selection,\n                });\n                setFrequencyPeriodIsOpen(false);\n              }}\n              selections={frequency_period}\n            >\n              {(options.data?.frequency_period || []).map(({ key, value }) => (\n                <SelectOption key={key} value={key}>\n                  {value}\n                </SelectOption>\n              ))}\n            </Select>\n          </FormGroup>\n        </Grid>\n      )}\n    </Form>\n  );\n};\n\nDetails.propTypes = {\n  options: PropTypes.object.isRequired,\n  formData: PropTypes.object.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default Details;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport {\n  Button,\n  DataList,\n  DataListAction,\n  DataListItem,\n  DataListCell,\n  DataListItemRow,\n  DataListControl,\n  DataListDragButton,\n  DataListItemCells,\n  Form,\n  FormGroup,\n  Grid,\n  InputGroup,\n  TextInput,\n  Title,\n} from '@patternfly/react-core';\nimport { PlusIcon, TimesIcon } from '@patternfly/react-icons';\n\nimport { actions } from '../../../constants';\n\nconst TaskSection = styled.div`\n  margin-top: 20px;\n`;\n\nconst TaskTitle = styled(Title)`\n  margin-bottom: 10px;\n`;\n\nconst TaskDeleteButton = styled(Button)`\n  padding: 0 16px;\n`;\n\nconst DeleteTaskActionSection = styled(DataListAction)`\n  padding: 6px 0;\n`;\n\nconst TaskRow = styled(DataListItemRow)`\n  align-items: center;\n`;\n\nconst Tasks = ({ tasks, dispatch }) => {\n  const setTasks = (val) => {\n    dispatch({ type: actions.SET_TASKS, value: val });\n  };\n\n  const [taskToAdd, setTaskToAdd] = useState('');\n\n  const [liveText, setLiveText] = useState('');\n  const [id, setId] = useState('');\n\n  const onDragStart = (newId) => {\n    setId(newId);\n    setLiveText(`Dragging started for task ${newId}.`);\n  };\n\n  const onDragMove = (oldIndex, newIndex) => {\n    setLiveText(\n      `Dragging task ${id}.  Task ${oldIndex} is now task ${newIndex}.`\n    );\n  };\n\n  const onDragCancel = () => {\n    setLiveText('Dragging cancelled. Tasks list order is unchanged.');\n  };\n\n  const onDragFinish = (newItemOrder) => {\n    setLiveText('Dragging finished');\n    setTasks(newItemOrder.map((val) => val.split('-').slice(0, -1).join('-')));\n  };\n\n  const appendTask = () => {\n    const trimmedTask = taskToAdd.trim();\n    if (trimmedTask !== '') {\n      setTasks([...tasks, trimmedTask]);\n      setTaskToAdd('');\n    }\n  };\n\n  const handleTextKeyDown = (e) => {\n    if (e.key && e.key === 'Enter') {\n      e.preventDefault();\n      appendTask();\n    }\n  };\n\n  const removeTask = (index) => {\n    setTasks(tasks.filter((t, idx) => idx !== index));\n  };\n\n  return (\n    <>\n      <Form>\n        <Grid hasGutter md={6}>\n          <FormGroup\n            label=\"What tasks do you need to accomplish this plan?\"\n            fieldId=\"task-field\"\n          >\n            <InputGroup>\n              <TextInput\n                placeholder=\"Enter a description of each task\"\n                type=\"text\"\n                id=\"task-field\"\n                name=\"task\"\n                value={taskToAdd}\n                onChange={(newTaskName) => setTaskToAdd(newTaskName)}\n                onKeyDown={handleTextKeyDown}\n              />\n              <Button\n                onClick={appendTask}\n                isDisabled={taskToAdd.trim() === ''}\n                variant=\"control\"\n                aria-label=\"Add task\"\n              >\n                <PlusIcon />\n              </Button>\n            </InputGroup>\n          </FormGroup>\n        </Grid>\n      </Form>\n      {tasks.length > 0 && (\n        <TaskSection>\n          <TaskTitle headingLevel=\"h4\" size=\"xl\">\n            Tasks\n          </TaskTitle>\n          <DataList\n            aria-label=\"Draggable list to reorder and remove tasks.\"\n            isCompact\n            onDragFinish={onDragFinish}\n            onDragStart={onDragStart}\n            onDragMove={onDragMove}\n            onDragCancel={onDragCancel}\n            itemOrder={tasks.map((val, idx) => `${val}-${idx}`)}\n          >\n            {tasks.map((task, index) => (\n              <DataListItem\n                aria-labelledby={`cell-${index + 1}`}\n                id={`${task}-${index}`}\n                key={index + 1}\n              >\n                <TaskRow>\n                  <DataListControl>\n                    <DataListDragButton\n                      aria-label=\"Reorder\"\n                      aria-labelledby={`cell-${index + 1}`}\n                      aria-describedby=\"Press space or enter to begin dragging, and use the arrow keys to navigate up or down. Press enter to confirm the drag, or any other key to cancel the drag operation.\"\n                      aria-pressed=\"false\"\n                    />\n                  </DataListControl>\n                  <DataListItemCells\n                    dataListCells={[\n                      <DataListCell key={index + 1}>\n                        <span id={`cell-${index + 1}`}>{`${\n                          index + 1\n                        }. ${task}`}</span>\n                      </DataListCell>,\n                    ]}\n                  />\n                  <DeleteTaskActionSection aria-label=\"Actions\">\n                    <TaskDeleteButton\n                      onClick={() => removeTask(index)}\n                      variant=\"plain\"\n                      aria-label=\"Delete\"\n                    >\n                      <TimesIcon />\n                    </TaskDeleteButton>\n                  </DeleteTaskActionSection>\n                </TaskRow>\n              </DataListItem>\n            ))}\n          </DataList>\n        </TaskSection>\n      )}\n      <div className=\"pf-screen-reader\" aria-live=\"assertive\">\n        {liveText}\n      </div>\n    </>\n  );\n};\n\nTasks.propTypes = {\n  tasks: PropTypes.array.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default Tasks;\n","import React, { useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { parse, stringify } from 'query-string';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nimport {\n  Button,\n  Form,\n  FormGroup,\n  PaginationVariant,\n} from '@patternfly/react-core';\nimport {\n  TableComposable,\n  Thead,\n  Tbody,\n  Tr,\n  Th,\n  Td,\n} from '@patternfly/react-table';\n\nimport LoadingState from '../../../../../../Components/LoadingState';\nimport EmptyState from '../../../../../../Components/EmptyState';\nimport NoResults from '../../../../../../Components/NoResults';\nimport ApiErrorState from '../../../../../../Components/ApiErrorState';\nimport Pagination from '../../../../../../Components/Pagination';\n\nimport { useQueryParams } from '../../../../../../Utilities/useQueryParams';\nimport { getQSConfig } from '../../../../../../Utilities/qs';\n\nimport {\n  preflightRequest,\n  readJobExplorer,\n  readJobExplorerOptions,\n} from '../../../../../../Api/';\n\nimport FilterableToolbar from '../../../../../../Components/Toolbar/';\n\nimport { actions } from '../../../constants';\nimport useRequest from '../../../../../../Utilities/useRequest';\n\nconst ListFooter = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst initialQueryParams = {\n  group_by: 'template',\n  limit: 10,\n  group_by_time: false,\n  offset: 0,\n  sort_options: 'name',\n  sort_order: 'asc',\n  sort_by: 'name:asc',\n};\nconst qsConfig = getQSConfig('job-explorer', { ...initialQueryParams }, [\n  'limit',\n  'offset',\n]);\n\nconst Templates = ({ template_id, dispatch: formDispatch }) => {\n  const { pathname, hash, search } = useLocation();\n  const history = useHistory();\n  const {\n    queryParams,\n    setFromPagination,\n    setFromToolbar,\n    dispatch: queryParamsDispatch,\n  } = useQueryParams(qsConfig);\n\n  const { error: preflightError, request: setPreflight } = useRequest(\n    useCallback(() => preflightRequest(), [])\n  );\n\n  const {\n    result: options,\n    error,\n    isSuccess,\n    request: fetchOptions,\n  } = useRequest(\n    useCallback(() => readJobExplorerOptions(queryParams), [queryParams]),\n    {}\n  );\n\n  const {\n    result: { templates, count },\n    isLoading: templatesIsLoading,\n    isSuccess: templatesIsSuccess,\n    request: fetchEndpoints,\n  } = useRequest(\n    useCallback(async () => {\n      const response = await readJobExplorer(queryParams);\n      return {\n        templates: response.items,\n        count: response.meta.count,\n      };\n    }, [queryParams]),\n    { templates: [], count: 0 }\n  );\n\n  const onSort = (_ev, _idx, dir) => {\n    queryParamsDispatch({\n      type: 'SET_SORT_ORDER',\n      value: { sort_order: dir },\n    });\n  };\n\n  const sortParams = {\n    sort: {\n      sortBy: {\n        direction: queryParams.sort_order,\n      },\n      onSort,\n    },\n  };\n\n  useEffect(() => {\n    insights.chrome.appNavClick({ id: 'savings-planner', secondaryNav: true });\n    setPreflight();\n  }, []);\n\n  const initialSearchParams = parse(search, {\n    arrayFormat: 'bracket',\n    parseBooleans: true,\n    parseNumbers: true,\n  });\n\n  useEffect(() => {\n    history.replace({\n      pathname,\n      hash,\n      search: stringify(\n        { ...initialQueryParams, ...initialSearchParams },\n        { arrayFormat: 'bracket' }\n      ),\n    });\n  }, []);\n\n  useEffect(() => {\n    fetchOptions();\n    fetchEndpoints();\n  }, [queryParams]);\n\n  return (\n    <>\n      {preflightError && <EmptyState preflightError={preflightError} />}\n\n      {isSuccess && (\n        <Form>\n          <FormGroup\n            label=\"Link a template to this plan:\"\n            fieldId=\"template-link-field\"\n          >\n            <FilterableToolbar\n              hideQuickDateRange\n              hideSortOptions\n              categories={options}\n              filters={queryParams}\n              qsConfig={qsConfig}\n              setFilters={setFromToolbar}\n              pagination={\n                <Pagination\n                  count={count}\n                  params={{\n                    limit: queryParams.limit,\n                    offset: queryParams.offset,\n                  }}\n                  qsConfig={qsConfig}\n                  setPagination={setFromPagination}\n                  isCompact\n                />\n              }\n            />\n            {error && <ApiErrorState message={error.error} />}\n            {templatesIsLoading && <LoadingState />}\n            {templatesIsSuccess && templates.length <= 0 && <NoResults />}\n            {templatesIsSuccess && templates.length > 0 && (\n              <TableComposable\n                aria-label=\"Template link table\"\n                variant=\"compact\"\n              >\n                <Thead>\n                  <Tr>\n                    <Th />\n                    <Th {...sortParams}>Name</Th>\n                  </Tr>\n                </Thead>\n                <Tbody>\n                  {templates.map(({ id, name }) => (\n                    <Tr key={`template-detail-${id}`}>\n                      <Td\n                        data-testid={`radio-${id}`}\n                        key={`template-detail-${id}-radio-td`}\n                        select={{\n                          rowIndex: id,\n                          onSelect: (event, isSelected, value) =>\n                            formDispatch({\n                              type: actions.SET_TEMPLATE_ID,\n                              value,\n                            }),\n                          isSelected: template_id === id,\n                          variant: 'radio',\n                        }}\n                      />\n                      <Td>{name}</Td>\n                    </Tr>\n                  ))}\n                </Tbody>\n              </TableComposable>\n            )}\n            <ListFooter>\n              <div>\n                {template_id !== -2 && (\n                  <Button\n                    key=\"clear-selection-button\"\n                    variant=\"link\"\n                    aria-label=\"Clear selection\"\n                    onClick={() => {\n                      formDispatch({\n                        type: actions.SET_TEMPLATE_ID,\n                        value: -2,\n                      });\n                    }}\n                  >\n                    Clear selection\n                  </Button>\n                )}\n              </div>\n              <Pagination\n                count={count}\n                params={{\n                  limit: queryParams.limit,\n                  offset: queryParams.offset,\n                }}\n                qsConfig={qsConfig}\n                setPagination={setFromPagination}\n                variant={PaginationVariant.bottom}\n              />\n            </ListFooter>\n          </FormGroup>\n        </Form>\n      )}\n    </>\n  );\n};\n\nTemplates.propTypes = {\n  template_id: PropTypes.number.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default Templates;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation, Redirect } from 'react-router-dom';\n\nimport {\n  Button,\n  Tooltip,\n  Wizard,\n  WizardFooter,\n  WizardContextConsumer,\n} from '@patternfly/react-core';\n\nimport { Paths } from '../../../../paths';\nimport useRequest from '../../../../Utilities/useRequest';\nimport usePlanData from '../usePlanData';\n\nimport { createPlan, updatePlan } from '../../../../Api/';\n\nimport AlertModal from '../../../../Components/AlertModal/AlertModal';\nimport ErrorDetail from '../../../../Components/ErrorDetail/ErrorDetail';\n\nimport Details from './Steps/Details';\nimport Tasks from './Steps/Tasks';\nimport Templates from './Steps/Templates';\n\nconst Form = ({ title, options, data = {} }) => {\n  const history = useHistory();\n  const { hash, pathname } = useLocation();\n  const [startStep, setStartStep] = useState(null);\n\n  const {\n    result: apiResponse,\n    error,\n    request: setData,\n  } = useRequest(\n    useCallback((requestPayload, id) => {\n      if (requestPayload) {\n        return id ? updatePlan(id, requestPayload) : createPlan(requestPayload);\n      }\n\n      // TODO this should be a promise\n      return {};\n    }, []),\n    data\n  );\n\n  const { formData, requestPayload, dispatch } = usePlanData(data);\n\n  const steps = [\n    {\n      step_number: 1,\n      id: 'details',\n      name: 'Details',\n      component: (\n        <Details options={options} formData={formData} dispatch={dispatch} />\n      ),\n    },\n    {\n      step_number: 2,\n      id: 'tasks',\n      name: 'Tasks',\n      component: <Tasks tasks={formData.tasks} dispatch={dispatch} />,\n    },\n    {\n      step_number: 3,\n      id: 'link_template',\n      name: 'Link template',\n      component: (\n        <Templates template_id={formData.template_id} dispatch={dispatch} />\n      ),\n      nextButtonText: 'Save',\n    },\n  ];\n\n  const CustomFooter = (\n    <WizardFooter>\n      <WizardContextConsumer>\n        {({ activeStep, onNext, onBack, onClose }) => {\n          if (activeStep.step_number !== 3) {\n            return (\n              <>\n                <Button variant=\"primary\" type=\"submit\" onClick={onNext}>\n                  Next\n                </Button>\n                {activeStep.step_number !== 1 && (\n                  <Button variant=\"secondary\" onClick={onBack}>\n                    Back\n                  </Button>\n                )}\n                <Button variant=\"link\" onClick={onClose}>\n                  Cancel\n                </Button>\n              </>\n            );\n          }\n          // Final step buttons\n          return (\n            <>\n              <Tooltip\n                content={\n                  !formData.name || !formData.name === ''\n                    ? 'In order to save this plan, you must enter a name in the details step'\n                    : 'Save this plan'\n                }\n                position=\"top\"\n              >\n                <div>\n                  <Button\n                    variant=\"primary\"\n                    type=\"submit\"\n                    onClick={onSave}\n                    isDisabled={!formData.name || !formData.name === ''}\n                  >\n                    Save\n                  </Button>\n                </div>\n              </Tooltip>\n              <Button variant=\"secondary\" onClick={onBack}>\n                Back\n              </Button>\n              <Button variant=\"link\" onClick={onClose}>\n                Cancel\n              </Button>\n            </>\n          );\n        }}\n      </WizardContextConsumer>\n    </WizardFooter>\n  );\n\n  useEffect(() => {\n    if (pathname.indexOf('/add') === -1 && hash) {\n      setStartStep(steps.find((step) => `#${step.id}` === hash).step_number);\n    } else {\n      history.replace({\n        hash: 'details',\n      });\n      setStartStep(1);\n    }\n  }, []);\n\n  const onStepChange = (newStep) => {\n    history.replace({\n      hash: newStep.id,\n    });\n  };\n\n  const onSave = () => {\n    setData(requestPayload, data?.id);\n  };\n\n  const onClose = () => {\n    if (location.pathname.indexOf('/edit') !== -1) {\n      history.push({\n        pathname: `${Paths.savingsPlanner}/${data?.id}`,\n      });\n    } else {\n      history.push({\n        pathname: Paths.savingsPlanner,\n      });\n    }\n  };\n\n  const reset = () => {\n    setData();\n  };\n\n  return (\n    <>\n      {!error && apiResponse?.plan_created && (\n        <Redirect\n          to={{\n            pathname: `${Paths.savingsPlanner}/${\n              apiResponse.id || apiResponse.plan_created.id\n            }`,\n            state: { reload: true },\n          }}\n        />\n      )}\n      {startStep && (\n        <Wizard\n          navAriaLabel={`${title} steps`}\n          mainAriaLabel={`${title} content`}\n          steps={steps}\n          onGoToStep={onStepChange}\n          onNext={onStepChange}\n          onBack={onStepChange}\n          onSave={onSave}\n          onClose={onClose}\n          footer={CustomFooter}\n          startAtStep={startStep}\n          height=\"calc(100vh - 240px)\"\n        />\n      )}\n      {error && (\n        <AlertModal\n          isOpen={!!error}\n          onClose={() => reset()}\n          title={'Error'}\n          variant=\"error\"\n        >\n          {'There was an error saving the plan.'}\n          <ErrorDetail error={error.detail} />\n        </AlertModal>\n      )}\n    </>\n  );\n};\n\nForm.propTypes = {\n  title: PropTypes.string.isRequired,\n  options: PropTypes.object.isRequired,\n  data: PropTypes.object,\n};\n\nForm.defaultProps = {\n  data: {},\n};\n\nexport default Form;\n","export const jobExplorer = {\n  attributes: [\n    'id',\n    'status',\n    'job_type',\n    'started',\n    'finished',\n    'elapsed',\n    'created',\n    'cluster_name',\n    'org_name',\n    'most_failed_tasks',\n    'host_count',\n    'host_task_count',\n    'failed_host_count',\n    'unreachable_host_count',\n    'changed_host_count',\n    'ok_host_count',\n    'skipped_host_count',\n  ],\n  defaultParams: {\n    status: ['successful', 'failed'],\n    quick_date_range: 'last_30_days',\n    job_type: ['workflowjob', 'job'],\n    org_id: [],\n    cluster_id: [],\n    template_id: [],\n    inventory_id: [],\n    sort_by: 'created:desc',\n    sort_options: 'created',\n    sort_order: 'desc',\n    only_root_workflows_and_standalone_jobs: false,\n    limit: 5,\n    offset: 0,\n  },\n};\n\nexport const roi = {\n  defaultParams: {\n    status: ['successful'],\n    org_id: [],\n    cluster_id: [],\n    template_id: [],\n    inventory_id: [],\n    quick_date_range: 'roi_last_year',\n    job_type: ['job'],\n    sort_options: 'template_productivity_score',\n    sort_order: 'desc',\n    start_date: null,\n    end_date: null,\n    limit: 25,\n    only_root_workflows_and_standalone_jobs: true,\n    attributes: [\n      'successful_hosts_total',\n      'successful_elapsed_total',\n      'total_org_count',\n      'total_cluster_count',\n    ],\n    group_by: 'template',\n    group_by_time: false,\n  },\n};\n\nexport const organizationStatistics = {\n  defaultParams: {\n    status: [],\n    org_id: [],\n    quick_date_range: 'last_30_days',\n    limit: 5,\n    offset: 0,\n    job_type: ['workflowjob', 'job'],\n    cluster_id: [],\n    template_id: [],\n    inventory_id: [],\n    start_date: null,\n    end_date: null,\n  },\n};\n\nexport const clusters = {\n  defaultParams: {\n    status: ['successful', 'failed'],\n    quick_date_range: 'last_30_days',\n    job_type: ['workflowjob', 'job'],\n    group_by_time: true,\n    org_id: [],\n    cluster_id: [],\n    template_id: [],\n    inventory_id: [],\n    only_root_workflows_and_standalone_jobs: false,\n  },\n};\n\nexport const savingsPlanner = {\n  defaultParams: {\n    template_id: [],\n    inventory_id: [],\n    automation_status: [],\n    category: [],\n    frequency_period: [],\n    name: '',\n    limit: 10,\n    offset: 0,\n    sort_options: 'modified',\n    sort_order: 'desc',\n    sort_by: 'modified:desc',\n  },\n};\n\nexport const notAuthorizedParams = {\n  title: 'RBAC Access Denied',\n  description:\n    'User does not have privileges to perform this action. Contact your organization adminstrator(s) for more information.',\n};\n\nexport const arrayFields = [\n  'automation_status',\n  'attributes',\n  'cluster_id',\n  'category',\n  'frequency_period',\n  'host_id',\n  'host_status',\n  'inventory_id',\n  'job_type',\n  'status',\n  'org_id',\n  'template_id',\n];\n","export async function getRelatedResourceDeleteCounts(requests) {\n  const results = {};\n  let error = null;\n  let hasCount = false;\n\n  try {\n    await Promise.all(\n      requests.map(async ({ request, label }) => {\n        const {\n          items: { count },\n        } = await request();\n        if (count > 0) {\n          results[label] = count;\n          hasCount = true;\n        }\n      })\n    );\n  } catch (err) {\n    error = err;\n  }\n\n  return {\n    results: hasCount && results,\n    error,\n  };\n}\n\nexport const relatedResourceDeleteRequests = {\n  savingsPlan: (record, readRecordApi) => [\n    {\n      request: async () => readRecordApi(record.id),\n      label: 'Plan',\n    },\n  ],\n};\n","import moment from 'moment';\n\n/*\n * isNumeric - return true if input is a real number\n */\nexport function isNumeric(val) {\n  if (val === 0 || val === '0') {\n    return true;\n  }\n\n  if (parseInt(val)) {\n    return true;\n  }\n\n  if (parseFloat(val)) {\n    return true;\n  }\n\n  return false;\n}\n\nexport function isPositiveNum(val) {\n  return /^\\d+$/.test(val);\n}\n\nexport function trimStr(str) {\n  return str.toString().replace(/['\"]+/g, '');\n}\n\nexport function formatTotalTime(elapsed) {\n  return new Date(elapsed * 1000).toISOString().substr(11, 8);\n}\n\nexport function formatDateTime(dateTime) {\n  return moment(new Date(dateTime).toISOString()).format('M/D/YYYY h:mm:ssa');\n}\n\nexport function formatDate(date) {\n  return moment(date).format('YYYY-MM-DD');\n}\n\nexport function formatSeconds(seconds) {\n  return moment().startOf('day').seconds(seconds).format('H:mm:ss');\n}\n\nexport function getTotal(data) {\n  if (!data) {\n    return;\n  } else {\n    let total = 0;\n    data.forEach((datum) => {\n      total += parseInt(datum.count);\n    });\n    return total;\n  }\n}\n\nexport function formatPercentage(val) {\n  if (isNaN(val)) {\n    return;\n  }\n\n  return `${val}%`;\n}\n\nexport const capitalize = (s) => {\n  if (typeof s !== 'string') {\n    return '';\n  }\n\n  return s.charAt(0).toUpperCase() + s.slice(1);\n};\n\nexport function calculateDelta(a, b) {\n  if (!isNumeric(a) || !isNumeric(b)) {\n    return 0;\n  }\n\n  // never return less than zero ...\n  if (b - a < 0) {\n    return 0;\n  }\n\n  return b - a;\n}\n\nexport function today(days = 0) {\n  const date = new Date();\n  date.setDate(date.getDate() + days);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\n\nexport function convertMinsToMs(mins) {\n  if (!parseInt(mins)) {\n    return 0;\n  }\n\n  return mins * 60000;\n}\n\nexport function convertMsToMins(ms) {\n  if (!parseInt(ms)) {\n    return 0;\n  }\n\n  return ms / 60000;\n}\n\nexport function convertSecondsToMins(seconds) {\n  if (!parseInt(seconds)) {\n    return 0;\n  }\n\n  return seconds / 60;\n}\n\nexport function convertMinsToSeconds(mins) {\n  if (!parseInt(mins) || parseInt(mins) < 0) {\n    return 0;\n  }\n\n  return +parseInt(mins) * 60;\n}\n\nexport function convertSecondsToHours(seconds) {\n  if (!parseInt(seconds)) {\n    return 0;\n  }\n\n  return seconds / 3600;\n}\n\nexport function convertWithCommas(arr, key) {\n  const split = arr.reduce((strs, datum) => {\n    strs.push(datum[key]);\n    return strs;\n  }, []);\n  return split.join(', ');\n}\n\nexport function formatJobType(type) {\n  return type === 'job' ? 'Playbook run' : 'Workflow job';\n}\n\nexport function formatJobStatus(status) {\n  return status === 'successful' ? 'Success' : 'Failed';\n}\n\nexport function formatJobDetailsURL(baseURL, jobId) {\n  const subDirectory1 = 'job';\n  const subDirectory2 = 'details';\n  return `${baseURL}/#/${subDirectory1}/${jobId}/${subDirectory2}/`;\n}\n","/**\n * Returns queryset config with defaults, if needed\n * @param {string} namespace for appending to url querystring\n * @param {object} default params that are not handled with search (offset, limit and order_by)\n * @param {array} params that are number fields\n * @return {object} query param object\n */\nimport { arrayFields } from './constants';\n\nexport function getQSConfig(\n  namespace,\n  defaultParams = { offset: 1, limit: 5, sort_by: 'name' },\n  integerFields = ['offset', 'limit'],\n  dateFields = ['modified', 'created']\n) {\n  if (!namespace) {\n    throw new Error('a QS namespace is required');\n  }\n  // if order_by isn't passed, default to name\n  // if (!defaultParams.sort_by) {\n  //   defaultParams.sort_by = 'name:desc';\n  // }\n  return {\n    namespace,\n    defaultParams,\n    integerFields,\n    dateFields,\n  };\n}\n\n/**\n * Convert url query string to query param object\n * @param {object} qs config object (used for getting defaults, current query params etc.)\n * @param {string} url query string\n * @return {object} query param object\n */\nexport function parseQueryString(config, queryString) {\n  if (!queryString) {\n    return config.defaultParams || {};\n  }\n  const params = stringToObject(config, queryString);\n  return addDefaultsToObject(config, params);\n}\n\nfunction stringToObject(config, qs) {\n  const params = {};\n  qs.replace(/^\\?/, '')\n    .split('&')\n    .map((s) => s.split('='))\n    .forEach(([nsKey, rawValue]) => {\n      if (!nsKey || !namespaceMatches(config.namespace, nsKey)) {\n        return;\n      }\n      const key = config.namespace\n        ? decodeURIComponent(nsKey.substr(config.namespace.length + 1))\n        : decodeURIComponent(nsKey);\n      const value = parseValue(config, key, rawValue, qs);\n      params[key] = mergeParam(params[key], value);\n    });\n  return params;\n}\nexport { stringToObject as _stringToObject };\n\n/**\n * helper function to check the namespace of a param is what you expect\n * @param {string} namespace to append to params\n * @param {object} params object to append namespace to\n * @return {object} params object with namespaced keys\n */\nconst namespaceMatches = (namespace, fieldname) => {\n  if (!namespace) return !fieldname.includes('.');\n\n  return fieldname.startsWith(`${namespace}.`);\n};\n\nfunction parseValue(config, key, rawValue, qs) {\n  const searchParams = new URLSearchParams(qs);\n  if (config.integerFields && config.integerFields.some((v) => v === key)) {\n    return parseInt(rawValue, 10);\n  } else if (arrayFields && arrayFields.some((v) => v === key)) {\n    const nsKey = `${config.namespace}.${key}`;\n    const output = searchParams\n      .getAll(nsKey)\n      .filter((x, i, a) => a.indexOf(x) === i);\n    searchParams.delete[nsKey];\n    return output;\n  }\n  // TODO: parse dateFields into date format?\n  return decodeURIComponent(rawValue);\n}\n\nfunction addDefaultsToObject(config, params) {\n  return {\n    ...config.defaultParams,\n    ...params,\n  };\n}\nexport { addDefaultsToObject as _addDefaultsToObject };\n\n/**\n * Convert query param object to url query string\n * Used to encode params for interacting with the api\n * @param {object} query param object\n * @return {string} url query string\n */\nexport const encodeQueryString = (params) => {\n  if (!params) return '';\n\n  return Object.keys(params)\n    .sort()\n    .filter((key) => params[key] !== null)\n    .map((key) => [key, params[key]])\n    .map(([key, value]) => encodeValue(key, value))\n    .join('&');\n};\n\nfunction encodeValue(key, value) {\n  if (Array.isArray(value)) {\n    return value\n      .map((val) => `${encodeURIComponent(key)}=${encodeURIComponent(val)}`)\n      .join('&');\n  }\n  return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n}\n\n/**\n * Convert query param object to url query string, adding namespace and\n * removing defaults. Used to put into url bar after ui route\n * @param {object} qs config object for namespacing params, filtering defaults\n * @param {object} query param object\n * @param {object} any non-namespaced params to append\n * @return {string} url query string\n */\nexport const encodeNonDefaultQueryString = (\n  config,\n  params,\n  nonNamespacedParams = {}\n) => {\n  if (!params) return '';\n  const paramsWithoutDefaults = removeParams({}, params, config.defaultParams);\n  return encodeQueryString({\n    ...namespaceParams(config.namespace, paramsWithoutDefaults),\n    ...nonNamespacedParams,\n  });\n};\n\n/**\n * helper function to namespace params object\n * @param {string} namespace to append to params\n * @param {object} params object to append namespace to\n * @return {object} params object with namespaced keys\n */\nconst namespaceParams = (namespace, params) => {\n  if (!namespace) return params;\n\n  const namespaced = {};\n  Object.keys(params).forEach((key) => {\n    namespaced[`${namespace}.${key}`] = params[key];\n  });\n\n  return namespaced;\n};\n\n/**\n * Removes params from the search string and returns the updated list of params\n * @param {object} qs config object (used for getting defaults, current query params etc.)\n * @param {object} object with params from existing search\n * @param {object} object with new params to remove\n * @return {object} query param object\n */\nexport function removeParams(config, oldParams, paramsToRemove) {\n  const updated = {\n    ...config.defaultParams,\n  };\n  Object.keys(oldParams).forEach((key) => {\n    const value = removeParam(oldParams[key], paramsToRemove[key]);\n    if (value !== null) {\n      updated[key] = value;\n    }\n  });\n  return updated;\n}\n\nfunction removeParam(oldVal, deleteVal) {\n  if (oldVal === deleteVal) {\n    return null;\n  }\n  if (Array.isArray(deleteVal)) {\n    return deleteVal.reduce(removeParam, oldVal);\n  }\n  if (Array.isArray(oldVal)) {\n    const index = oldVal.indexOf(deleteVal);\n    if (index > -1) {\n      oldVal.splice(index, 1);\n    }\n    if (oldVal.length === 1) {\n      return oldVal[0];\n    }\n  }\n  return oldVal;\n}\n\n/**\n * Merge old and new params together, joining values into arrays where necessary\n * @param {object} namespaced params object of old params\n * @param {object} namespaced params object of new params\n * @return {object} merged namespaced params object\n */\nexport function mergeParams(oldParams, newParams) {\n  const merged = {};\n  Object.keys(oldParams).forEach((key) => {\n    merged[key] = mergeParam(oldParams[key], newParams[key]);\n  });\n  Object.keys(newParams).forEach((key) => {\n    if (!merged[key]) {\n      merged[key] = newParams[key];\n    }\n  });\n  return merged;\n}\n\nfunction mergeParam(oldVal, newVal) {\n  if (!newVal && newVal !== '') {\n    return oldVal;\n  }\n  if (!oldVal && oldVal !== '') {\n    return newVal;\n  }\n  let merged;\n  if (Array.isArray(oldVal)) {\n    merged = oldVal.concat(newVal);\n  } else {\n    merged = [oldVal].concat(newVal);\n  }\n  return dedupeArray(merged);\n}\n\nfunction dedupeArray(arr) {\n  const deduped = [...new Set(arr)];\n  if (deduped.length === 1) {\n    return deduped[0];\n  }\n  return deduped;\n}\n\n/**\n * Join old and new params together, replacing old values with new ones where\n * necessary\n * @param {object} namespaced params object of old params\n * @param {object} namespaced params object of new params\n * @return {object} joined namespaced params object\n */\nexport function replaceParams(oldParams, newParams) {\n  return {\n    ...oldParams,\n    ...newParams,\n  };\n}\n","import { useReducer } from 'react';\nimport moment from 'moment';\nimport { useHistory } from 'react-router-dom';\n\nimport { formatDate } from '../Utilities/helpers';\nimport { parseQueryString } from './qs';\n\nexport const useQueryParams = (initial) => {\n  const history = useHistory();\n\n  const initialParams = {\n    ...initial,\n    ...(initial.sort_options &&\n      initial.sort_order && {\n        sort_by: `${initial.sort_options}:${initial.sort_order}`,\n      }),\n  };\n\n  const initialWithCalculatedParams =\n    history !== 'undefined' && history?.location\n      ? parseQueryString(initialParams, history.location.search)\n      : initialParams;\n  const paramsReducer = (state, { type, value }) => {\n    switch (type) {\n      /* v0 api reducers */\n      case 'SET_STARTDATE':\n        return { ...state, startDate: value };\n      case 'SET_ENDDATE':\n        return { ...state, endDate: value };\n      case 'SET_ID':\n        if (!parseInt(value)) {\n          const { id: ignored, ...rest } = state;\n          return rest;\n        }\n\n        return { ...state, id: parseInt(value) };\n      case 'SET_SEVERITY':\n        if (value.severity === '') {\n          const { severity: ignored, ...rest } = state;\n          return rest;\n        }\n\n        return { ...state, ...value };\n\n      /* v1 api reducers */\n      case 'SET_LIMIT':\n        return isNaN(value)\n          ? { ...state, limit: 5 } // Defaults back to 5\n          : { ...state, limit: parseInt(value) };\n      case 'SET_OFFSET':\n        return isNaN(value)\n          ? { ...state, offset: 0 } // Defaults back to 0\n          : { ...state, offset: parseInt(value) };\n      case 'SET_ATTRIBUTES':\n      case 'SET_JOB_TYPE':\n      case 'SET_STATUS':\n      case 'SET_ORG':\n      case 'SET_CLUSTER':\n      case 'SET_TEMPLATE':\n      case 'SET_AUTOMATION_STATUS':\n      case 'SET_CATEGORY':\n      case 'SET_FREQUENCY':\n      case 'SET_NAME':\n      case 'SET_ROOT_WORKFLOWS_AND_JOBS':\n      case 'SET_INVENTORY':\n        return { ...state, ...value };\n      case 'SET_QUICK_DATE_RANGE': {\n        let newState = { ...state };\n        if (value !== 'custom') {\n          newState = { ...newState, start_date: null, end_date: null };\n        }\n\n        newState = { ...newState, ...value };\n        return newState;\n      }\n\n      case 'SET_START_DATE':\n      case 'SET_END_DATE': {\n        let newValues = {};\n        Object.entries(value).forEach(([key, value]) => {\n          newValues[key] = formatDate(value);\n        });\n        return { ...state, ...newValues };\n      }\n\n      case 'SET_SORT_OPTIONS': {\n        return {\n          ...state,\n          sort_options: value.sort_options,\n          ...(state.sort_order && {\n            sort_by: `${value.sort_options}:${state.sort_order}`,\n          }), // Update sort by\n        };\n      }\n\n      case 'SET_SORT_ORDER': {\n        return {\n          ...state,\n          sort_order: value.sort_order,\n          ...(state.sort_options && {\n            sort_by: `${state.sort_options}:${value.sort_order}`,\n          }), // Update sort by\n        };\n      }\n\n      case 'REINITIALIZE':\n        return { ...value };\n      case 'RESET_FILTER':\n        return { ...initialWithCalculatedParams };\n      default:\n        throw new Error(`The query params reducer action (${type}) not found.`);\n    }\n  };\n\n  const [queryParams, dispatch] = useReducer(paramsReducer, {\n    ...initialWithCalculatedParams,\n  });\n\n  const actionMapper = {\n    status: 'SET_STATUS',\n    quick_date_range: 'SET_QUICK_DATE_RANGE',\n    job_type: 'SET_JOB_TYPE',\n    org_id: 'SET_ORG',\n    cluster_id: 'SET_CLUSTER',\n    template_id: 'SET_TEMPLATE',\n    sort_order: 'SET_SORT_ORDER',\n    sort_options: `SET_SORT_OPTIONS`,\n    start_date: 'SET_START_DATE',\n    end_date: 'SET_END_DATE',\n    automation_status: 'SET_AUTOMATION_STATUS',\n    category: 'SET_CATEGORY',\n    frequency_period: 'SET_FREQUENCY',\n    name: 'SET_NAME',\n    only_root_workflows_and_standalone_jobs: 'SET_ROOT_WORKFLOWS_AND_JOBS',\n    inventory_id: 'SET_INVENTORY',\n  };\n\n  return {\n    queryParams,\n    dispatch,\n    setFromToolbar: (varName, value = null) => {\n      if (!varName) {\n        dispatch({ type: 'RESET_FILTER' });\n      } else {\n        dispatch({ type: actionMapper[varName], value: { [varName]: value } });\n      }\n    },\n    setFromPagination: (offset, limit = null) => {\n      dispatch({ type: 'SET_OFFSET', value: offset });\n      if (limit) {\n        dispatch({ type: 'SET_LIMIT', value: limit });\n      }\n    },\n    /* v0 api usage after this line */\n    setSeverity: (severity) =>\n      dispatch({ type: 'SET_SEVERITY', value: { severity } }),\n    setEndDate: () => {\n      const endDate = moment().format('YYYY-MM-DD');\n      dispatch({ type: 'SET_ENDDATE', value: endDate });\n    },\n    setId: (value) => dispatch({ type: 'SET_ID', value }),\n    setStartDate: (days) => {\n      let startDate;\n      if (days === 7) {\n        startDate = moment().subtract(1, 'week').format('YYYY-MM-DD');\n      }\n\n      if (days === 14) {\n        startDate = moment().subtract(2, 'weeks').format('YYYY-MM-DD');\n      }\n\n      if (days === 31) {\n        startDate = moment().subtract(1, 'month').format('YYYY-MM-DD');\n      } else {\n        startDate = moment().subtract(days, 'days').format('YYYY-MM-DD');\n      }\n\n      dispatch({ type: 'SET_STARTDATE', value: startDate });\n    },\n    setStartDateAsString: (value) => dispatch({ type: 'SET_STARTDATE', value }),\n  };\n};\n","import { Paths } from '../paths';\nimport { stringify } from 'query-string';\n\nconst useRedirect = (history, path) => (query) => {\n  const search = stringify(query, { arrayFormat: 'bracket' });\n  history.push({\n    pathname: Paths[path],\n    search,\n  });\n};\n\nexport default useRedirect;\n","var map = {\n\t\"./af\": 42786,\n\t\"./af.js\": 42786,\n\t\"./ar\": 30867,\n\t\"./ar-dz\": 14130,\n\t\"./ar-dz.js\": 14130,\n\t\"./ar-kw\": 96135,\n\t\"./ar-kw.js\": 96135,\n\t\"./ar-ly\": 56440,\n\t\"./ar-ly.js\": 56440,\n\t\"./ar-ma\": 47702,\n\t\"./ar-ma.js\": 47702,\n\t\"./ar-sa\": 16040,\n\t\"./ar-sa.js\": 16040,\n\t\"./ar-tn\": 37100,\n\t\"./ar-tn.js\": 37100,\n\t\"./ar.js\": 30867,\n\t\"./az\": 31083,\n\t\"./az.js\": 31083,\n\t\"./be\": 9808,\n\t\"./be.js\": 9808,\n\t\"./bg\": 68338,\n\t\"./bg.js\": 68338,\n\t\"./bm\": 67438,\n\t\"./bm.js\": 67438,\n\t\"./bn\": 8905,\n\t\"./bn-bd\": 76225,\n\t\"./bn-bd.js\": 76225,\n\t\"./bn.js\": 8905,\n\t\"./bo\": 11560,\n\t\"./bo.js\": 11560,\n\t\"./br\": 1278,\n\t\"./br.js\": 1278,\n\t\"./bs\": 80622,\n\t\"./bs.js\": 80622,\n\t\"./ca\": 2468,\n\t\"./ca.js\": 2468,\n\t\"./cs\": 5822,\n\t\"./cs.js\": 5822,\n\t\"./cv\": 50877,\n\t\"./cv.js\": 50877,\n\t\"./cy\": 47373,\n\t\"./cy.js\": 47373,\n\t\"./da\": 24780,\n\t\"./da.js\": 24780,\n\t\"./de\": 59740,\n\t\"./de-at\": 60217,\n\t\"./de-at.js\": 60217,\n\t\"./de-ch\": 60894,\n\t\"./de-ch.js\": 60894,\n\t\"./de.js\": 59740,\n\t\"./dv\": 5300,\n\t\"./dv.js\": 5300,\n\t\"./el\": 50837,\n\t\"./el.js\": 50837,\n\t\"./en-au\": 78348,\n\t\"./en-au.js\": 78348,\n\t\"./en-ca\": 77925,\n\t\"./en-ca.js\": 77925,\n\t\"./en-gb\": 22243,\n\t\"./en-gb.js\": 22243,\n\t\"./en-ie\": 46436,\n\t\"./en-ie.js\": 46436,\n\t\"./en-il\": 47207,\n\t\"./en-il.js\": 47207,\n\t\"./en-in\": 44175,\n\t\"./en-in.js\": 44175,\n\t\"./en-nz\": 76319,\n\t\"./en-nz.js\": 76319,\n\t\"./en-sg\": 31662,\n\t\"./en-sg.js\": 31662,\n\t\"./eo\": 92915,\n\t\"./eo.js\": 92915,\n\t\"./es\": 55655,\n\t\"./es-do\": 55251,\n\t\"./es-do.js\": 55251,\n\t\"./es-mx\": 96112,\n\t\"./es-mx.js\": 96112,\n\t\"./es-us\": 71146,\n\t\"./es-us.js\": 71146,\n\t\"./es.js\": 55655,\n\t\"./et\": 5603,\n\t\"./et.js\": 5603,\n\t\"./eu\": 77763,\n\t\"./eu.js\": 77763,\n\t\"./fa\": 76959,\n\t\"./fa.js\": 76959,\n\t\"./fi\": 11897,\n\t\"./fi.js\": 11897,\n\t\"./fil\": 42549,\n\t\"./fil.js\": 42549,\n\t\"./fo\": 94694,\n\t\"./fo.js\": 94694,\n\t\"./fr\": 94470,\n\t\"./fr-ca\": 63049,\n\t\"./fr-ca.js\": 63049,\n\t\"./fr-ch\": 52330,\n\t\"./fr-ch.js\": 52330,\n\t\"./fr.js\": 94470,\n\t\"./fy\": 5044,\n\t\"./fy.js\": 5044,\n\t\"./ga\": 29295,\n\t\"./ga.js\": 29295,\n\t\"./gd\": 2101,\n\t\"./gd.js\": 2101,\n\t\"./gl\": 38794,\n\t\"./gl.js\": 38794,\n\t\"./gom-deva\": 27884,\n\t\"./gom-deva.js\": 27884,\n\t\"./gom-latn\": 23168,\n\t\"./gom-latn.js\": 23168,\n\t\"./gu\": 95349,\n\t\"./gu.js\": 95349,\n\t\"./he\": 24206,\n\t\"./he.js\": 24206,\n\t\"./hi\": 30094,\n\t\"./hi.js\": 30094,\n\t\"./hr\": 30316,\n\t\"./hr.js\": 30316,\n\t\"./hu\": 22138,\n\t\"./hu.js\": 22138,\n\t\"./hy-am\": 11423,\n\t\"./hy-am.js\": 11423,\n\t\"./id\": 29218,\n\t\"./id.js\": 29218,\n\t\"./is\": 90135,\n\t\"./is.js\": 90135,\n\t\"./it\": 90626,\n\t\"./it-ch\": 10150,\n\t\"./it-ch.js\": 10150,\n\t\"./it.js\": 90626,\n\t\"./ja\": 39183,\n\t\"./ja.js\": 39183,\n\t\"./jv\": 24286,\n\t\"./jv.js\": 24286,\n\t\"./ka\": 12105,\n\t\"./ka.js\": 12105,\n\t\"./kk\": 47772,\n\t\"./kk.js\": 47772,\n\t\"./km\": 18758,\n\t\"./km.js\": 18758,\n\t\"./kn\": 79282,\n\t\"./kn.js\": 79282,\n\t\"./ko\": 33730,\n\t\"./ko.js\": 33730,\n\t\"./ku\": 1408,\n\t\"./ku.js\": 1408,\n\t\"./ky\": 33291,\n\t\"./ky.js\": 33291,\n\t\"./lb\": 36841,\n\t\"./lb.js\": 36841,\n\t\"./lo\": 55466,\n\t\"./lo.js\": 55466,\n\t\"./lt\": 57010,\n\t\"./lt.js\": 57010,\n\t\"./lv\": 37595,\n\t\"./lv.js\": 37595,\n\t\"./me\": 39861,\n\t\"./me.js\": 39861,\n\t\"./mi\": 35493,\n\t\"./mi.js\": 35493,\n\t\"./mk\": 95966,\n\t\"./mk.js\": 95966,\n\t\"./ml\": 87341,\n\t\"./ml.js\": 87341,\n\t\"./mn\": 5115,\n\t\"./mn.js\": 5115,\n\t\"./mr\": 10370,\n\t\"./mr.js\": 10370,\n\t\"./ms\": 9847,\n\t\"./ms-my\": 41237,\n\t\"./ms-my.js\": 41237,\n\t\"./ms.js\": 9847,\n\t\"./mt\": 72126,\n\t\"./mt.js\": 72126,\n\t\"./my\": 56165,\n\t\"./my.js\": 56165,\n\t\"./nb\": 64924,\n\t\"./nb.js\": 64924,\n\t\"./ne\": 16744,\n\t\"./ne.js\": 16744,\n\t\"./nl\": 93901,\n\t\"./nl-be\": 59814,\n\t\"./nl-be.js\": 59814,\n\t\"./nl.js\": 93901,\n\t\"./nn\": 83877,\n\t\"./nn.js\": 83877,\n\t\"./oc-lnc\": 92135,\n\t\"./oc-lnc.js\": 92135,\n\t\"./pa-in\": 15858,\n\t\"./pa-in.js\": 15858,\n\t\"./pl\": 64495,\n\t\"./pl.js\": 64495,\n\t\"./pt\": 89520,\n\t\"./pt-br\": 57971,\n\t\"./pt-br.js\": 57971,\n\t\"./pt.js\": 89520,\n\t\"./ro\": 96459,\n\t\"./ro.js\": 96459,\n\t\"./ru\": 21793,\n\t\"./ru.js\": 21793,\n\t\"./sd\": 40950,\n\t\"./sd.js\": 40950,\n\t\"./se\": 10490,\n\t\"./se.js\": 10490,\n\t\"./si\": 90124,\n\t\"./si.js\": 90124,\n\t\"./sk\": 64249,\n\t\"./sk.js\": 64249,\n\t\"./sl\": 14985,\n\t\"./sl.js\": 14985,\n\t\"./sq\": 51104,\n\t\"./sq.js\": 51104,\n\t\"./sr\": 49131,\n\t\"./sr-cyrl\": 79915,\n\t\"./sr-cyrl.js\": 79915,\n\t\"./sr.js\": 49131,\n\t\"./ss\": 85893,\n\t\"./ss.js\": 85893,\n\t\"./sv\": 98760,\n\t\"./sv.js\": 98760,\n\t\"./sw\": 91172,\n\t\"./sw.js\": 91172,\n\t\"./ta\": 27333,\n\t\"./ta.js\": 27333,\n\t\"./te\": 23110,\n\t\"./te.js\": 23110,\n\t\"./tet\": 52095,\n\t\"./tet.js\": 52095,\n\t\"./tg\": 27321,\n\t\"./tg.js\": 27321,\n\t\"./th\": 9041,\n\t\"./th.js\": 9041,\n\t\"./tk\": 19005,\n\t\"./tk.js\": 19005,\n\t\"./tl-ph\": 75768,\n\t\"./tl-ph.js\": 75768,\n\t\"./tlh\": 89444,\n\t\"./tlh.js\": 89444,\n\t\"./tr\": 72397,\n\t\"./tr.js\": 72397,\n\t\"./tzl\": 28254,\n\t\"./tzl.js\": 28254,\n\t\"./tzm\": 51106,\n\t\"./tzm-latn\": 30699,\n\t\"./tzm-latn.js\": 30699,\n\t\"./tzm.js\": 51106,\n\t\"./ug-cn\": 9288,\n\t\"./ug-cn.js\": 9288,\n\t\"./uk\": 67691,\n\t\"./uk.js\": 67691,\n\t\"./ur\": 13795,\n\t\"./ur.js\": 13795,\n\t\"./uz\": 6791,\n\t\"./uz-latn\": 60588,\n\t\"./uz-latn.js\": 60588,\n\t\"./uz.js\": 6791,\n\t\"./vi\": 65666,\n\t\"./vi.js\": 65666,\n\t\"./x-pseudo\": 14378,\n\t\"./x-pseudo.js\": 14378,\n\t\"./yo\": 75805,\n\t\"./yo.js\": 75805,\n\t\"./zh-cn\": 83839,\n\t\"./zh-cn.js\": 83839,\n\t\"./zh-hk\": 55726,\n\t\"./zh-hk.js\": 55726,\n\t\"./zh-mo\": 99807,\n\t\"./zh-mo.js\": 99807,\n\t\"./zh-tw\": 74152,\n\t\"./zh-tw.js\": 74152\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Pagination as PFPagination } from '@patternfly/react-core';\nimport { encodeNonDefaultQueryString, parseQueryString, } from '../../Utilities/qs';\nimport { useHistory } from 'react-router-dom';\nvar defaultPerPageOptions = [\n    { title: '5', value: 5 },\n    { title: '10', value: 10 },\n    { title: '15', value: 15 },\n    { title: '20', value: 20 },\n    { title: '25', value: 25 },\n];\nvar Pagination = function (_a) {\n    var _b = _a.count, count = _b === void 0 ? 0 : _b, qsConfig = _a.qsConfig, _c = _a.perPageOptions, perPageOptions = _c === void 0 ? null : _c, params = _a.params, setPagination = _a.setPagination, props = __rest(_a, [\"count\", \"qsConfig\", \"perPageOptions\", \"params\", \"setPagination\"]);\n    var offset = params.offset, limit = params.limit;\n    var currentPage = Math.floor(offset / limit + 1);\n    var returnOffsetVal = function (page) { return (page - 1) * limit; };\n    var history = useHistory();\n    var pushHistoryState = function (params) {\n        if (params === void 0) { params = {}; }\n        var _a = history.location, pathname = _a.pathname, search = _a.search;\n        var nonNamespacedParams = parseQueryString({}, search);\n        var encodedParams = encodeNonDefaultQueryString(qsConfig, params, nonNamespacedParams);\n        history.push(encodedParams ? pathname + \"?\" + encodedParams : pathname);\n    };\n    var handleSetPage = function (_event, pageNumber) {\n        var oldParams = parseQueryString(qsConfig, history.location.search);\n        pushHistoryState(__assign(__assign({}, oldParams), { limit: pageNumber }));\n    };\n    var handleSetPageSize = function (_event, page) {\n        var oldParams = parseQueryString(qsConfig, history.location.search);\n        pushHistoryState(__assign(__assign({}, oldParams), { offset: page }));\n    };\n    return (React.createElement(PFPagination, __assign({ itemCount: count, widgetId: \"aa-pagination\", perPageOptions: perPageOptions !== null && perPageOptions !== void 0 ? perPageOptions : defaultPerPageOptions, perPage: limit, page: currentPage, onPerPageSelect: function (event, perPage, page) {\n            setPagination(returnOffsetVal(page), perPage);\n            handleSetPage(event, perPage);\n        }, onSetPage: function (event, page) {\n            setPagination(returnOffsetVal(page));\n            handleSetPageSize(event, returnOffsetVal(page));\n        } }, props)));\n};\nPagination.propTypes = {\n    count: PropTypes.number,\n    qsConfig: PropTypes.any,\n    params: PropTypes.exact({\n        offset: PropTypes.number.isRequired,\n        limit: PropTypes.number.isRequired,\n    }).isRequired,\n    setPagination: PropTypes.func.isRequired,\n    perPageOptions: PropTypes.arrayOf(PropTypes.exact({\n        title: PropTypes.string.isRequired,\n        value: PropTypes.number.isRequired,\n    }).isRequired),\n};\nexport default Pagination;\n","import Pagination from './Pagination';\nexport default Pagination;\n","export var CATEGORIES = {\n    operations: 'Operations',\n    executive: 'Executive',\n};\n","import { ChartKind, ChartLegendOrientation, ChartLegendPosition, ChartTopLevelType, ChartType, ChartThemeColor, } from 'react-json-chart-builder';\nimport { readHostExplorer, readHostExplorerOptions } from '../../../../Api';\nimport { CATEGORIES } from '../constants';\nvar name = 'Hosts changed by job template';\nvar description = 'The number of hosts changed by a job template in a specified time window.\\n\\nYou can use this report to find discrepancies in the host change rate at a particular time, helping you drill down to when and why hosts were unreachable at a particular time.';\nvar categories = [CATEGORIES.executive];\nvar defaultParams = {\n    limit: 6,\n    offset: 0,\n    attributes: ['total_unique_host_count', 'total_unique_host_changed_count'],\n    group_by: 'template',\n    group_by_time: true,\n    granularity: 'monthly',\n    sort_options: 'total_unique_host_count',\n    sort_order: 'desc',\n};\nvar extraAttributes = [\n    { key: 'id', value: 'ID' },\n    { key: 'name', value: 'Template name' },\n];\nvar schemaFnc = function (label, y) { return [\n    {\n        id: 1,\n        kind: ChartKind.wrapper,\n        type: ChartTopLevelType.chart,\n        parent: null,\n        props: {\n            height: 400,\n            padding: {\n                top: 10,\n                right: 100,\n            },\n            themeColor: ChartThemeColor.multiOrdered,\n        },\n        xAxis: {\n            label: 'Date',\n            tickFormat: 'formatDateAsDayMonth',\n        },\n        yAxis: {\n            tickFormat: 'formatNumberAsK',\n            showGrid: true,\n            label: label,\n            style: {\n                axisLabel: {\n                    padding: 55,\n                },\n            },\n        },\n        api: {\n            url: '',\n            params: {},\n        },\n        legend: {\n            interactive: true,\n            orientation: ChartLegendOrientation.vertical,\n            position: ChartLegendPosition.right,\n        },\n    },\n    {\n        id: 2,\n        kind: ChartKind.group,\n        parent: 1,\n        template: {\n            id: 0,\n            kind: ChartKind.simple,\n            type: ChartType.bar,\n            parent: 0,\n            props: {\n                x: 'created_date',\n                y: y,\n            },\n            tooltip: {\n                standalone: true,\n            },\n        },\n    },\n]; };\nvar reportParams = {\n    name: name,\n    description: description,\n    categories: categories,\n    report: {\n        defaultParams: defaultParams,\n        extraAttributes: extraAttributes,\n        readData: readHostExplorer,\n        readOptions: readHostExplorerOptions,\n        schemaFnc: schemaFnc,\n    },\n};\nexport default reportParams;\n","import { ChartKind, ChartLegendOrientation, ChartLegendPosition, ChartTopLevelType, ChartType, ChartThemeColor, } from 'react-json-chart-builder';\nimport { readJobExplorer, readJobExplorerOptions } from '../../../../Api';\nimport { CATEGORIES } from '../constants';\nvar name = 'Changes made by job template';\nvar description = 'The total count of changes made by each job template in a specified time window.\\n\\nYou can use this report to ensure the correct number of changes are made per hostname, as well as see which job templates are doing the most changes to your infrastructure.';\nvar categories = [CATEGORIES.executive];\nvar defaultParams = {\n    limit: 6,\n    offset: 0,\n    attributes: [\n        'host_count',\n        'changed_host_count',\n        'host_task_count',\n        'host_task_changed_count',\n    ],\n    group_by: 'template',\n    group_by_time: true,\n    granularity: 'monthly',\n    sort_options: 'changed_host_count',\n    sort_order: 'desc',\n};\nvar extraAttributes = [\n    { key: 'id', value: 'ID' },\n    { key: 'name', value: 'Template name' },\n];\nvar schemaFnc = function (label, y) { return [\n    {\n        id: 1,\n        kind: ChartKind.wrapper,\n        type: ChartTopLevelType.chart,\n        parent: null,\n        props: {\n            height: 400,\n            padding: {\n                top: 10,\n                right: 100,\n            },\n            themeColor: ChartThemeColor.multiOrdered,\n        },\n        xAxis: {\n            label: 'Date',\n            tickFormat: 'formatDateAsDayMonth',\n        },\n        yAxis: {\n            tickFormat: 'formatNumberAsK',\n            showGrid: true,\n            label: label,\n            style: {\n                axisLabel: {\n                    padding: 55,\n                },\n            },\n        },\n        api: {\n            url: '',\n            params: {},\n        },\n        legend: {\n            interactive: true,\n            orientation: ChartLegendOrientation.vertical,\n            position: ChartLegendPosition.right,\n        },\n    },\n    {\n        id: 2,\n        kind: ChartKind.group,\n        parent: 1,\n        template: {\n            id: 0,\n            kind: ChartKind.simple,\n            type: ChartType.bar,\n            parent: 0,\n            props: {\n                x: 'created_date',\n                y: y,\n            },\n            tooltip: {\n                standalone: true,\n            },\n        },\n    },\n]; };\nvar reportParams = {\n    name: name,\n    description: description,\n    categories: categories,\n    report: {\n        defaultParams: defaultParams,\n        extraAttributes: extraAttributes,\n        readData: readJobExplorer,\n        readOptions: readJobExplorerOptions,\n        schemaFnc: schemaFnc,\n    },\n};\nexport default reportParams;\n","import { ChartKind, ChartLegendOrientation, ChartLegendPosition, ChartTopLevelType, ChartType, ChartThemeColor, } from 'react-json-chart-builder';\nimport { readJobExplorer, readJobExplorerOptions, } from '../../../../Api';\nimport { CATEGORIES } from '../constants';\nvar name = 'Job template run rate';\nvar description = 'The number of times a job template has ran in a specified time window.\\n\\nYou can use this report to be able to tell which playbooks are running most frequently, allowing you to see which groups in your organization are running Ansible the most.';\nvar categories = [CATEGORIES.executive];\nvar defaultParams = {\n    limit: 6,\n    offset: 0,\n    attributes: ['failed_count', 'successful_count', 'total_count'],\n    group_by: 'template',\n    group_by_time: true,\n    granularity: 'monthly',\n    sort_options: 'total_count',\n    sort_order: 'desc',\n};\nvar extraAttributes = [\n    { key: 'id', value: 'ID' },\n    { key: 'name', value: 'Template name' },\n];\nvar schemaFnc = function (label, y) { return [\n    {\n        id: 1,\n        kind: ChartKind.wrapper,\n        type: ChartTopLevelType.chart,\n        parent: null,\n        props: {\n            height: 400,\n            padding: {\n                top: 10,\n                right: 100,\n            },\n            themeColor: ChartThemeColor.multiOrdered,\n        },\n        xAxis: {\n            label: 'Date',\n            tickFormat: 'formatDateAsDayMonth',\n        },\n        yAxis: {\n            tickFormat: 'formatNumberAsK',\n            showGrid: true,\n            label: label,\n            style: {\n                axisLabel: {\n                    padding: 55,\n                },\n            },\n        },\n        api: {\n            url: '',\n            params: {},\n        },\n        legend: {\n            interactive: true,\n            orientation: ChartLegendOrientation.vertical,\n            position: ChartLegendPosition.right,\n        },\n    },\n    {\n        id: 2,\n        kind: ChartKind.group,\n        parent: 1,\n        template: {\n            id: 0,\n            kind: ChartKind.simple,\n            type: ChartType.bar,\n            parent: 0,\n            props: {\n                x: 'created_date',\n                y: y,\n            },\n            tooltip: {\n                standalone: true,\n            },\n        },\n    },\n]; };\nvar reportParams = {\n    name: name,\n    description: description,\n    categories: categories,\n    report: {\n        defaultParams: defaultParams,\n        extraAttributes: extraAttributes,\n        readData: readJobExplorer,\n        readOptions: readJobExplorerOptions,\n        schemaFnc: schemaFnc,\n    },\n};\nexport default reportParams;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport affected_hosts_by_playbook from './affected_hosts_by_playbook';\nimport changes_made from './changes_made';\nimport playbook_run_rate from './playbook_run_rate';\nvar reports = [\n    affected_hosts_by_playbook,\n    changes_made,\n    playbook_run_rate,\n].map(function (report, id) { return (__assign({ id: id + 1 }, report)); });\nvar defaultReport = {\n    name: 'Unknown',\n    description: 'Unknown',\n    categories: [],\n};\nexport var getReport = function (searchId) { var _a; return (_a = reports.find(function (_a) {\n    var id = _a.id;\n    return id === searchId;\n})) !== null && _a !== void 0 ? _a : defaultReport; };\nexport default reports;\n","var currencyFormatter = function (n) {\n    var formatter = new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'USD',\n    });\n    return formatter.format(n); /* $2,500.00 */\n};\nexport default currencyFormatter;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useEffect, useState, useCallback } from 'react';\nimport useIsMounted from './useIsMounted';\nexport var useRequest = function (makeRequest, initialValue) {\n    var _a = useState({\n        result: initialValue,\n        error: null,\n        isLoading: false,\n        isSuccess: false,\n    }), variables = _a[0], setVariables = _a[1];\n    var isMounted = useIsMounted();\n    return __assign(__assign({}, variables), { request: useCallback(function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return __awaiter(void 0, void 0, void 0, function () {\n                var response, error_1;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            setVariables(__assign(__assign({}, variables), { isSuccess: false, isLoading: true }));\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, makeRequest.apply(void 0, args)];\n                        case 2:\n                            response = _a.sent();\n                            if (isMounted.current) {\n                                setVariables({\n                                    isLoading: false,\n                                    result: response,\n                                    error: null,\n                                    isSuccess: true,\n                                });\n                            }\n                            return [3 /*break*/, 4];\n                        case 3:\n                            error_1 = _a.sent();\n                            if (isMounted.current) {\n                                setVariables({\n                                    isSuccess: false,\n                                    isLoading: false,\n                                    error: error_1,\n                                    result: initialValue,\n                                });\n                            }\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            });\n        }, [makeRequest]), setValue: function (value) { return setVariables(__assign(__assign({}, variables), { result: value })); } });\n};\nexport var useDismissableError = function (error) {\n    var _a = useState(false), showError = _a[0], setShowError = _a[1];\n    useEffect(function () {\n        if (error) {\n            setShowError(true);\n        }\n    }, [error]);\n    return {\n        error: showError ? error : null,\n        dismissError: function () {\n            setShowError(false);\n        },\n    };\n};\nexport var useDeleteItems = function (makeRequest) {\n    var _a = useRequest(makeRequest, null), requestError = _a.error, isLoading = _a.isLoading, request = _a.request;\n    var _b = useDismissableError(requestError), error = _b.error, dismissError = _b.dismissError;\n    return {\n        isLoading: isLoading,\n        deleteItems: request,\n        deletionError: error,\n        clearDeletionError: dismissError,\n    };\n};\nexport default useRequest;\n","import { useEffect, useRef } from 'react';\nvar useIsMounted = function () {\n    var isMounted = useRef({});\n    useEffect(function () {\n        isMounted.current = true;\n        return function () {\n            isMounted.current = false;\n        };\n    });\n    return isMounted;\n};\nexport default useIsMounted;\n"],"sourceRoot":""}