{"version":3,"file":"js/9379.1685715664811.26be00412665ea451135.js","mappings":"+PAyDA,QA3CY,WAAM,gBAChB,GAIIA,EAAAA,EAAAA,IAAWC,EAAAA,GAAiB,CAAC,GAHvBC,EADV,EACEC,OACAC,EAFF,EAEEA,UACSC,EAHX,EAGEC,SAGFC,EAAAA,EAAAA,YAAU,WACRF,EAAiB,CAAC,EACnB,GAAE,IAEH,IAAMG,EACJJ,KACsC,KAArC,UAAAF,EAAQO,YAAR,mBAAcC,YAAd,mBAAoBC,aAApB,eAA2BC,SACS,KAAnC,UAAAV,EAAQO,YAAR,mBAAcC,YAAd,mBAAoBC,aAApB,eAA2BE,MACzBC,EAAQ,kBAsBd,OAAIV,EACKI,EApBP,oCACE,kBAAC,EAAAO,WAAD,CACEC,YAAa,CACX,CACEC,MAAO,kBACPC,GAAI,iDAGRJ,MAAOA,IAET,kBAAC,EAAAK,YAAD,KACE,kBAAC,EAAAC,KAAD,KACE,kBAAC,EAAAC,SAAD,KACE,kBAAC,IAAD,CAAMP,MAAOA,EAAOZ,QAASA,QAOP,kBAAC,EAAAoB,SAAD,CAAUJ,GAAIK,EAAAA,EAAAA,iBAEvC,IACR,C","sources":["webpack:///./src/Containers/SavingsPlanner/Add/index.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Navigate } from 'react-router-dom';\n\nimport { Card, CardBody, PageSection } from '@patternfly/react-core';\n\nimport { PageHeader } from '@ansible/ansible-ui-framework';\n\nimport { readPlanOptions } from '../../../Api/';\n\nimport Form from '../Shared/Form';\n\nimport { Paths } from '../../../paths';\nimport useRequest from '../../../Utilities/useRequest';\n\nconst Add = () => {\n  const {\n    result: options,\n    isSuccess,\n    request: fetchPlanOptions,\n  } = useRequest(readPlanOptions, {});\n\n  useEffect(() => {\n    fetchPlanOptions({});\n  }, []);\n\n  const canWrite =\n    isSuccess &&\n    (options.meta?.rbac?.perms?.write === true ||\n      options.meta?.rbac?.perms?.all === true);\n  const title = 'Create new plan';\n\n  const showAdd = () => (\n    <>\n      <PageHeader\n        breadcrumbs={[\n          {\n            label: 'Savings Planner',\n            to: 'ansible/automation-analytics/savings-planner',\n          },\n        ]}\n        title={title}\n      />\n      <PageSection>\n        <Card>\n          <CardBody>\n            <Form title={title} options={options} />\n          </CardBody>\n        </Card>\n      </PageSection>\n    </>\n  );\n  if (isSuccess) {\n    return canWrite ? showAdd() : <Navigate to={Paths.savingsPlanner} />;\n  }\n  return null;\n};\n\nexport default Add;\n"],"names":["useRequest","readPlanOptions","options","result","isSuccess","fetchPlanOptions","request","useEffect","canWrite","meta","rbac","perms","write","all","title","PageHeader","breadcrumbs","label","to","PageSection","Card","CardBody","Navigate","Paths"],"sourceRoot":""}