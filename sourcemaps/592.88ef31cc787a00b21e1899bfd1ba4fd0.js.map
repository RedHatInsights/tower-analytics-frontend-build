{"version":3,"file":"js/592.99118df13caddf6132c2.js","mappings":"yNAIMA,EAAeC,EAAAA,GAAAA,IAAH,0LAWZC,EAAMD,EAAAA,GAAAA,IAAH,yCAIHE,EAAkBF,EAAAA,GAAAA,IAAH,wHAOfG,EAAQH,EAAAA,GAAAA,IAAH,mHAOLI,EAASJ,EAAAA,GAAAA,IAAH,wFAQZ,SAASK,EAAMC,GACb,OAAOA,EAAI,GAAGC,cAAgBD,EAAIE,MAAM,GAAGC,cAG7C,IAAMC,EAAY,SAAC,GAA0D,IAAxDC,EAAwD,EAAxDA,cAAeC,EAAyC,EAAzCA,cAAyC,IAA1BC,YAAAA,OAA0B,SACrEC,EAAaC,OAAOC,OAAOL,GAAeM,QAC9C,SAACC,EAAaC,GAAd,OAA6BD,EAAcC,KAGvCC,EAAmBL,OAAOM,KAAKV,GAClCW,QAAO,SAACC,GAAD,OAAcZ,EAAcY,GAAY,KAC/CC,MAAK,SAACC,EAAGC,GACR,OAAIf,EAAcc,GAAKd,EAAce,GAC5B,EAELf,EAAcc,GAAKd,EAAce,IAC3B,EAEH,KAERC,KAAI,SAACJ,GACJ,MAAO,CACLK,KAAML,EACNM,WAAYlB,EAAcY,GAAYT,EACtCgB,MAAOlB,EAAcW,OAIrBQ,EAAiB,EA9BN,KA8BYX,EAAiBY,OAAS,GAAmB,IAE1E,OACE,oCACE,kBAACjC,EAAD,KACGqB,EAAiBO,KAAI,WAAwBM,GAAQ,IAA7BJ,EAA6B,EAA7BA,WAAYC,EAAiB,EAAjBA,MACnC,OAAIG,EAAMb,EAAiBY,OAAS,EAEhC,kBAAC,aAAD,CAAgBE,IAAKD,GACnB,kBAAChC,EAAD,CACEkC,MAAO,CACLC,gBAAiBN,EACjBO,MAAO,GAAF,OAAkB,IAAbR,EAAmBE,EAAxB,QAGT,kBAAC9B,EAAD,CACEkC,MAAO,CACLC,gBAAiB,cACjBC,MAAO,GAAF,OAhDN,IAgDM,SAOX,kBAAC,aAAD,CAAgBH,IAAKD,GACnB,kBAAChC,EAAD,CACEkC,MAAO,CACLC,gBAAiBN,EACjBO,MAAO,GAAF,OAAkB,IAAbR,EAAmBE,EAAxB,aAQnB,kBAAC7B,EAAD,KACGkB,EAAiBO,KAAI,gBAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,WAAYC,EAArB,EAAqBA,MAArB,OACpB,kBAAC3B,EAAD,CAAO+B,IAAG,gBAAWN,IACnB,kBAACxB,EAAD,CAAQ+B,MAAO,CAAEC,gBAAiBN,KACjCjB,EACC,2BACGR,EAAMuB,GADT,IACiBU,KAAKC,MAAmB,IAAbV,GAD5B,KAIA,2BAAIxB,EAAMuB,WASxBlB,EAAU8B,UAAY,CACpB5B,cAAe6B,IAAAA,OAAAA,WACf9B,cAAe8B,IAAAA,OAAAA,WACf5B,YAAa4B,IAAAA,MAGf","sources":["webpack:///./src/Charts/Breakdown.js"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst BarContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  width: 100%;\n  max-width: 100%;\n  height: 1rem;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n`;\n\nconst Bar = styled.div`\n  height: 100%;\n`;\n\nconst LabelsContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin-bottom: 1rem;\n`;\n\nconst Label = styled.div`\n  padding-left: 2rem;\n  display: flex;\n  align-items: center;\n  margin-bottom: 1.5rem;\n`;\n\nconst Square = styled.div`\n  width: 0.75rem;\n  height: 0.75rem;\n  margin-right: 0.5rem;\n`;\n\nconst whiteSpace = 0.15; // Currently in percent of total bar width\n\nfunction title(str) {\n  return str[0].toUpperCase() + str.slice(1).toLowerCase();\n}\n\nconst Breakdown = ({ categoryCount, categoryColor, showPercent = false }) => {\n  const totalCount = Object.values(categoryCount).reduce(\n    (accumulated, currentVal) => accumulated + currentVal\n  );\n\n  const sortedCategories = Object.keys(categoryCount)\n    .filter((category) => categoryCount[category] > 0)\n    .sort((a, b) => {\n      if (categoryCount[a] < categoryCount[b]) {\n        return 1; // Normally should be -1, but we want descending order\n      }\n      if (categoryCount[a] > categoryCount[b]) {\n        return -1;\n      }\n      return 0;\n    })\n    .map((category) => {\n      return {\n        name: category,\n        barSpacing: categoryCount[category] / totalCount,\n        color: categoryColor[category],\n      };\n    });\n\n  const remainingSpace = 1 - ((sortedCategories.length - 1) * whiteSpace) / 100;\n\n  return (\n    <>\n      <BarContainer>\n        {sortedCategories.map(({ barSpacing, color }, idx) => {\n          if (idx < sortedCategories.length - 1) {\n            return (\n              <React.Fragment key={idx}>\n                <Bar\n                  style={{\n                    backgroundColor: color,\n                    width: `${barSpacing * 100 * remainingSpace}%`,\n                  }}\n                />\n                <Bar\n                  style={{\n                    backgroundColor: 'transparent',\n                    width: `${whiteSpace}%`,\n                  }}\n                />\n              </React.Fragment>\n            );\n          } else {\n            return (\n              <React.Fragment key={idx}>\n                <Bar\n                  style={{\n                    backgroundColor: color,\n                    width: `${barSpacing * 100 * remainingSpace}%`,\n                  }}\n                />\n              </React.Fragment>\n            );\n          }\n        })}\n      </BarContainer>\n      <LabelsContainer>\n        {sortedCategories.map(({ name, barSpacing, color }) => (\n          <Label key={`label-${name}`}>\n            <Square style={{ backgroundColor: color }} />\n            {showPercent ? (\n              <p>\n                {title(name)} {Math.round(barSpacing * 100)}%\n              </p>\n            ) : (\n              <p>{title(name)}</p>\n            )}\n          </Label>\n        ))}\n      </LabelsContainer>\n    </>\n  );\n};\n\nBreakdown.propTypes = {\n  categoryColor: PropTypes.object.isRequired,\n  categoryCount: PropTypes.object.isRequired,\n  showPercent: PropTypes.bool,\n};\n\nexport default Breakdown;\n"],"names":["BarContainer","styled","Bar","LabelsContainer","Label","Square","title","str","toUpperCase","slice","toLowerCase","Breakdown","categoryCount","categoryColor","showPercent","totalCount","Object","values","reduce","accumulated","currentVal","sortedCategories","keys","filter","category","sort","a","b","map","name","barSpacing","color","remainingSpace","length","idx","key","style","backgroundColor","width","Math","round","propTypes","PropTypes"],"sourceRoot":""}