{"version":3,"file":"js/558.65c660b7e89481b80039.js","mappings":"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","sources":["webpack:///./src/Containers/SavingsPlanner/Shared/constants.js","webpack:///./src/Containers/SavingsPlanner/Shared/usePlanData.js","webpack:///./src/Components/AlertModal/AlertModal.js","webpack:///./src/Components/ErrorDetail/ErrorDetail.js","webpack:///./src/Containers/SavingsPlanner/Shared/Form/Steps/Details/index.js","webpack:///./src/Containers/SavingsPlanner/Shared/Form/Steps/Tasks/index.js","webpack:///./src/Containers/SavingsPlanner/Shared/Form/Steps/Templates/index.js","webpack:///./src/Containers/SavingsPlanner/Shared/Form/index.js","webpack:///./src/Containers/SavingsPlanner/Add/index.js","webpack:///./src/Components/CardActionsRow.tsx","webpack:///./src/Utilities/getRelatedResourceDeleteDetails.js","webpack:///./src/Components/DeleteButton/DeleteButton.js","webpack:///./src/Components/RoutedTabs.js","webpack:///./src/Containers/SavingsPlanner/Details/DetailsTab/index.js","webpack:///./src/Utilities/hoursFormatter.ts","webpack:///./src/Containers/SavingsPlanner/Details/StatisticsTab/TotalSavings/index.tsx","webpack:///./src/Containers/SavingsPlanner/Details/StatisticsTab/FormulaDescription/index.tsx","webpack:///./src/Containers/SavingsPlanner/Details/StatisticsTab/index.tsx","webpack:///./src/Containers/SavingsPlanner/Edit/index.js","webpack:///./src/Containers/SavingsPlanner/Details/index.js","webpack:///./src/Containers/SavingsPlanner/Details/Details.js","webpack:///./src/Containers/SavingsPlanner/List/ListItem/index.js","webpack:///./src/Components/Toolbar/ToolbarDeleteButton.js","webpack:///./src/Containers/SavingsPlanner/List/List.js","webpack:///./src/Utilities/useSelected.js","webpack:///./src/Containers/SavingsPlanner/index.tsx"],"sourcesContent":["export const actions = {\n  SET_NAME: 'SET_NAME',\n  SET_CATEGORY: 'SET_CATEGORY',\n  SET_DESCRIPTION: 'SET_DESCRIPTION',\n  SET_MANUAL_TIME: 'SET_MANUAL_TIME',\n  SET_HOSTS: 'SET_HOSTS',\n  SET_FREQUENCY_PERIOD: 'SET_FREQUENCY_PERIOD',\n  SET_TASKS: 'SET_TASKS',\n  SET_TEMPLATE_ID: 'SET_TEMPLATE_ID',\n};\n","import { useReducer } from 'react';\n\nimport { actions } from './constants';\n\nconst formatPayload = (data) => {\n  data.tasks = data.tasks.map((task, index) => ({\n    task,\n    task_order: index + 1,\n  }));\n\n  if (!data.hosts || data.hosts === '') {\n    data.hosts = 1;\n  }\n\n  // these two are fields the api expects but we don't\n  // have form elements for in the MVP.\n  data.hourly_rate = 50;\n  data.frequency_per_period = 1;\n\n  return data;\n};\n\nconst convertTasks = (tasks = []) => {\n  if (tasks?.length) {\n    return tasks\n      .sort((a, b) => a.task_order - b.task_order)\n      .map(({ task }) => task);\n  }\n  return undefined;\n};\n\nconst usePlanData = (initial) => {\n  const formReducer = (state, { type, value }) => {\n    switch (type) {\n      /* v1 api reducers */\n      case actions.SET_NAME:\n        return {\n          ...state,\n          name: value,\n        };\n      case actions.SET_CATEGORY:\n        return {\n          ...state,\n          category: value,\n        };\n      case actions.SET_DESCRIPTION:\n        return {\n          ...state,\n          description: value,\n        };\n      case actions.SET_MANUAL_TIME:\n        return {\n          ...state,\n          manual_time: value,\n        };\n\n      case actions.SET_HOSTS:\n        return {\n          ...state,\n          hosts: value,\n        };\n      case actions.SET_FREQUENCY_PERIOD:\n        return {\n          ...state,\n          frequency_period: value,\n        };\n      case actions.SET_TASKS:\n        return {\n          ...state,\n          tasks: value,\n        };\n      case actions.SET_TEMPLATE_ID:\n        return {\n          ...state,\n          template_id: value,\n        };\n      default:\n        throw new Error(\n          `usePlanData reducer action type ${type} was not found.`\n        );\n    }\n  };\n\n  const [formData, dispatch] = useReducer(formReducer, {\n    name: initial?.name || '',\n    category: initial?.category || 'system',\n    description: initial?.description || '',\n    manual_time: initial?.manual_time || 240,\n    hosts: initial?.hosts || 1,\n    frequency_period: initial?.frequency_period || 'weekly',\n    tasks: convertTasks(initial?.tasks) || [],\n    template_id: initial?.template_id || -2,\n  });\n\n  return {\n    formData,\n    requestPayload: formatPayload({ ...formData }),\n    dispatch,\n  };\n};\n\nexport default usePlanData;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Modal, Title } from '@patternfly/react-core';\nimport {\n  CheckCircleIcon as PFCheckCircleIcon,\n  ExclamationCircleIcon as PFExclamationCircleIcon,\n  ExclamationTriangleIcon as PFExclamationTriangleIcon,\n  InfoCircleIcon as PFInfoCircleIcon,\n  TimesCircleIcon as PFTimesCircleIcon,\n} from '@patternfly/react-icons';\nimport styled from 'styled-components';\n\nconst ExclamationCircleIcon = styled(PFExclamationCircleIcon)`\n  color: var(--pf-global--danger-color--100);\n`;\n\nconst TimesCircleIcon = styled(PFTimesCircleIcon)`\n  color: var(--pf-global--danger-color--100);\n`;\n\nconst InfoCircleIcon = styled(PFInfoCircleIcon)`\n  color: var(--pf-global--info-color--100);\n`;\n\nconst CheckCircleIcon = styled(PFCheckCircleIcon)`\n  color: var(--pf-global--success-color--100);\n`;\n\nconst ExclamationTriangleIcon = styled(PFExclamationTriangleIcon)`\n  color: var(--pf-global--warning-color--100);\n`;\n\nconst Header = styled.div`\n  display: flex;\n  svg {\n    margin-right: 16px;\n  }\n`;\n\nconst AlertModal = ({\n  isOpen,\n  title,\n  label = 'Alert modal',\n  variant = 'warning',\n  children,\n  ...props\n}) => {\n  const variantIcons = {\n    danger: <ExclamationCircleIcon size=\"lg\" />,\n    error: <TimesCircleIcon size=\"lg\" />,\n    info: <InfoCircleIcon size=\"lg\" />,\n    success: <CheckCircleIcon size=\"lg\" />,\n    warning: <ExclamationTriangleIcon size=\"lg\" />,\n  };\n\n  const customHeader = (\n    <Header>\n      {variant ? variantIcons[variant] : null}\n      <Title id=\"alert-modal-header-label\" size=\"2xl\" headingLevel=\"h2\">\n        {title}\n      </Title>\n    </Header>\n  );\n\n  return (\n    <Modal\n      header={customHeader}\n      aria-label={label}\n      aria-labelledby=\"alert-modal-header-label\"\n      isOpen={!!isOpen}\n      variant=\"small\"\n      title={title}\n      {...props}\n    >\n      {children}\n    </Modal>\n  );\n};\n\nAlertModal.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  variant: PropTypes.string,\n  children: PropTypes.node,\n};\n\nexport default AlertModal;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport {\n  Card as PFCard,\n  CardBody as PFCardBody,\n  ExpandableSection as PFExpandable,\n} from '@patternfly/react-core';\n\nconst Card = styled(PFCard)`\n  background-color: var(--pf-global--BackgroundColor--200);\n  overflow-wrap: break-word;\n`;\n\nconst CardBody = styled(PFCardBody)`\n  max-height: 200px;\n  overflow: scroll;\n`;\n\nconst Expandable = styled(PFExpandable)`\n  text-align: left;\n\n  & .pf-c-expandable__toggle {\n    padding-left: 10px;\n    margin-left: 5px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n`;\n\nfunction ErrorDetail({ error }) {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const handleToggle = () => {\n    setIsExpanded(!isExpanded);\n  };\n\n  return (\n    <>\n      {Array.isArray(error) && error.length && (\n        <Expandable\n          toggleText={'Details'}\n          onToggle={handleToggle}\n          isExpanded={isExpanded}\n        >\n          <Card>\n            <CardBody>\n              <ul>\n                {error.map((m) =>\n                  typeof m === 'string' ? <li key={m}>{m}</li> : null\n                )}\n              </ul>\n            </CardBody>\n          </Card>\n        </Expandable>\n      )}\n    </>\n  );\n}\n\nErrorDetail.propTypes = {\n  error: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport default ErrorDetail;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Form,\n  FormGroup,\n  Grid,\n  Select,\n  SelectOption,\n  TextInput,\n  NumberInput,\n} from '@patternfly/react-core';\n\nimport { actions } from '../../../constants';\n\nimport { isPositiveNum } from '../../../../../../Utilities/helpers';\n\nconst Details = ({ options, formData, dispatch }) => {\n  const { name, category, description, manual_time, hosts, frequency_period } =\n    formData;\n\n  const [categoryIsOpen, setCategoryIsOpen] = useState(false);\n  const [manualTimeIsOpen, setManualTimeIsOpen] = useState(false);\n  const [frequencyPeriodIsOpen, setFrequencyPeriodIsOpen] = useState(false);\n\n  return (\n    <Form>\n      {options && (\n        <Grid hasGutter md={6}>\n          <FormGroup\n            label=\"What do you want to automate?\"\n            isRequired\n            fieldId=\"name-field\"\n          >\n            <TextInput\n              isRequired\n              placeholder=\"Example: Provision NGINX server\"\n              type=\"text\"\n              id=\"name-field\"\n              name=\"name\"\n              value={name}\n              onChange={(newName) =>\n                dispatch({\n                  type: actions.SET_NAME,\n                  value: newName,\n                })\n              }\n            />\n          </FormGroup>\n          <FormGroup label=\"What type of task is it?\" fieldId=\"category-field\">\n            <Select\n              id=\"category-field\"\n              isOpen={categoryIsOpen}\n              variant={'single'}\n              aria-label={'Plan category selector'}\n              maxHeight={390}\n              onToggle={() => setCategoryIsOpen(!categoryIsOpen)}\n              onSelect={(_event, selection) => {\n                dispatch({\n                  type: actions.SET_CATEGORY,\n                  value: selection,\n                });\n                setCategoryIsOpen(false);\n              }}\n              selections={category}\n            >\n              {(options?.category || []).map(({ key, value }) => (\n                <SelectOption key={key} value={key}>\n                  {value}\n                </SelectOption>\n              ))}\n            </Select>\n          </FormGroup>\n          <FormGroup\n            label=\"Enter a description of your automation plan\"\n            fieldId=\"description-field\"\n          >\n            <TextInput\n              type=\"text\"\n              placeholder=\"Place description here\"\n              id=\"description-field\"\n              name=\"description\"\n              value={description}\n              onChange={(newDescription) =>\n                dispatch({\n                  type: actions.SET_DESCRIPTION,\n                  value: newDescription,\n                })\n              }\n            />\n          </FormGroup>\n          <FormGroup\n            label=\"How long does it take to do this manually?\"\n            fieldId=\"manual-time-field\"\n          >\n            <Select\n              id=\"manual-time-field\"\n              isOpen={manualTimeIsOpen}\n              variant={'single'}\n              placeholderText=\"Select amount\"\n              aria-label={'Plan time selector'}\n              onToggle={() => setManualTimeIsOpen(!manualTimeIsOpen)}\n              onSelect={(_event, selection) => {\n                dispatch({\n                  type: actions.SET_MANUAL_TIME,\n                  value: selection,\n                });\n                setManualTimeIsOpen(false);\n              }}\n              selections={manual_time}\n            >\n              {(options?.manual_time || []).map(({ key, value }) => (\n                <SelectOption key={key} value={key}>\n                  {value}\n                </SelectOption>\n              ))}\n            </Select>\n          </FormGroup>\n          <FormGroup\n            label=\"How many hosts do you plan to run this on?\"\n            fieldId=\"hosts-field\"\n          >\n            <NumberInput\n              inputAriaLabel=\"Number of hosts\"\n              widthChars={8}\n              onChange={(event) => {\n                if (\n                  isPositiveNum(event.target.value) ||\n                  event.target.value.length === 0\n                ) {\n                  dispatch({\n                    type: actions.SET_HOSTS,\n                    value: parseInt(event.target.value),\n                  });\n                }\n              }}\n              onMinus={() =>\n                dispatch({\n                  type: actions.SET_HOSTS,\n                  value: isPositiveNum(hosts) ? hosts - 1 : 0,\n                })\n              }\n              onPlus={() =>\n                dispatch({\n                  type: actions.SET_HOSTS,\n                  value: isPositiveNum(hosts) ? hosts + 1 : 1,\n                })\n              }\n              id=\"hosts-field\"\n              name=\"hosts\"\n              value={hosts}\n              min={0}\n            />\n          </FormGroup>\n          <FormGroup\n            label=\"How often do you do this?\"\n            fieldId=\"frequency-period-field\"\n          >\n            <Select\n              id=\"frequency-period-field\"\n              isOpen={frequencyPeriodIsOpen}\n              variant={'single'}\n              placeholderText=\"Select frequency period\"\n              aria-label={'Plan frequency period selector'}\n              onToggle={() => {\n                setFrequencyPeriodIsOpen(!frequencyPeriodIsOpen);\n              }}\n              onSelect={(_event, selection) => {\n                dispatch({\n                  type: actions.SET_FREQUENCY_PERIOD,\n                  value: selection,\n                });\n                setFrequencyPeriodIsOpen(false);\n              }}\n              selections={frequency_period}\n            >\n              {(options?.frequency_period || []).map(({ key, value }) => (\n                <SelectOption key={key} value={key}>\n                  {value}\n                </SelectOption>\n              ))}\n            </Select>\n          </FormGroup>\n        </Grid>\n      )}\n    </Form>\n  );\n};\n\nDetails.propTypes = {\n  options: PropTypes.object.isRequired,\n  formData: PropTypes.object.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default Details;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport {\n  Button,\n  DataList,\n  DataListAction,\n  DataListItem,\n  DataListCell,\n  DataListItemRow,\n  DataListControl,\n  DataListDragButton,\n  DataListItemCells,\n  Form,\n  FormGroup,\n  Grid,\n  InputGroup,\n  TextInput,\n  Title,\n} from '@patternfly/react-core';\nimport { PlusIcon, TimesIcon } from '@patternfly/react-icons';\n\nimport { actions } from '../../../constants';\n\nconst TaskSection = styled.div`\n  margin-top: 20px;\n`;\n\nconst TaskTitle = styled(Title)`\n  margin-bottom: 10px;\n`;\n\nconst TaskDeleteButton = styled(Button)`\n  padding: 0 16px;\n`;\n\nconst DeleteTaskActionSection = styled(DataListAction)`\n  padding: 6px 0;\n`;\n\nconst TaskRow = styled(DataListItemRow)`\n  align-items: center;\n`;\n\nconst Tasks = ({ tasks, dispatch }) => {\n  const setTasks = (val) => {\n    dispatch({ type: actions.SET_TASKS, value: val });\n  };\n\n  const [taskToAdd, setTaskToAdd] = useState('');\n\n  const [liveText, setLiveText] = useState('');\n  const [id, setId] = useState('');\n\n  const onDragStart = (newId) => {\n    setId(newId);\n    setLiveText(`Dragging started for task ${newId}.`);\n  };\n\n  const onDragMove = (oldIndex, newIndex) => {\n    setLiveText(\n      `Dragging task ${id}.  Task ${oldIndex} is now task ${newIndex}.`\n    );\n  };\n\n  const onDragCancel = () => {\n    setLiveText('Dragging cancelled. Tasks list order is unchanged.');\n  };\n\n  const onDragFinish = (newItemOrder) => {\n    setLiveText('Dragging finished');\n    setTasks(newItemOrder.map((val) => val.split('-').slice(0, -1).join('-')));\n  };\n\n  const appendTask = () => {\n    const trimmedTask = taskToAdd.trim();\n    if (trimmedTask !== '') {\n      setTasks([...tasks, trimmedTask]);\n      setTaskToAdd('');\n    }\n  };\n\n  const handleTextKeyDown = (e) => {\n    if (e.key && e.key === 'Enter') {\n      e.preventDefault();\n      appendTask();\n    }\n  };\n\n  const removeTask = (index) => {\n    setTasks(tasks.filter((t, idx) => idx !== index));\n  };\n\n  return (\n    <>\n      <Form>\n        <Grid hasGutter md={6}>\n          <FormGroup\n            label=\"What tasks do you need to accomplish this plan?\"\n            fieldId=\"task-field\"\n          >\n            <InputGroup>\n              <TextInput\n                placeholder=\"Enter a description of each task\"\n                type=\"text\"\n                id=\"task-field\"\n                name=\"task\"\n                value={taskToAdd}\n                onChange={(newTaskName) => setTaskToAdd(newTaskName)}\n                onKeyDown={handleTextKeyDown}\n              />\n              <Button\n                onClick={appendTask}\n                isDisabled={taskToAdd.trim() === ''}\n                variant=\"control\"\n                aria-label=\"Add task\"\n              >\n                <PlusIcon />\n              </Button>\n            </InputGroup>\n          </FormGroup>\n        </Grid>\n      </Form>\n      {tasks.length > 0 && (\n        <TaskSection>\n          <TaskTitle headingLevel=\"h4\" size=\"xl\">\n            Tasks\n          </TaskTitle>\n          <DataList\n            aria-label=\"Draggable list to reorder and remove tasks.\"\n            isCompact\n            onDragFinish={onDragFinish}\n            onDragStart={onDragStart}\n            onDragMove={onDragMove}\n            onDragCancel={onDragCancel}\n            itemOrder={tasks.map((val, idx) => `${val}-${idx}`)}\n          >\n            {tasks.map((task, index) => (\n              <DataListItem\n                aria-labelledby={`cell-${index + 1}`}\n                id={`${task}-${index}`}\n                key={index + 1}\n              >\n                <TaskRow>\n                  <DataListControl>\n                    <DataListDragButton\n                      aria-label=\"Reorder\"\n                      aria-labelledby={`cell-${index + 1}`}\n                      aria-describedby=\"Press space or enter to begin dragging, and use the arrow keys to navigate up or down. Press enter to confirm the drag, or any other key to cancel the drag operation.\"\n                      aria-pressed=\"false\"\n                    />\n                  </DataListControl>\n                  <DataListItemCells\n                    dataListCells={[\n                      <DataListCell key={index + 1}>\n                        <span id={`cell-${index + 1}`}>{`${\n                          index + 1\n                        }. ${task}`}</span>\n                      </DataListCell>,\n                    ]}\n                  />\n                  <DeleteTaskActionSection aria-label=\"Actions\">\n                    <TaskDeleteButton\n                      onClick={() => removeTask(index)}\n                      variant=\"plain\"\n                      aria-label=\"Delete\"\n                    >\n                      <TimesIcon />\n                    </TaskDeleteButton>\n                  </DeleteTaskActionSection>\n                </TaskRow>\n              </DataListItem>\n            ))}\n          </DataList>\n        </TaskSection>\n      )}\n      <div className=\"pf-screen-reader\" aria-live=\"assertive\">\n        {liveText}\n      </div>\n    </>\n  );\n};\n\nTasks.propTypes = {\n  tasks: PropTypes.array.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default Tasks;\n","import React, { useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { parse, stringify } from 'query-string';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nimport {\n  Button,\n  Form,\n  FormGroup,\n  PaginationVariant,\n} from '@patternfly/react-core';\nimport {\n  TableComposable,\n  Thead,\n  Tbody,\n  Tr,\n  Th,\n  Td,\n} from '@patternfly/react-table';\n\nimport LoadingState from '../../../../../../Components/ApiStatus/LoadingState';\nimport NoResults from '../../../../../../Components/ApiStatus/NoResults';\nimport ApiErrorState from '../../../../../../Components/ApiStatus/ApiErrorState';\nimport Pagination from '../../../../../../Components/Pagination';\n\nimport { useQueryParams } from '../../../../../../Utilities/useQueryParams';\nimport { getQSConfig } from '../../../../../../Utilities/qs';\n\nimport {\n  readJobExplorer,\n  readJobExplorerOptions,\n} from '../../../../../../Api/';\n\nimport FilterableToolbar from '../../../../../../Components/Toolbar/';\n\nimport { actions } from '../../../constants';\nimport useRequest from '../../../../../../Utilities/useRequest';\n\nconst ListFooter = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst initialQueryParams = {\n  group_by: 'template',\n  limit: 10,\n  group_by_time: false,\n  offset: 0,\n  sort_options: 'name',\n  sort_order: 'asc',\n\n  cluster_id: [],\n  inventory_id: [],\n  job_type: [],\n  org_id: [],\n  status: [],\n  template_id: [],\n};\nconst qsConfig = getQSConfig('job-explorer', { ...initialQueryParams }, [\n  'limit',\n  'offset',\n]);\n\nconst Templates = ({ template_id, dispatch: formDispatch }) => {\n  const { pathname, hash, search } = useLocation();\n  const history = useHistory();\n  const {\n    queryParams,\n    setFromPagination,\n    setFromToolbar,\n    dispatch: queryParamsDispatch,\n  } = useQueryParams(qsConfig);\n\n  const {\n    result: options,\n    error,\n    isSuccess,\n    request: fetchOptions,\n  } = useRequest(async (qp) => {\n    const { quick_date_range, sort_options, ...rest } =\n      await readJobExplorerOptions(qp);\n    return rest;\n  }, {});\n\n  const {\n    result: { templates, count },\n    isLoading: templatesIsLoading,\n    isSuccess: templatesIsSuccess,\n    request: fetchEndpoints,\n  } = useRequest(\n    useCallback(async () => {\n      const response = await readJobExplorer(queryParams);\n      return {\n        templates: response.items,\n        count: response.meta.count,\n      };\n    }, [queryParams]),\n    { templates: [], count: 0 }\n  );\n\n  const onSort = (_ev, _idx, dir) => {\n    queryParamsDispatch({\n      type: 'SET_SORT_ORDER',\n      value: { sort_order: dir },\n    });\n  };\n\n  const sortParams = {\n    sort: {\n      sortBy: {\n        direction: queryParams.sort_order,\n      },\n      onSort,\n    },\n  };\n\n  const initialSearchParams = parse(search, {\n    arrayFormat: 'bracket',\n    parseBooleans: true,\n    parseNumbers: true,\n  });\n\n  useEffect(() => {\n    history.replace({\n      pathname,\n      hash,\n      search: stringify(\n        { ...initialQueryParams, ...initialSearchParams },\n        { arrayFormat: 'bracket' }\n      ),\n    });\n  }, []);\n\n  useEffect(() => {\n    fetchOptions();\n    fetchEndpoints();\n  }, [queryParams]);\n\n  return isSuccess ? (\n    <Form>\n      <FormGroup\n        label=\"Link a template to this plan:\"\n        fieldId=\"template-link-field\"\n      >\n        <FilterableToolbar\n          categories={options}\n          filters={queryParams}\n          qsConfig={qsConfig}\n          setFilters={setFromToolbar}\n          pagination={\n            <Pagination\n              count={count}\n              params={{\n                limit: queryParams.limit,\n                offset: queryParams.offset,\n              }}\n              qsConfig={qsConfig}\n              setPagination={setFromPagination}\n              isCompact\n            />\n          }\n        />\n        {error && <ApiErrorState message={error.error} />}\n        {templatesIsLoading && <LoadingState />}\n        {templatesIsSuccess && templates.length <= 0 && <NoResults />}\n        {templatesIsSuccess && templates.length > 0 && (\n          <TableComposable aria-label=\"Template link table\" variant=\"compact\">\n            <Thead>\n              <Tr>\n                <Th />\n                <Th {...sortParams}>Name</Th>\n              </Tr>\n            </Thead>\n            <Tbody>\n              {templates.map(({ id, name }) => (\n                <Tr key={`template-detail-${id}`}>\n                  <Td\n                    data-testid={`radio-${id}`}\n                    key={`template-detail-${id}-radio-td`}\n                    select={{\n                      rowIndex: id,\n                      onSelect: (event, isSelected, value) =>\n                        formDispatch({\n                          type: actions.SET_TEMPLATE_ID,\n                          value,\n                        }),\n                      isSelected: template_id === id,\n                      variant: 'radio',\n                    }}\n                  />\n                  <Td>{name}</Td>\n                </Tr>\n              ))}\n            </Tbody>\n          </TableComposable>\n        )}\n        <ListFooter>\n          <div>\n            {template_id !== -2 && (\n              <Button\n                key=\"clear-selection-button\"\n                variant=\"link\"\n                aria-label=\"Clear selection\"\n                onClick={() => {\n                  formDispatch({\n                    type: actions.SET_TEMPLATE_ID,\n                    value: -2,\n                  });\n                }}\n              >\n                Clear selection\n              </Button>\n            )}\n          </div>\n          <Pagination\n            count={count}\n            params={{\n              limit: queryParams.limit,\n              offset: queryParams.offset,\n            }}\n            qsConfig={qsConfig}\n            setPagination={setFromPagination}\n            variant={PaginationVariant.bottom}\n          />\n        </ListFooter>\n      </FormGroup>\n    </Form>\n  ) : null;\n};\n\nTemplates.propTypes = {\n  template_id: PropTypes.number.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default Templates;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation, Redirect } from 'react-router-dom';\n\nimport {\n  Button,\n  Tooltip,\n  Wizard,\n  WizardFooter,\n  WizardContextConsumer,\n} from '@patternfly/react-core';\n\nimport { Paths } from '../../../../paths';\nimport useRequest from '../../../../Utilities/useRequest';\nimport usePlanData from '../usePlanData';\n\nimport { createPlan, updatePlan } from '../../../../Api/';\n\nimport AlertModal from '../../../../Components/AlertModal/AlertModal';\nimport ErrorDetail from '../../../../Components/ErrorDetail/ErrorDetail';\n\nimport Details from './Steps/Details';\nimport Tasks from './Steps/Tasks';\nimport Templates from './Steps/Templates';\n\nconst Form = ({ title, options, data = {} }) => {\n  const history = useHistory();\n  const { hash, pathname } = useLocation();\n  const [startStep, setStartStep] = useState(null);\n\n  const {\n    result: apiResponse,\n    error,\n    request: setData,\n  } = useRequest(\n    useCallback((requestPayload, id) => {\n      if (requestPayload) {\n        return id ? updatePlan(id, requestPayload) : createPlan(requestPayload);\n      }\n\n      // TODO this should be a promise\n      return {};\n    }, []),\n    data\n  );\n\n  const { formData, requestPayload, dispatch } = usePlanData(data);\n\n  const steps = [\n    {\n      step_number: 1,\n      id: 'details',\n      name: 'Details',\n      component: (\n        <Details options={options} formData={formData} dispatch={dispatch} />\n      ),\n    },\n    {\n      step_number: 2,\n      id: 'tasks',\n      name: 'Tasks',\n      component: <Tasks tasks={formData.tasks} dispatch={dispatch} />,\n    },\n    {\n      step_number: 3,\n      id: 'link_template',\n      name: 'Link template',\n      component: (\n        <Templates template_id={formData.template_id} dispatch={dispatch} />\n      ),\n      nextButtonText: 'Save',\n    },\n  ];\n\n  const CustomFooter = (\n    <WizardFooter>\n      <WizardContextConsumer>\n        {({ activeStep, onNext, onBack, onClose }) => {\n          if (activeStep.step_number !== 3) {\n            return (\n              <>\n                <Button variant=\"primary\" type=\"submit\" onClick={onNext}>\n                  Next\n                </Button>\n                {activeStep.step_number !== 1 && (\n                  <Button variant=\"secondary\" onClick={onBack}>\n                    Back\n                  </Button>\n                )}\n                <Button variant=\"link\" onClick={onClose}>\n                  Cancel\n                </Button>\n              </>\n            );\n          }\n          // Final step buttons\n          return (\n            <>\n              <Tooltip\n                content={\n                  !formData.name || !formData.name === ''\n                    ? 'In order to save this plan, you must enter a name in the details step'\n                    : 'Save this plan'\n                }\n                position=\"top\"\n              >\n                <div>\n                  <Button\n                    variant=\"primary\"\n                    type=\"submit\"\n                    onClick={onSave}\n                    isDisabled={!formData.name || !formData.name === ''}\n                  >\n                    Save\n                  </Button>\n                </div>\n              </Tooltip>\n              <Button variant=\"secondary\" onClick={onBack}>\n                Back\n              </Button>\n              <Button variant=\"link\" onClick={onClose}>\n                Cancel\n              </Button>\n            </>\n          );\n        }}\n      </WizardContextConsumer>\n    </WizardFooter>\n  );\n\n  useEffect(() => {\n    if (pathname.indexOf('/add') === -1 && hash) {\n      setStartStep(steps.find((step) => `#${step.id}` === hash).step_number);\n    } else {\n      history.replace({\n        hash: 'details',\n      });\n      setStartStep(1);\n    }\n  }, []);\n\n  const onStepChange = (newStep) => {\n    history.replace({\n      hash: newStep.id,\n    });\n  };\n\n  const onSave = () => {\n    setData(requestPayload, data?.id);\n  };\n\n  const onClose = () => {\n    if (location.pathname.indexOf('/edit') !== -1) {\n      history.push({\n        pathname: `${Paths.savingsPlanner}/${data?.id}`,\n      });\n    } else {\n      history.push({\n        pathname: Paths.savingsPlanner,\n      });\n    }\n  };\n\n  const reset = () => {\n    setData();\n  };\n\n  return (\n    <>\n      {!error && apiResponse?.plan_created && (\n        <Redirect\n          to={{\n            pathname: `${Paths.savingsPlanner}/${\n              apiResponse.id || apiResponse.plan_created.id\n            }`,\n            state: { reload: true },\n          }}\n        />\n      )}\n      {startStep && (\n        <Wizard\n          navAriaLabel={`${title} steps`}\n          mainAriaLabel={`${title} content`}\n          steps={steps}\n          onGoToStep={onStepChange}\n          onNext={onStepChange}\n          onBack={onStepChange}\n          onSave={onSave}\n          onClose={onClose}\n          footer={CustomFooter}\n          startAtStep={startStep}\n          height=\"calc(100vh - 240px)\"\n        />\n      )}\n      {error && (\n        <AlertModal\n          isOpen={!!error}\n          onClose={() => reset()}\n          title={'Error'}\n          variant=\"error\"\n        >\n          {'There was an error saving the plan.'}\n          <ErrorDetail error={error?.error?.detail.name} />\n        </AlertModal>\n      )}\n    </>\n  );\n};\n\nForm.propTypes = {\n  title: PropTypes.string.isRequired,\n  options: PropTypes.object.isRequired,\n  data: PropTypes.object,\n};\n\nForm.defaultProps = {\n  data: {},\n};\n\nexport default Form;\n","import React, { useCallback, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport { Card, CardBody } from '@patternfly/react-core';\n\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\n\nimport Breadcrumbs from '../../../Components/Breadcrumbs';\n\nimport { readPlanOptions } from '../../../Api/';\n\nimport Form from '../Shared/Form';\n\nimport { Paths } from '../../../paths';\nimport useRequest from '../../../Utilities/useRequest';\n\nconst Add = () => {\n  const {\n    result: options,\n    isSuccess,\n    request: fetchPlanOptions,\n  } = useRequest(\n    useCallback(() => readPlanOptions(), []),\n    {}\n  );\n\n  useEffect(() => {\n    fetchPlanOptions();\n  }, [fetchPlanOptions]);\n\n  const canWrite =\n    isSuccess &&\n    (options.meta?.rbac?.perms?.write === true ||\n      options.meta?.rbac?.perms?.all === true);\n  const title = 'Create new plan';\n\n  const showAdd = () => (\n    <>\n      <PageHeader>\n        <Breadcrumbs\n          items={[{ title: 'Savings Planner', navigate: '/savings-planner' }]}\n        />\n        <PageHeaderTitle title={title} />\n      </PageHeader>\n      <Main>\n        <Card>\n          <CardBody>\n            <Form title={title} options={options} />\n          </CardBody>\n        </Card>\n      </Main>\n    </>\n  );\n  if (isSuccess) {\n    return canWrite ? showAdd() : <Redirect to={Paths.savingsPlanner} />;\n  }\n  return null;\n};\n\nexport default Add;\n","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nimport React from 'react';\nimport { CardActions } from '@patternfly/react-core';\nimport styled from 'styled-components';\nvar CardActionsWrapper = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  margin-top: 20px;\\n  --pf-c-card__actions--PaddingLeft: 0;\\n\"], [\"\\n  margin-top: 20px;\\n  --pf-c-card__actions--PaddingLeft: 0;\\n\"])));\nvar CardActionsRow = function (_a) {\n    var children = _a.children;\n    return (React.createElement(CardActionsWrapper, null,\n        React.createElement(CardActions, null, children)));\n};\nexport default CardActionsRow;\nvar templateObject_1;\n","export async function getRelatedResourceDeleteCounts(requests) {\n  const results = {};\n  let error = null;\n  let hasCount = false;\n\n  try {\n    await Promise.all(\n      requests.map(async ({ request, label }) => {\n        const {\n          items: { count },\n        } = await request();\n        if (count > 0) {\n          results[label] = count;\n          hasCount = true;\n        }\n      })\n    );\n  } catch (err) {\n    error = err;\n  }\n\n  return {\n    results: hasCount && results,\n    error,\n  };\n}\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styled from 'styled-components';\nimport { Button, Badge, Alert, Tooltip } from '@patternfly/react-core';\nimport AlertModal from '../AlertModal';\nimport { getRelatedResourceDeleteCounts } from '../../Utilities/getRelatedResourceDeleteDetails';\nimport ErrorDetail from '../ErrorDetail';\n\nconst WarningMessage = styled(Alert)`\n  margin-top: 10px;\n`;\n\nconst Label = styled.span`\n  && {\n    margin-right: 10px;\n  }\n`;\n\nconst DeleteButton = ({\n  onConfirm,\n  modalTitle = 'Delete',\n  name = '',\n  variant = 'secondary',\n  isDisabled = false,\n  ouiaId = null,\n  deleteMessage = 'Delete?',\n  deleteDetailsRequests = [],\n  disabledTooltip = 'This item cannot be deleted',\n  children,\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [deleteMessageError, setDeleteMessageError] = useState();\n  const [deleteDetails, setDeleteDetails] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n\n  const toggleModal = async (isModalOpen) => {\n    setIsLoading(true);\n    if (deleteDetailsRequests.length > 0 && isModalOpen) {\n      const { results, error } = await getRelatedResourceDeleteCounts(\n        deleteDetailsRequests\n      );\n      if (error) {\n        setDeleteMessageError(error);\n      } else {\n        setDeleteDetails(results);\n      }\n    }\n    setIsLoading(false);\n    setIsOpen(isModalOpen);\n  };\n\n  if (deleteMessageError) {\n    return (\n      <AlertModal\n        isOpen={!!deleteMessageError}\n        variant={'error'}\n        title={'Error!'}\n        onClose={() => {\n          toggleModal(false);\n          setDeleteMessageError();\n        }}\n      >\n        <ErrorDetail error={deleteMessageError.detail} />\n      </AlertModal>\n    );\n  }\n\n  return (\n    <>\n      {disabledTooltip ? (\n        <Tooltip content={disabledTooltip} position=\"top\">\n          <div>\n            <Button\n              spinnerAriaValueText={isLoading ? 'Loading' : undefined}\n              variant={variant || 'secondary'}\n              aria-label={'Delete'}\n              isDisabled={isDisabled}\n              onClick={() => toggleModal(true)}\n              ouiaId={ouiaId}\n            >\n              {children || 'Delete'}\n            </Button>\n          </div>\n        </Tooltip>\n      ) : (\n        <Button\n          ouiaId={ouiaId}\n          spinnerAriaValueText={isLoading ? 'Loading' : undefined}\n          variant={variant || 'secondary'}\n          aria-label={'Delete'}\n          isDisabled={isDisabled}\n          onClick={() => toggleModal(true)}\n        >\n          {children || 'Delete'}\n        </Button>\n      )}\n      <AlertModal\n        isOpen={isOpen}\n        title={modalTitle}\n        variant=\"danger\"\n        onClose={() => toggleModal(false)}\n        actions={[\n          <Button\n            ouiaId=\"delete-modal-confirm\"\n            key=\"delete\"\n            variant=\"danger\"\n            aria-label={'Confirm Delete'}\n            isDisabled={isDisabled}\n            onClick={() => {\n              onConfirm();\n              toggleModal(false);\n            }}\n          >\n            {'Delete'}\n          </Button>,\n          <Button\n            ouiaId=\"delete-modal-cancel\"\n            key=\"cancel\"\n            variant=\"link\"\n            aria-label={'Cancel'}\n            onClick={() => toggleModal(false)}\n          >\n            {'Cancel'}\n          </Button>,\n        ]}\n      >\n        {'Are you sure you want to delete:'}\n        <br />\n        <strong>{name}</strong>\n        {Object.values(deleteDetails).length > 0 && (\n          <WarningMessage\n            variant=\"warning\"\n            isInline\n            title={\n              <div>\n                <div aria-label={deleteMessage}>{deleteMessage}</div>\n                <br />\n                {Object.entries(deleteDetails).map(([key, value]) => (\n                  <div aria-label={`${key}: ${value}`} key={key}>\n                    <Label>{key}</Label> <Badge>{value}</Badge>\n                  </div>\n                ))}\n              </div>\n            }\n          />\n        )}\n      </AlertModal>\n    </>\n  );\n};\n\nDeleteButton.propTypes = {\n  onConfirm: PropTypes.func.isRequired,\n  modalTitle: PropTypes.string,\n  name: PropTypes.string,\n  variant: PropTypes.object,\n  isDisabled: PropTypes.bool,\n  ouiaId: PropTypes.string,\n  deleteMessage: PropTypes.string,\n  deleteDetailsRequests: PropTypes.array,\n  disabledTooltip: PropTypes.bool,\n  children: PropTypes.node,\n};\n\nexport default DeleteButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { shape, string, number, arrayOf, node, oneOfType } from 'prop-types';\nimport { Tab, Tabs, TabTitleText } from '@patternfly/react-core';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst RoutedTabs = ({ tabsArray, defaultTabId }) => {\n  const history = useHistory();\n  const location = useLocation();\n\n  const getActiveTabId = (defaultTabId) => {\n    return (\n      tabsArray.find((tab) => tab.link === location.pathname)?.id ||\n      defaultTabId\n    );\n  };\n\n  const handleTabSelect = (_, eventKey) => {\n    const match = tabsArray.find((tab) => tab.id === eventKey);\n    if (match) {\n      history.push(match.link);\n    }\n  };\n\n  return (\n    <Tabs activeKey={getActiveTabId(defaultTabId)} onSelect={handleTabSelect}>\n      {tabsArray.map((tab) => (\n        <Tab\n          aria-label={typeof tab.name === 'string' ? tab.name : `${tab.id} tab`}\n          eventKey={tab.id}\n          key={tab.id}\n          link={tab.link}\n          title={<TabTitleText>{tab.name}</TabTitleText>}\n          role=\"tab\"\n        />\n      ))}\n    </Tabs>\n  );\n};\n\nRoutedTabs.propTypes = {\n  defaultTabId: PropTypes.number,\n  tabsArray: arrayOf(\n    shape({\n      id: number.isRequired,\n      link: string.isRequired,\n      name: oneOfType([string.isRequired, node.isRequired]),\n    })\n  ).isRequired,\n};\n\nRoutedTabs.defaultProps = {\n  defaultTabId: 1,\n};\n\nexport default RoutedTabs;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styled from 'styled-components';\nimport { Paths } from '../../../../paths';\nimport { stringify } from 'query-string';\n\nimport { useHistory, useLocation } from 'react-router-dom';\n\nimport { Button } from '@patternfly/react-core';\n\nimport {\n  CardBody as PFCardBody,\n  CardFooter,\n  DescriptionList,\n  DescriptionListTerm,\n  DescriptionListGroup,\n  DescriptionListDescription,\n  Divider as PFDivider,\n  Label,\n  List,\n  ListItem,\n} from '@patternfly/react-core';\nimport CardActionsRow from '../../../../Components/CardActionsRow';\nimport { deletePlan } from '../../../../Api/';\nimport useRequest, {\n  useDismissableError,\n} from '../../../../Utilities/useRequest';\nimport DeleteButton from '../../../../Components/DeleteButton/DeleteButton';\nimport { ExclamationCircleIcon } from '@patternfly/react-icons';\nimport { formatDateTime } from '../../../../Utilities/helpers';\nimport RoutedTabs from '../../../../Components/RoutedTabs';\nimport AlertModal from '../../../../Components/AlertModal/AlertModal';\nimport ErrorDetail from '../../../../Components/ErrorDetail/ErrorDetail';\nimport JobStatus from '../../../../Components/JobStatus';\n\nconst CardBody = styled(PFCardBody)`\n  min-height: 500px;\n  padding: 0;\n  padding-bottom: 20px;\n\n  &:first-child {\n    padding-top: 0;\n  }\n`;\n\nconst Divider = styled(PFDivider)`\n  padding-top: 24px;\n`;\n\nconst DetailsTab = ({ tabsArray, plan, canWrite, options }) => {\n  const { pathname } = useLocation();\n  const history = useHistory();\n  const {\n    id,\n    automation_status,\n    category,\n    description,\n    frequency_period,\n    hosts,\n    manual_time,\n    modified,\n    name,\n    tasks,\n    template_details,\n    template_id,\n  } = plan;\n\n  const redirectToJobExplorer = (templateId) => {\n    const { jobExplorer } = Paths;\n    const initialQueryParams = {\n      'job-explorer.quick_date_range': 'last_30_days',\n      'job-explorer.status': ['failed', 'successful'],\n      'job-explorer.template_id': templateId,\n    };\n    const search = stringify(initialQueryParams, { arrayFormat: 'bracket' });\n    history.push({\n      pathname: jobExplorer,\n      search,\n    });\n  };\n\n  const showTemplate = (template_details) => {\n    if (!template_details.id) {\n      return;\n    }\n\n    return (\n      <a onClick={() => redirectToJobExplorer(template_details.id)}>\n        {template_details.name}\n      </a>\n    );\n  };\n\n  const renderOptionsBasedValue = (key, val) => {\n    const fromOptionsValue = (options[key] || []).find(\n      ({ key: apiValue }) => apiValue === val\n    );\n    return (fromOptionsValue || {}).value;\n  };\n\n  const labelsAndValues = {\n    Name: name || undefined,\n    'Automation type': category\n      ? renderOptionsBasedValue('category', category)\n      : undefined,\n    Description: description || undefined,\n    'Manual time': manual_time\n      ? renderOptionsBasedValue('manual_time', manual_time)\n      : undefined,\n    'Run on hosts': hosts || undefined,\n    Frequency: frequency_period\n      ? renderOptionsBasedValue('frequency_period', frequency_period)\n      : undefined,\n    Template: template_id ? showTemplate(template_details) : undefined,\n    'Last job status':\n      automation_status.status && automation_status.status !== 'None' ? (\n        <JobStatus status={automation_status.status} />\n      ) : (\n        <Label variant=\"outline\" color=\"red\" icon={<ExclamationCircleIcon />}>\n          Not Running\n        </Label>\n      ),\n    'Last updated': modified ? (\n      <span>{formatDateTime(modified)}</span>\n    ) : undefined,\n  };\n\n  const { request: deletePlans, error: deleteError } = useRequest(\n    useCallback(async () => {\n      await deletePlan(id);\n      history.push(`/savings-planner`);\n    }, [id, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  return (\n    <>\n      {plan && (\n        <>\n          <CardBody>\n            <RoutedTabs tabsArray={tabsArray} />\n            <div style={{ padding: '1rem' }}>\n              <DescriptionList isHorizontal columnModifier={{ lg: '3Col' }}>\n                {Object.keys(labelsAndValues).map(\n                  (key, i) =>\n                    labelsAndValues[key] !== undefined && (\n                      <DescriptionListGroup key={i}>\n                        <DescriptionListTerm>{key}</DescriptionListTerm>\n                        <DescriptionListDescription>\n                          {labelsAndValues[key]}\n                        </DescriptionListDescription>\n                      </DescriptionListGroup>\n                    )\n                )}\n              </DescriptionList>\n              {tasks.length > 0 && (\n                <DescriptionList>\n                  <Divider component=\"div\" />\n                  <DescriptionListGroup key={tasks}>\n                    <DescriptionListTerm>Tasks</DescriptionListTerm>\n                    <DescriptionListDescription>\n                      <List component=\"ol\" type=\"1\">\n                        {tasks.map(({ id, task }) => (\n                          <ListItem key={id}>{task}</ListItem>\n                        ))}\n                      </List>\n                    </DescriptionListDescription>\n                  </DescriptionListGroup>\n                </DescriptionList>\n              )}\n            </div>\n          </CardBody>\n          {canWrite && (\n            <CardFooter>\n              <CardActionsRow>\n                <Button\n                  key=\"edit-plan-button\"\n                  variant=\"primary\"\n                  aria-label=\"Edit plan\"\n                  onClick={() => {\n                    history.push({\n                      pathname: `${pathname.split('/details')[0]}/edit`,\n                    });\n                  }}\n                >\n                  Edit\n                </Button>\n                <DeleteButton\n                  key={'delete-plan-button'}\n                  name={name}\n                  modalTitle={'Delete Plan'}\n                  onConfirm={deletePlans}\n                >\n                  {'Delete'}\n                </DeleteButton>\n              </CardActionsRow>\n              {error && (\n                <AlertModal\n                  isOpen={!!error}\n                  onClose={dismissError}\n                  title={'Error'}\n                  variant=\"error\"\n                >\n                  <ErrorDetail error={error.detail} />\n                </AlertModal>\n              )}\n            </CardFooter>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nDetailsTab.propTypes = {\n  plan: PropTypes.object,\n  tabsArray: PropTypes.array,\n  canWrite: PropTypes.bool.isRequired,\n  options: PropTypes.object.isRequired,\n};\n\nexport default DetailsTab;\n","var hoursFormatter = function (n) {\n    return (+n.toFixed(0)).toLocaleString() + \" hours\";\n}; /* 2,500 hours */\nexport default hoursFormatter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Card, CardBody, CardTitle, Title } from '@patternfly/react-core';\nimport currencyFormatter from '../../../../../Utilities/currencyFormatter';\nimport hoursFormatter from '../../../../../Utilities/hoursFormatter';\nvar TotalSavings = function (_a) {\n    var _b = _a.value, value = _b === void 0 ? 0 : _b, _c = _a.isMoney, isMoney = _c === void 0 ? true : _c;\n    return (React.createElement(Card, { isPlain: true },\n        React.createElement(CardTitle, { style: { paddingBottom: '0' } }, \"Total savings\"),\n        React.createElement(CardBody, null,\n            React.createElement(Title, { headingLevel: \"h3\", size: \"4xl\", style: { color: isMoney ? '#81C46B' : '#0063CF' } }, isMoney ? \"\" + currencyFormatter(value) : \"\" + hoursFormatter(value)))));\n};\nTotalSavings.propTypes = {\n    value: PropTypes.number,\n    isMoney: PropTypes.bool,\n};\nexport default TotalSavings;\n","import React, { useState } from 'react';\nimport { Button, ButtonVariant, CodeBlock, CodeBlockCode, Modal, ModalVariant, } from '@patternfly/react-core';\nimport { InfoCircleIcon } from '@patternfly/react-icons';\nvar CostsText = function () { return (React.createElement(React.Fragment, null,\n    React.createElement(\"p\", null,\n        React.createElement(\"strong\", null, \"Cost\")),\n    React.createElement(\"p\", null, \"The cost includes the hours spent in implementation, deployment, training and other expenditures for creating, maintaining and running the automation. These hours (cost of investment) are usually higher at the onset, and will be greatly reduced once the automation has been created and only maintenance is required.\"),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"For the initial period and the first year, we assume approximately 10 hours spent on each host, as well as some buffer time and a 40% risk adjustment to account for unforeseen situations.\"),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"For the next two years after the first year, we assume 4 hours spent on each host, as well as a 40% risk adjustment to account for unforeseen situations.\"),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"The formula used to calculate cost for the initial period and year 1:\"),\n    React.createElement(CodeBlock, null,\n        React.createElement(CodeBlockCode, null, \"C1 = (time for a manual run on one host in hours * 10) + buffer time\\nC2 = C1 * 40% risk adjustment\\ninitial cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)\\nyear 1 cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)\")),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"The formula used to calculate cost for years 2 and 3:\"),\n    React.createElement(CodeBlock, null,\n        React.createElement(CodeBlockCode, null, \"C1 = (time for a manual run on one host in hours * 4)\\nC2 = C1 * 40% risk adjustment\\nyear 2 cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)\\nyear 3 cost = (C1 + C2) * (cost per hour in USD if applicable, based on display)\")))); };\nvar SavingsText = function () { return (React.createElement(React.Fragment, null,\n    React.createElement(\"p\", null,\n        React.createElement(\"strong\", null, \"Savings\")),\n    React.createElement(\"p\", null, \"The savings indicates the time and money saved as a result of automating the plan.\"),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"We assume 50% productivity recapture to account for the productivity that is usually gained by repeated manual implementation of a task over a period of time. We also add a -5% risk adjustment for unforeseen situations that might arise and need to be handled. We also assume a 15% year over year growth in savings.\"),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"Money savings for the initial period is 0, so there is no formula necessary.\"),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"The formula used to calculate savings for year 0:\"),\n    React.createElement(CodeBlock, null,\n        React.createElement(CodeBlockCode, null, \"initial period savings = 0 - initial cost\")),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"The formula used for savings for year 1:\"),\n    React.createElement(CodeBlock, null,\n        React.createElement(CodeBlockCode, null, \"S1 = (number of hosts * (manual time in minutes / 60) * yearly frequency of automation)\\nS2 = S1 * 50% productivity recapture\\nS3 = S2 * 5% risk adjustment * (cost per hour in USD if applicable, based on display)\\nyear 1 savings = S2 - S3 - year 1 cost\")),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"The formula used to calculate savings for year 2:\"),\n    React.createElement(CodeBlock, null,\n        React.createElement(CodeBlockCode, null, \"S1 = year 1 savings * 15% growth\\nyear 2 savings = year 1 savings + S1 - year 2 cost\")),\n    React.createElement(\"br\", null),\n    React.createElement(\"p\", null, \"The formula used to calculate savings for year 3:\"),\n    React.createElement(CodeBlock, null,\n        React.createElement(CodeBlockCode, null, \"S2 = year 2 savings * 15% growth\\nyear 3 savings = year 2 savings + S2 - year 3 cost\")))); };\nvar FormulaDescription = function () {\n    var _a = useState(false), isOpen = _a[0], setIsOpen = _a[1];\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Button, { variant: \"link\", onClick: function () { return setIsOpen(true); }, icon: React.createElement(InfoCircleIcon, null) }, \"Automation formula\"),\n        React.createElement(Modal, { title: \"Automation formula\", isOpen: isOpen, onClose: function () { return setIsOpen(false); }, variant: ModalVariant.medium, actions: [\n                React.createElement(Button, { key: \"cancel\", variant: ButtonVariant.primary, onClick: function () { return setIsOpen(false); } }, \"Close\"),\n            ] },\n            React.createElement(\"p\", null, \"We use risk-adjusted factors to create the 3-year projection of cost and savings related to automation. While we aim to provide as accurate an account of the cost and savings as possible, actual values may differ in practice. The following information breaks down where we get the data, the risk-adjustment factors we use, the assumptions we make, and the formula used to compute the values as displayed in the chart.\"),\n            React.createElement(\"br\", null),\n            React.createElement(CostsText, null),\n            React.createElement(\"br\", null),\n            React.createElement(SavingsText, null))));\n};\nexport default FormulaDescription;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/no-unsafe-return */\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Card, CardActions, CardBody, CardHeader, CardTitle, Grid, GridItem, List, ListItem, ToggleGroup, ToggleGroupItem, } from '@patternfly/react-core';\nimport { SquareFullIcon } from '@patternfly/react-icons';\nimport ChartRenderer, { functions, ChartKind, ChartThemeColor, ChartType, ChartTopLevelType, ApiType, } from 'react-json-chart-builder';\nimport RoutedTabs from '../../../../Components/RoutedTabs';\nimport TotalSavings from './TotalSavings';\nimport FormulaDescription from './FormulaDescription';\nimport currencyFormatter from '../../../../Utilities/currencyFormatter';\nimport hoursFormatter from '../../../../Utilities/hoursFormatter';\nvar dataConversion = function (data) {\n    if ('series_stats' in data.projections) {\n        return data;\n    }\n    var yearConversion = {\n        initial: 'Initial',\n        year1: 'Year 1',\n        year2: 'Year 2',\n        year3: 'Year 3',\n    };\n    var seriesStats = Object.keys(yearConversion).map(function (year) { return ({\n        year: yearConversion[year],\n        total_costs: +data.projections.monetary_stats.total_costs[year],\n        total_benefits: +data.projections.monetary_stats.total_benefits[year],\n        cumulative_net_benefits: +data.projections.monetary_stats.cumulative_net_benefits[year],\n        total_hours_spent_risk_adjusted: +data.projections.time_stats.total_hours_spent_risk_adjusted[year],\n        total_hours_saved: +data.projections.time_stats.total_hours_saved[year],\n        cumulative_time_net_benefits: +data.projections.time_stats.cumulative_time_net_benefits[year],\n    }); });\n    return __assign(__assign({}, data), { projections: __assign(__assign({}, data.projections), { series_stats: seriesStats }) });\n};\nvar yearLabels = {\n    initial: 0,\n    year1: 1,\n    year2: 2,\n    year3: 3,\n};\nvar getChartData = function (data) {\n    var output = data.projections.series_stats.map(function (d) { return (__assign(__assign({}, d), { total_costs: d.total_costs * -1, total_hours_spent_risk_adjusted: d.total_hours_spent_risk_adjusted * -1 })); });\n    return {\n        items: output,\n        type: ApiType.nonGrouped,\n        response_type: '',\n    };\n};\nvar constants = function (isMoney) { return ({\n    cost: {\n        key: isMoney ? 'total_costs' : 'total_hours_spent_risk_adjusted',\n        color: '#8B8D8F',\n    },\n    benefit: {\n        key: isMoney ? 'total_benefits' : 'total_hours_saved',\n        color: isMoney ? '#81C46B' : '#0063CF',\n    },\n    net: {\n        key: isMoney ? 'cumulative_net_benefits' : 'cumulative_time_net_benefits',\n        color: '#EE7A00',\n    },\n}); };\nvar StatisticsTab = function (_a) {\n    var tabsArray = _a.tabsArray, plan = _a.plan;\n    var statsPlan = dataConversion(plan);\n    var _b = useState(true), isMoney = _b[0], setIsMoney = _b[1];\n    var customTooltipFormatting = function (datum) {\n        return isMoney ? currencyFormatter(+datum.y) : hoursFormatter(+datum.y);\n    };\n    var computeTotalSavings = function (d) {\n        return isMoney\n            ? d.projections.series_stats[yearLabels.year3].cumulative_net_benefits\n            : d.projections.series_stats[yearLabels.year3]\n                .cumulative_time_net_benefits;\n    };\n    var barChartData = {\n        charts: [\n            {\n                id: 1000,\n                kind: ChartKind.wrapper,\n                type: ChartTopLevelType.chart,\n                parent: null,\n                props: {\n                    height: 600,\n                    domainPadding: {\n                        x: 100,\n                    },\n                    padding: {\n                        bottom: 60,\n                        left: 80,\n                    },\n                    themeColor: ChartThemeColor.gray,\n                },\n                tooltip: {\n                    cursor: true,\n                    stickToAxis: 'x',\n                    mouseFollow: true,\n                    legendTooltip: {\n                        legendData: [\n                            {\n                                childName: constants(isMoney).benefit.key,\n                                name: 'Savings',\n                                symbol: {\n                                    fill: constants(isMoney).benefit.color,\n                                },\n                            },\n                            {\n                                childName: constants(isMoney).cost.key,\n                                name: 'Costs',\n                                symbol: {\n                                    fill: constants(isMoney).cost.color,\n                                },\n                            },\n                            {\n                                childName: constants(isMoney).net.key,\n                                name: 'Cumulative savings',\n                                symbol: {\n                                    fill: constants(isMoney).net.color,\n                                },\n                            },\n                        ],\n                        titleProperyForLegend: 'year',\n                    },\n                    customFnc: customTooltipFormatting,\n                },\n                xAxis: {\n                    label: 'Time',\n                },\n                yAxis: {\n                    label: isMoney ? 'Money Saved' : 'Hours Saved',\n                    tickFormat: 'formatNumberAsK',\n                    style: {\n                        grid: { stroke: '#D2D2D2' },\n                        axisLabel: { padding: 60 },\n                    },\n                },\n            },\n            {\n                id: 1001,\n                kind: ChartKind.stack,\n                parent: 1000,\n                props: {},\n            },\n            {\n                id: 1102,\n                kind: ChartKind.simple,\n                type: ChartType.bar,\n                name: constants(isMoney).benefit.key,\n                parent: 1001,\n                props: {\n                    x: 'year',\n                    y: constants(isMoney).benefit.key,\n                    barRatio: 0.8,\n                    barWidth: 0,\n                    style: {\n                        data: {\n                            fill: constants(isMoney).benefit.color,\n                            width: 120,\n                        },\n                    },\n                },\n                tooltip: {\n                    labelName: '',\n                },\n            },\n            {\n                id: 1101,\n                kind: ChartKind.simple,\n                type: ChartType.bar,\n                name: constants(isMoney).cost.key,\n                parent: 1001,\n                props: {\n                    x: 'year',\n                    y: constants(isMoney).cost.key,\n                    barRatio: 0.8,\n                    barWidth: 0,\n                    style: {\n                        data: {\n                            fill: constants(isMoney).cost.color,\n                            width: 120,\n                        },\n                    },\n                },\n                tooltip: {\n                    labelName: '',\n                },\n            },\n            {\n                id: 1002,\n                kind: ChartKind.simple,\n                type: ChartType.line,\n                name: constants(isMoney).net.key,\n                parent: 1000,\n                props: {\n                    x: 'year',\n                    y: constants(isMoney).net.key,\n                    style: {\n                        data: {\n                            stroke: constants(isMoney).net.color,\n                            strokeWidth: 5,\n                        },\n                    },\n                },\n                tooltip: {\n                    labelName: '',\n                },\n            },\n        ],\n        functions: __assign(__assign({}, functions), { fetchFnc: function () {\n                return new Promise(function (resolve) {\n                    resolve(getChartData(statsPlan));\n                });\n            } }),\n    };\n    var renderLeft = function () { return (React.createElement(Card, { isPlain: true },\n        React.createElement(CardHeader, null,\n            React.createElement(CardActions, null,\n                React.createElement(ToggleGroup, { \"aria-label\": \"toggleButton\" },\n                    React.createElement(ToggleGroupItem, { text: \"Money\", buttonId: \"money\", isSelected: isMoney, onChange: function () { return setIsMoney(true); } }),\n                    React.createElement(ToggleGroupItem, { text: \"Time\", buttonId: \"time\", isSelected: !isMoney, onChange: function () { return setIsMoney(false); } }))),\n            React.createElement(CardTitle, null, statsPlan.name)),\n        React.createElement(CardBody, null,\n            React.createElement(ChartRenderer, { schema: barChartData.charts, functions: barChartData.functions })))); };\n    var renderRight = function () { return (React.createElement(React.Fragment, null,\n        React.createElement(TotalSavings, { value: computeTotalSavings(statsPlan), isMoney: isMoney }),\n        React.createElement(Card, { isPlain: true },\n            React.createElement(CardBody, null,\n                React.createElement(List, { isPlain: true },\n                    React.createElement(ListItem, { icon: React.createElement(SquareFullIcon, { color: constants(isMoney).benefit.color }) }, \"Savings from automating this plan\"),\n                    React.createElement(ListItem, { icon: React.createElement(SquareFullIcon, { color: constants(isMoney).cost.color }) }, \"Costs from creating, maintaining and running the automation\"),\n                    React.createElement(ListItem, { icon: React.createElement(SquareFullIcon, { color: constants(isMoney).net.color }) }, \"Cumulative savings over time\")))),\n        React.createElement(FormulaDescription, null))); };\n    return (React.createElement(Card, null,\n        React.createElement(RoutedTabs, { tabsArray: tabsArray }),\n        React.createElement(Grid, null,\n            React.createElement(GridItem, { span: 9 }, renderLeft()),\n            React.createElement(GridItem, { span: 3 }, renderRight()))));\n};\nStatisticsTab.propTypes = {\n    /* eslint-disable-next-line */\n    /* @ts-ignore: Validation error */\n    plan: PropTypes.object.isRequired,\n    tabsArray: PropTypes.arrayOf(PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        link: PropTypes.string.isRequired,\n        name: PropTypes.node.isRequired,\n    }).isRequired).isRequired,\n};\nexport default StatisticsTab;\n","import React, { useCallback, useEffect } from 'react';\nimport { Redirect, useParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { readPlanOptions } from '../../../Api/';\nimport { Paths } from '../../../paths';\n\nimport Form from '../Shared/Form';\nimport useRequest from '../../../Utilities/useRequest';\n\nconst Edit = ({ data }) => {\n  const { id } = useParams();\n\n  const {\n    result: options,\n    isSuccess,\n    request: fetchPlanOptions,\n  } = useRequest(\n    useCallback(() => readPlanOptions(), []),\n    {}\n  );\n\n  useEffect(() => {\n    fetchPlanOptions();\n  }, [fetchPlanOptions]);\n\n  const canWrite =\n    isSuccess &&\n    (options?.meta?.rbac?.perms?.write === true ||\n      options?.meta?.rbac?.perms?.all === true);\n\n  const renderContent = () => {\n    if (!isSuccess) return null;\n\n    return canWrite ? (\n      <Form title=\"Edit plan\" options={options} data={data} />\n    ) : (\n      <Redirect to={`${Paths.savingsPlanner}/${id}`} />\n    );\n  };\n\n  return renderContent();\n};\n\nEdit.propTypes = {\n  data: PropTypes.object.isRequired,\n};\n\nexport default Edit;\n","import Details from './Details';\n\nexport default Details;\n","import React, { useEffect, useCallback } from 'react';\nimport {\n  useHistory,\n  useParams,\n  useLocation,\n  Route,\n  Switch,\n} from 'react-router-dom';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card } from '@patternfly/react-core';\nimport Main from '@redhat-cloud-services/frontend-components/Main';\n\nimport DetailsTab from './DetailsTab';\nimport StatisticsTab from './StatisticsTab';\nimport ApiErrorState from '../../../Components/ApiStatus/ApiErrorState';\nimport { paths as savingsPaths } from '../index';\n\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\n\nimport Breadcrumbs from '../../../Components/Breadcrumbs';\n\nimport { readPlan, readPlanOptions } from '../../../Api/';\n\nimport SavingsPlanEdit from '../Edit';\nimport useRequest from '../../../Utilities/useRequest';\n\nconst Details = () => {\n  const { id } = useParams();\n  const location = useLocation();\n  const history = useHistory();\n\n  const queryParams = { id: [id] };\n\n  let pageTitle = 'Details';\n  if (location.pathname.indexOf('/statistics') !== -1) {\n    pageTitle = 'Statistics';\n  } else if (location.pathname.indexOf('/edit') !== -1) {\n    pageTitle = 'Edit plan';\n  }\n\n  const {\n    result: options,\n    error,\n    request: fetchOptions,\n  } = useRequest(() => readPlanOptions(), {});\n\n  const {\n    result: { rbac, plan },\n    isSuccess: planIsSuccess,\n    request: fetchEndpoints,\n  } = useRequest(\n    useCallback(() => readPlan(id), [id]),\n    { plan: {}, rbac: [] }\n  );\n\n  useEffect(() => {\n    fetchOptions();\n\n    const unlisten = history.listen(({ pathname }) => {\n      if (!pathname.includes('/edit')) fetchEndpoints();\n    });\n\n    return unlisten;\n  }, []);\n\n  useEffect(() => {\n    fetchEndpoints();\n  }, [id]);\n\n  const canWrite =\n    planIsSuccess && (rbac.perms?.write === true || rbac.perms?.all === true);\n\n  const tabsArray = [\n    {\n      id: 0,\n      name: (\n        <>\n          <CaretLeftIcon />\n          {'Back to Plans'}\n        </>\n      ),\n      link: savingsPaths.get,\n    },\n    { id: 1, name: 'Details', link: savingsPaths.getDetails(id) },\n    {\n      id: 2,\n      name: 'Statistics',\n      link: `${savingsPaths.getDetails(id)}/statistics`,\n    },\n  ];\n\n  const breadcrumbsItems = planIsSuccess\n    ? [\n        { title: 'Savings Planner', navigate: savingsPaths.get },\n        { title: plan.name, navigate: savingsPaths.getDetails(id) },\n      ]\n    : [];\n\n  return (\n    <>\n      {error && <ApiErrorState message={error.error} />}\n      {planIsSuccess && (\n        <>\n          <PageHeader>\n            <Breadcrumbs items={breadcrumbsItems} />\n            <PageHeaderTitle title={pageTitle} />\n          </PageHeader>\n          <Main>\n            <Card>\n              <Switch>\n                <Route exact path=\"/savings-planner/:id/edit\">\n                  <SavingsPlanEdit data={plan} />\n                </Route>\n                <Route exact path=\"/savings-planner/:id/statistics\">\n                  <StatisticsTab\n                    tabsArray={tabsArray}\n                    plan={plan}\n                    queryParams={queryParams}\n                  />\n                </Route>\n                <Route exact path={savingsPaths.details}>\n                  <DetailsTab\n                    plan={plan}\n                    tabsArray={tabsArray}\n                    canWrite={canWrite}\n                    options={options}\n                  />\n                </Route>\n              </Switch>\n            </Card>\n          </Main>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Details;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { stringify } from 'query-string';\nimport { useHistory, Link, useRouteMatch } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport {\n  Card,\n  CardHeader,\n  CardHeaderMain,\n  CardActions,\n  CardTitle as PFCardTitle,\n  CardBody,\n  CardFooter,\n  Checkbox as PFCheckbox,\n  Dropdown,\n  DropdownItem,\n  KebabToggle,\n  Label,\n} from '@patternfly/react-core';\nimport { ExclamationCircleIcon } from '@patternfly/react-icons';\n\nimport { Paths } from '../../../../paths';\n\nimport currencyFormatter from '../../../../Utilities/currencyFormatter';\nimport { formatDateTime } from '../../../../Utilities/helpers';\n\nimport JobStatus from '../../../../Components/JobStatus';\n\nconst CardTitle = styled(PFCardTitle)`\n  word-break: break-word;\n`;\n\nconst CardLabel = styled.span`\n  margin-right: 5px;\n  font-weight: bold;\n`;\n\nconst Small = styled.small`\n  display: block;\n  margin-bottom: 10px;\n  color: #6a6e73;\n`;\n\nconst Checkbox = styled(PFCheckbox)`\n  &.pf-c-check.pf-m-standalone {\n    margin-top: -3px;\n  }\n`;\n\nconst CardDetail = styled.div`\n  display: flex;\n  min-height: 30px;\n  align-items: center;\n`;\n\nconst ListItem = ({\n  isSuccess,\n  plan,\n  selected = [],\n  handleSelect = () => {},\n  canWrite,\n  options,\n}) => {\n  const {\n    id,\n    automation_status,\n    category,\n    description,\n    frequency_period,\n    modified,\n    name,\n    template_details,\n    projections,\n  } = plan;\n\n  const projectedSavings =\n    projections?.series_stats[projections.series_stats.length - 1]\n      .cumulative_net_benefits;\n\n  const [isCardKebabOpen, setIsCardKebabOpen] = useState(false);\n  const match = useRouteMatch();\n  let history = useHistory();\n\n  const redirectToJobExplorer = (templateId) => {\n    const { jobExplorer } = Paths;\n    const initialQueryParams = {\n      'job-explorer.quick_date_range': 'last_30_days',\n      'job-explorer.status': ['failed', 'successful'],\n      'job-explorer.template_id': templateId,\n    };\n    const search = stringify(initialQueryParams, { arrayFormat: 'bracket' });\n    history.push({\n      pathname: jobExplorer,\n      search,\n    });\n  };\n\n  const renderTemplateLink = (template) => {\n    return template && isSuccess ? (\n      <a onClick={() => redirectToJobExplorer(template.id)}>{template.name}</a>\n    ) : null;\n  };\n\n  const renderOptionsBasedValue = (key, val) => {\n    return options[key].find(({ key: apiValue }) => apiValue === val).value;\n  };\n\n  const kebabDropDownItems = [\n    <React.Fragment key={id}>\n      <DropdownItem\n        key=\"edit\"\n        onClick={() => history.push(`${match.url}/${id}/edit`)}\n        position=\"right\"\n      >\n        Edit\n      </DropdownItem>\n      <DropdownItem\n        key=\"link\"\n        onClick={() => history.push(`${match.url}/${id}/edit#tasks`)}\n        position=\"right\"\n      >\n        Manage tasks\n      </DropdownItem>\n      <DropdownItem\n        key=\"link\"\n        onClick={() => history.push(`${match.url}/${id}/edit#link_template`)}\n        position=\"right\"\n      >\n        Link template\n      </DropdownItem>\n    </React.Fragment>,\n  ];\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardHeaderMain>\n          <CardTitle>\n            <Link to={`${match.url}/${id}`}>{name}</Link>\n          </CardTitle>\n        </CardHeaderMain>\n        {canWrite && (\n          <CardActions>\n            <Dropdown\n              onSelect={() => {}}\n              toggle={\n                <KebabToggle\n                  onToggle={() => setIsCardKebabOpen(!isCardKebabOpen)}\n                />\n              }\n              isOpen={isCardKebabOpen}\n              isPlain\n              dropdownItems={kebabDropDownItems}\n              position={'right'}\n            />\n            <Checkbox\n              onChange={() => handleSelect(plan)}\n              isChecked={selected.some((row) => row.id === plan.id)}\n              aria-label=\"card checkbox\"\n              id=\"check-1\"\n              name=\"check1\"\n            />\n          </CardActions>\n        )}\n      </CardHeader>\n      <CardBody>\n        {description ? <Small>{description}</Small> : null}\n        <CardDetail>\n          <CardLabel>Frequency</CardLabel>{' '}\n          {frequency_period ? (\n            renderOptionsBasedValue('frequency_period', frequency_period)\n          ) : (\n            <span>None</span>\n          )}\n        </CardDetail>\n        <CardDetail>\n          <CardLabel>Template</CardLabel>{' '}\n          {Object.keys(template_details || {}).length !== 0 ? (\n            renderTemplateLink(template_details)\n          ) : (\n            <span>\n              None -{' '}\n              <a\n                onClick={() =>\n                  history.push(`${match.url}/${id}/edit#link_template`)\n                }\n              >\n                Link template\n              </a>\n            </span>\n          )}\n        </CardDetail>\n        <CardDetail>\n          <CardLabel>Last job status</CardLabel>\n          {automation_status.status !== 'None' ? (\n            <JobStatus status={automation_status.status} />\n          ) : (\n            <Label\n              variant=\"outline\"\n              color=\"red\"\n              icon={<ExclamationCircleIcon />}\n            >\n              Not Running\n            </Label>\n          )}\n        </CardDetail>\n        {projectedSavings && (\n          <CardDetail>\n            <CardLabel>Projected savings</CardLabel>\n            <a onClick={() => history.push(`${match.url}/${id}/statistics`)}>\n              {currencyFormatter(+projectedSavings)}\n            </a>\n          </CardDetail>\n        )}\n        <CardDetail>\n          <CardLabel>Last updated</CardLabel>{' '}\n          <span>{formatDateTime(modified)}</span>\n        </CardDetail>\n      </CardBody>\n      <CardFooter>\n        <Label>{renderOptionsBasedValue('category', category)}</Label>\n      </CardFooter>\n    </Card>\n  );\n};\n\nListItem.propTypes = {\n  isSuccess: PropTypes.bool.isRequired,\n  canWrite: PropTypes.bool.isRequired,\n  selected: PropTypes.array,\n  handleSelect: PropTypes.func,\n  plan: PropTypes.object,\n  options: PropTypes.object,\n};\n\nexport default ListItem;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Tooltip } from '@patternfly/react-core';\nimport AlertModal from '../AlertModal';\n\nimport { getRelatedResourceDeleteCounts } from '../../Utilities/getRelatedResourceDeleteDetails';\n\nimport ErrorDetail from '../ErrorDetail';\n\nconst requiredField = (props) => {\n  const { name, username, image } = props;\n  if (!name && !username && !image) {\n    return new Error(\n      `One of 'name', 'username' or 'image' is required by ItemToDelete component.`\n    );\n  }\n  if (name) {\n    PropTypes.checkPropTypes(\n      {\n        name: PropTypes.string,\n      },\n      { name: props.name },\n      'prop',\n      'ItemToDelete'\n    );\n  }\n  if (username) {\n    PropTypes.checkPropTypes(\n      {\n        username: PropTypes.string,\n      },\n      { username: props.username },\n      'prop',\n      'ItemToDelete'\n    );\n  }\n  if (image) {\n    PropTypes.checkPropTypes(\n      {\n        image: PropTypes.string,\n      },\n      { image: props.image },\n      'prop',\n      'ItemToDelete'\n    );\n  }\n  return null;\n};\n\nconst ToolbarDeleteButton = ({\n  itemsToDelete,\n  pluralizedItemName = 'Items',\n  onDelete,\n  errorMessage = 'Error while deleting',\n  deleteDetailsRequests = [],\n  cannotDelete = (item) => !item,\n}) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [deleteDetails, setDeleteDetails] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [deleteMessageError, setDeleteMessageError] = useState('');\n  const handleDelete = () => {\n    onDelete();\n    toggleModal();\n  };\n\n  const toggleModal = async (isOpen) => {\n    setIsLoading(true);\n    setDeleteDetails(null);\n    if (\n      isOpen &&\n      itemsToDelete.length === 1 &&\n      deleteDetailsRequests?.length > 0\n    ) {\n      const { results, error } = await getRelatedResourceDeleteCounts(\n        deleteDetailsRequests\n      );\n\n      if (error) {\n        setDeleteMessageError(error);\n      } else {\n        setDeleteDetails(results);\n      }\n    }\n    setIsLoading(false);\n    setIsModalOpen(isOpen);\n  };\n\n  const renderTooltip = () => {\n    const itemsUnableToDelete = itemsToDelete\n      .filter(cannotDelete)\n      .map((item) => item.name || item.username)\n      .join(', ');\n\n    if (itemsToDelete.some(cannotDelete)) {\n      return (\n        <div>\n          {errorMessage ? (\n            <>\n              <span>{errorMessage}</span>\n              <span>{`: ${itemsUnableToDelete}`}</span>\n            </>\n          ) : (\n            `You do not have permission to delete ${pluralizedItemName}: ${itemsUnableToDelete}`\n          )}\n        </div>\n      );\n    }\n    if (itemsToDelete.length) {\n      return 'Delete';\n    }\n    return 'Select a plan to delete';\n  };\n\n  const modalTitle = `Delete ${pluralizedItemName}?`;\n\n  const isDisabled =\n    itemsToDelete.length === 0 || itemsToDelete.some(cannotDelete);\n\n  if (deleteMessageError) {\n    return (\n      <AlertModal\n        isOpen={!!deleteMessageError}\n        title={'Error!'}\n        onClose={() => {\n          toggleModal(false);\n          setDeleteMessageError();\n        }}\n      >\n        <ErrorDetail error={deleteMessageError.detail} />\n      </AlertModal>\n    );\n  }\n\n  return (\n    <>\n      <Tooltip content={renderTooltip()} position=\"top\">\n        <div>\n          <Button\n            variant=\"secondary\"\n            ouiaId=\"delete-button\"\n            spinnerAriaValueText={isLoading ? 'Loading' : undefined}\n            aria-label={'Delete'}\n            onClick={() => toggleModal(true)}\n            isDisabled={isDisabled}\n          >\n            {'Delete'}\n          </Button>\n        </div>\n      </Tooltip>\n\n      {isModalOpen && (\n        <AlertModal\n          variant=\"danger\"\n          title={modalTitle}\n          isOpen={isModalOpen}\n          onClose={() => toggleModal(false)}\n          actions={[\n            <Button\n              ouiaId=\"delete-modal-confirm\"\n              key=\"delete\"\n              variant=\"danger\"\n              aria-label={'confirm delete'}\n              isDisabled={Boolean(deleteDetails)}\n              onClick={handleDelete}\n            >\n              {'Delete'}\n            </Button>,\n            <Button\n              key=\"cancel\"\n              variant=\"link\"\n              aria-label={'cancel delete'}\n              onClick={() => toggleModal(false)}\n            >\n              {'Cancel'}\n            </Button>,\n          ]}\n        >\n          <div>{'This action will delete the following:'}</div>\n          {itemsToDelete.map((item) => (\n            <span key={item.id}>\n              <strong>{item.name || item.username || item.image}</strong>\n              <br />\n            </span>\n          ))}\n        </AlertModal>\n      )}\n    </>\n  );\n};\n\nToolbarDeleteButton.propTypes = {\n  itemsToDelete: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      name: requiredField,\n      username: requiredField,\n      image: requiredField,\n    })\n  ).isRequired,\n  pluralizedItemName: PropTypes.string,\n  onDelete: PropTypes.func.isRequired,\n  errorMessage: PropTypes.string,\n  warningMessage: PropTypes.node,\n  deleteDetailsRequests: PropTypes.array,\n  cannotDelete: PropTypes.func,\n  deleteMessage: PropTypes.string,\n};\n\nexport default ToolbarDeleteButton;\n","import React, { useCallback, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { Button, Gallery, PaginationVariant } from '@patternfly/react-core';\n\nimport { deletePlans, readPlanOptions, readPlans } from '../../../Api/';\nimport FilterableToolbar from '../../../Components/Toolbar';\nimport ApiErrorState from '../../../Components/ApiStatus/ApiErrorState';\nimport LoadingState from '../../../Components/ApiStatus/LoadingState';\nimport EmptyList from '../../../Components/EmptyList';\nimport Pagination from '../../../Components/Pagination';\nimport PlanCard from './ListItem';\nimport { useQueryParams } from '../../../Utilities/useQueryParams';\nimport { savingsPlanner } from '../../../Utilities/constants';\n\nimport ToolbarDeleteButton from '../../../Components/Toolbar/ToolbarDeleteButton';\nimport useSelected from '../../../Utilities/useSelected';\nimport useRequest, { useDeleteItems } from '../../../Utilities/useRequest';\nimport ErrorDetail from '../../../Components/ErrorDetail';\nimport AlertModal from '../../../Components/AlertModal';\nimport { getQSConfig } from '../../../Utilities/qs';\n\nconst PageContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 76px);\n`;\n\nconst Footer = styled.div`\n  flex-shrink: 0;\n`;\n\nconst FlexMain = styled(Main)`\n  flex-grow: 1;\n`;\nconst qsConfig = getQSConfig(\n  'savings-planner',\n  { ...savingsPlanner.defaultParams },\n  ['limit', 'offset']\n);\n\nconst List = () => {\n  const history = useHistory();\n  const { pathname } = useLocation();\n\n  // params from toolbar/searchbar\n  const { queryParams, setFromPagination, setFromToolbar } =\n    useQueryParams(qsConfig);\n\n  const {\n    result: options,\n    error,\n    isSuccess,\n    request: fetchOptions,\n  } = useRequest(\n    useCallback(() => readPlanOptions(), [queryParams]),\n    {}\n  );\n\n  const {\n    result: { data, rbac, count },\n    isLoading: itemsIsLoading,\n    isSuccess: itemsIsSuccess,\n    request: fetchEndpoints,\n  } = useRequest(\n    useCallback(async () => {\n      const response = await readPlans(queryParams);\n      return {\n        data: response.items,\n        rbac: response.rbac,\n        count: response.meta.count,\n      };\n    }, [queryParams]),\n    {\n      data: [],\n      rbac: {},\n      count: 0,\n    }\n  );\n\n  const combinedOptions = {\n    ...options,\n    name: [{ key: 'name', value: null }],\n  };\n\n  useEffect(() => {\n    fetchOptions();\n    fetchEndpoints();\n  }, [queryParams]);\n\n  const canWrite =\n    itemsIsSuccess &&\n    (rbac?.perms?.write === true || rbac?.perms?.all === true);\n\n  const { selected, handleSelect, setSelected } = useSelected(data);\n\n  const {\n    isLoading: deleteLoading,\n    deletionError,\n    deleteItems: deleteItems,\n    clearDeletionError,\n  } = useDeleteItems(deletePlans, null);\n\n  const handleDelete = async () => {\n    await deleteItems(selected.map(({ id }) => id));\n    setSelected([]);\n    fetchEndpoints();\n  };\n\n  const renderContent = () => {\n    if (error) return <ApiErrorState message={error.error} />;\n    if (itemsIsLoading || deleteLoading) return <LoadingState />;\n    if (\n      itemsIsSuccess &&\n      data.length === 0 &&\n      !(itemsIsLoading || deleteLoading)\n    )\n      return (\n        <EmptyList\n          label={'Add plan'}\n          title={'No plans found'}\n          message={\n            canWrite\n              ? 'Update the applied filters or add a new plan.'\n              : 'Update the applied filters.'\n          }\n          canAdd={canWrite}\n          path={`${pathname}/add`}\n        />\n      );\n\n    if (itemsIsSuccess && !(itemsIsLoading || deleteLoading))\n      return (\n        <Gallery\n          hasGutter\n          minWidths={{\n            sm: '307px',\n            md: '307px',\n            lg: '307px',\n            xl: '307px',\n            '2xl': '307px',\n          }}\n        >\n          {isSuccess &&\n            itemsIsSuccess &&\n            data.map((datum) => (\n              <PlanCard\n                key={datum.id}\n                isSuccess={itemsIsSuccess}\n                selected={selected}\n                plan={datum}\n                handleSelect={handleSelect}\n                canWrite={canWrite}\n                options={options}\n              />\n            ))}\n        </Gallery>\n      );\n\n    return null;\n  };\n\n  return (\n    <PageContainer>\n      <PageHeader>\n        <PageHeaderTitle title={'Savings Planner'} />\n        <FilterableToolbar\n          categories={combinedOptions}\n          filters={queryParams}\n          qsConfig={qsConfig}\n          setFilters={setFromToolbar}\n          additionalControls={[\n            ...(canWrite\n              ? [\n                  <Button\n                    key=\"add-plan-button\"\n                    variant=\"primary\"\n                    aria-label=\"Add plan\"\n                    onClick={() => {\n                      history.push({\n                        pathname: `${pathname}/add`,\n                      });\n                    }}\n                  >\n                    Add plan\n                  </Button>,\n                ]\n              : []),\n            canWrite && isSuccess && data.length > 0 && (\n              <ToolbarDeleteButton\n                key=\"delete-plan-button\"\n                onDelete={handleDelete}\n                itemsToDelete={selected}\n                pluralizedItemName={'Savings plan'}\n              />\n            ),\n          ]}\n          pagination={\n            itemsIsSuccess && data.length > 0 ? (\n              <Pagination\n                count={count}\n                params={{\n                  limit: +queryParams.limit,\n                  offset: +queryParams.offset,\n                }}\n                qsConfig={qsConfig}\n                setPagination={setFromPagination}\n                isCompact\n              />\n            ) : null\n          }\n        />\n      </PageHeader>\n      <FlexMain>{renderContent()}</FlexMain>\n      {data.length > 0 && !(itemsIsLoading || deleteLoading) && (\n        <Footer>\n          <Pagination\n            count={count}\n            params={{\n              limit: parseInt(queryParams.limit),\n              offset: parseInt(queryParams.offset),\n            }}\n            qsConfig={qsConfig}\n            setPagination={setFromPagination}\n            variant={PaginationVariant.bottom}\n          />\n        </Footer>\n      )}\n      {deletionError && (\n        <AlertModal\n          aria-label={'Deletion error'}\n          isOpen={deletionError}\n          onClose={clearDeletionError}\n          title={'Error'}\n          variant=\"error\"\n        >\n          {'Failed to delete one or more plans.'}\n          <ErrorDetail error={deletionError.detail} />\n        </AlertModal>\n      )}\n    </PageContainer>\n  );\n};\n\nexport default List;\n","import { useState } from 'react';\n\n/**\n * useSelected hook provides a way to read and update a selected list\n * Param: array of list items\n * Returns: {\n *  selected: array of selected list items\n *  isAllSelected: boolean that indicates if all items are selected\n *  handleSelect: function that adds and removes items from selected list\n *  setSelected: setter function\n * }\n */\n\nexport default function useSelected(list = []) {\n  const [selected, setSelected] = useState([]);\n  const isAllSelected = selected.length > 0 && selected.length === list.length;\n\n  const handleSelect = (row) => {\n    if (selected.some((s) => s.id === row.id)) {\n      setSelected((prevState) => [...prevState.filter((i) => i.id !== row.id)]);\n    } else {\n      setSelected((prevState) => [...prevState, row]);\n    }\n  };\n  return { selected, isAllSelected, handleSelect, setSelected };\n}\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { Paths } from '../../paths';\nimport Add from './Add';\nimport Details from './Details';\nimport List from './List';\nexport var paths = {\n    get: \"\" + Paths.savingsPlanner,\n    add: Paths.savingsPlanner + \"/add\",\n    edit: Paths.savingsPlanner + \"/:id/edit\",\n    getEdit: function (id) { return Paths.savingsPlanner + \"/\" + id + \"/edit\"; },\n    details: Paths.savingsPlanner + \"/:id\",\n    getDetails: function (id) { return Paths.savingsPlanner + \"/\" + id; },\n};\nvar SavingsPlannerRouter = function () {\n    return (React.createElement(Switch, null,\n        React.createElement(Route, { exact: true, path: paths.get },\n            React.createElement(List, null)),\n        React.createElement(Route, { exact: true, path: paths.add },\n            React.createElement(Add, null)),\n        React.createElement(Route, { path: [paths.edit, paths.details] },\n            React.createElement(Details, null))));\n};\nexport default SavingsPlannerRouter;\n"],"names":["actions","convertTasks","tasks","length","sort","a","b","task_order","map","task","ExclamationCircleIcon","styled","PFExclamationCircleIcon","TimesCircleIcon","PFTimesCircleIcon","InfoCircleIcon","PFInfoCircleIcon","CheckCircleIcon","PFCheckCircleIcon","ExclamationTriangleIcon","PFExclamationTriangleIcon","Header","AlertModal","isOpen","title","label","variant","children","props","variantIcons","danger","size","error","info","success","warning","customHeader","Title","id","headingLevel","Modal","header","propTypes","PropTypes","Card","PFCard","CardBody","PFCardBody","Expandable","PFExpandable","ErrorDetail","useState","isExpanded","setIsExpanded","Array","isArray","toggleText","onToggle","m","key","Details","options","formData","dispatch","name","category","description","manual_time","hosts","frequency_period","categoryIsOpen","setCategoryIsOpen","manualTimeIsOpen","setManualTimeIsOpen","frequencyPeriodIsOpen","setFrequencyPeriodIsOpen","Form","Grid","hasGutter","md","FormGroup","isRequired","fieldId","TextInput","placeholder","type","value","onChange","newName","Select","maxHeight","onSelect","_event","selection","selections","SelectOption","newDescription","placeholderText","NumberInput","inputAriaLabel","widthChars","event","isPositiveNum","target","parseInt","onMinus","onPlus","min","TaskSection","TaskTitle","TaskDeleteButton","Button","DeleteTaskActionSection","DataListAction","TaskRow","DataListItemRow","Tasks","setTasks","val","taskToAdd","setTaskToAdd","liveText","setLiveText","setId","appendTask","trimmedTask","trim","InputGroup","newTaskName","onKeyDown","e","preventDefault","onClick","isDisabled","DataList","isCompact","onDragFinish","newItemOrder","split","slice","join","onDragStart","newId","onDragMove","oldIndex","newIndex","onDragCancel","itemOrder","idx","index","DataListItem","DataListControl","DataListDragButton","DataListItemCells","dataListCells","DataListCell","filter","t","removeTask","className","ListFooter","initialQueryParams","group_by","limit","group_by_time","offset","sort_options","sort_order","cluster_id","inventory_id","job_type","org_id","status","template_id","qsConfig","getQSConfig","Templates","formDispatch","useLocation","pathname","hash","search","history","useHistory","useQueryParams","queryParams","setFromPagination","setFromToolbar","queryParamsDispatch","useRequest","qp","readJobExplorerOptions","quick_date_range","rest","result","isSuccess","fetchOptions","request","useCallback","readJobExplorer","response","templates","items","count","meta","templatesIsLoading","isLoading","templatesIsSuccess","fetchEndpoints","sortParams","sortBy","direction","onSort","_ev","_idx","dir","initialSearchParams","parse","arrayFormat","parseBooleans","parseNumbers","useEffect","replace","stringify","categories","filters","setFilters","pagination","Pagination","params","setPagination","ApiErrorState","message","LoadingState","NoResults","TableComposable","Thead","Tr","Th","Tbody","Td","select","rowIndex","isSelected","PaginationVariant","data","startStep","setStartStep","requestPayload","updatePlan","createPlan","apiResponse","setData","initial","useReducer","state","Error","hourly_rate","frequency_per_period","usePlanData","steps","step_number","component","nextButtonText","CustomFooter","WizardFooter","WizardContextConsumer","activeStep","onNext","onBack","onClose","Tooltip","content","position","onSave","indexOf","find","step","onStepChange","newStep","plan_created","Redirect","to","Paths","reload","Wizard","navAriaLabel","mainAriaLabel","onGoToStep","location","push","footer","startAtStep","height","detail","defaultProps","readPlanOptions","fetchPlanOptions","canWrite","rbac","perms","write","all","PageHeader","Breadcrumbs","navigate","PageHeaderTitle","Main","cooked","raw","CardActionsWrapper","templateObject_1","Object","defineProperty","_a","CardActions","getRelatedResourceDeleteCounts","requests","results","hasCount","Promise","WarningMessage","Alert","Label","DeleteButton","onConfirm","modalTitle","ouiaId","deleteMessage","deleteDetailsRequests","disabledTooltip","setIsOpen","deleteMessageError","setDeleteMessageError","deleteDetails","setDeleteDetails","setIsLoading","toggleModal","isModalOpen","spinnerAriaValueText","undefined","values","isInline","entries","Badge","RoutedTabs","tabsArray","defaultTabId","Tabs","activeKey","tab","link","getActiveTabId","_","eventKey","match","Tab","TabTitleText","role","arrayOf","shape","number","string","oneOfType","node","Divider","PFDivider","DetailsTab","plan","automation_status","modified","template_details","renderOptionsBasedValue","labelsAndValues","Name","Description","Frequency","Template","templateId","jobExplorer","redirectToJobExplorer","showTemplate","JobStatus","color","icon","formatDateTime","deletePlan","deletePlans","deleteError","useDismissableError","dismissError","style","padding","DescriptionList","isHorizontal","columnModifier","lg","keys","i","DescriptionListGroup","DescriptionListTerm","DescriptionListDescription","List","ListItem","CardFooter","n","toFixed","toLocaleString","TotalSavings","_b","_c","isMoney","isPlain","CardTitle","paddingBottom","currencyFormatter","CostsText","CodeBlock","CodeBlockCode","SavingsText","ModalVariant","ButtonVariant","__assign","assign","s","arguments","p","prototype","hasOwnProperty","call","apply","this","constants","cost","benefit","net","StatisticsTab","d","statsPlan","projections","yearConversion","year1","year2","year3","seriesStats","year","total_costs","monetary_stats","total_benefits","cumulative_net_benefits","total_hours_spent_risk_adjusted","time_stats","total_hours_saved","cumulative_time_net_benefits","series_stats","dataConversion","setIsMoney","barChartData","charts","kind","parent","domainPadding","x","bottom","left","themeColor","tooltip","cursor","stickToAxis","mouseFollow","legendTooltip","legendData","childName","symbol","fill","titleProperyForLegend","customFnc","datum","y","xAxis","yAxis","tickFormat","grid","stroke","axisLabel","barRatio","barWidth","width","labelName","strokeWidth","functions","fetchFnc","resolve","response_type","GridItem","span","CardHeader","ToggleGroup","ToggleGroupItem","text","buttonId","schema","Edit","useParams","pageTitle","readPlan","planIsSuccess","listen","includes","savingsPaths","breadcrumbsItems","Switch","Route","exact","path","PFCardTitle","CardLabel","Small","Checkbox","PFCheckbox","CardDetail","template","selected","handleSelect","projectedSavings","isCardKebabOpen","setIsCardKebabOpen","useRouteMatch","kebabDropDownItems","DropdownItem","url","CardHeaderMain","Link","Dropdown","toggle","KebabToggle","dropdownItems","isChecked","some","row","requiredField","username","image","ToolbarDeleteButton","itemsUnableToDelete","itemsToDelete","pluralizedItemName","onDelete","errorMessage","cannotDelete","item","setIsModalOpen","Boolean","warningMessage","PageContainer","Footer","FlexMain","savingsPlanner","readPlans","itemsIsLoading","itemsIsSuccess","combinedOptions","list","setSelected","isAllSelected","prevState","useSelected","useDeleteItems","deleteLoading","deletionError","deleteItems","clearDeletionError","handleDelete","additionalControls","Gallery","minWidths","sm","xl","EmptyList","canAdd","get","add","edit","getEdit","details","getDetails"],"sourceRoot":""}